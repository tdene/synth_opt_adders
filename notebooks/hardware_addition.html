<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Theory &mdash; Parallel prefix tree generation and exploration 1.2.6 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Parallel prefix tree generation and exploration
          </a>
              <div class="version">
                1.2.6
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../src/pptrees.html">pptrees package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../src/tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../src/theory.html">Theory and Discussion</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Parallel prefix tree generation and exploration</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
        
          
            <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Theory</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/tdene/synth_opt_adders/blob/main/docs/notebooks/hardware_addition.ipynb" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<p><a class="reference external" href="https://colab.research.google.com/github/googlecolab/colabtools/blob/master/notebooks/colab-github-demo.ipynb"><img alt="Open In Colab" src="https://colab.research.google.com/assets/colab-badge.svg" /></a></p>
<section id="Theory">
<h1>Theory<a class="headerlink" href="#Theory" title="Permalink to this heading">¶</a></h1>
<section id="Brief-theory-of-addition">
<h2>Brief theory of addition<a class="headerlink" href="#Brief-theory-of-addition" title="Permalink to this heading">¶</a></h2>
<section id="Importance">
<h3>Importance<a class="headerlink" href="#Importance" title="Permalink to this heading">¶</a></h3>
<p>Binary addition is one of the most used and important operations in computing.</p>
<p>For example, when booting a RISC-V processor into Linux over 2/3rds of the assembly instructions will use addition in some manner.</p>
<p>Optimizing adder hardware affects entire designs.</p>
</section>
<section id="Breakdown-of-addition">
<h3>Breakdown of addition<a class="headerlink" href="#Breakdown-of-addition" title="Permalink to this heading">¶</a></h3>
<p>Binary addition has a “local” and “non-local” component. Take the following example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  999 999 +
  000 001
  _______
1 000 000
</pre></div>
</div>
<p>Each digit of the sum depends “locally” on the corresponding digits of each input. But all digits of the sum also depend “non-locally” on all digits to the right. The <span class="math notranslate nohighlight">\(1\)</span> on the far right affects even the left-most digit of the result.</p>
<p>In math terms, for <span class="math notranslate nohighlight">\(s = a+b\)</span>, the digit <span class="math notranslate nohighlight">\(s_i\)</span> depends locally on <span class="math notranslate nohighlight">\(a_i\)</span> and <span class="math notranslate nohighlight">\(b_i\)</span>, and non-locally on all <span class="math notranslate nohighlight">\(a_j, b_j\)</span> where <span class="math notranslate nohighlight">\(i &gt; j \geq 0\)</span>.</p>
<p>The local aspect of binary addition can be resolved in parallel, in a single time-step, for every digit. Again, <span class="math notranslate nohighlight">\(s_i\)</span> depends locally only on <span class="math notranslate nohighlight">\(a_i\)</span> and <span class="math notranslate nohighlight">\(b_i\)</span>. For an <span class="math notranslate nohighlight">\(n\)</span>-bit adder, just instantiate <span class="math notranslate nohighlight">\(n\)</span> copies of the hardware, and process all bits of <span class="math notranslate nohighlight">\(a\)</span> and <span class="math notranslate nohighlight">\(b\)</span> at the same time.</p>
<p>The non-local aspect is more complex. The naïve grade-school implementation of adding one digit at a time and “carrying over the one” uses <span class="math notranslate nohighlight">\(n\)</span> time-steps. Speeding it up by doing two digits at a time can reduce that to <span class="math notranslate nohighlight">\(n/2\)</span> time-steps, but that’s still <strong>O(n)</strong>.</p>
<p><strong>O(n)</strong> is very slow. <strong>O(lg n)</strong> on the other hand is both fast and achievable.</p>
</section>
</section>
<section id="Brief-theory-of-arithmetic-operations">
<h2>Brief theory of arithmetic operations<a class="headerlink" href="#Brief-theory-of-arithmetic-operations" title="Permalink to this heading">¶</a></h2>
<section id="Arithmetic-computation-in-logarithmic-time">
<h3>Arithmetic computation in logarithmic time<a class="headerlink" href="#Arithmetic-computation-in-logarithmic-time" title="Permalink to this heading">¶</a></h3>
<p>An extensive body of literature provides a three-step recipe for speeding up non-local aspects of a computation.</p>
<ol class="arabic simple">
<li><p>Express the non-local computation of digit <span class="math notranslate nohighlight">\(i\)</span> as $Y_i = X_i ■ Y_{i-1} $. <span class="math notranslate nohighlight">\(Y\)</span> is the output, <span class="math notranslate nohighlight">\(X\)</span> is the input, <span class="math notranslate nohighlight">\(■\)</span> is some pre-determined operator.</p></li>
<li><p>Expand: <span class="math notranslate nohighlight">\(Y_i = X_i ■ X_{i-1} ■ X_{i-2} ■ \dots X_0\)</span>. Clearly this is a non-local computation: every output depends on all previous inputs, in some manner that is determined by <span class="math notranslate nohighlight">\(■\)</span>.</p></li>
<li><p>Associate: <span class="math notranslate nohighlight">\(Y_i = (X_i ■ X_{i-1}) ■ (X_{i-2} ■ \dots X_0)\)</span></p></li>
</ol>
<p>The expression in step #2 takes <span class="math notranslate nohighlight">\(i-1\)</span> steps. The expression in step #3 can take anywhere from <span class="math notranslate nohighlight">\(lg(i)\)</span> to <span class="math notranslate nohighlight">\(i-1\)</span> steps, depending on how association is performed.</p>
<p>For a concrete example, compare the following 7-step operation:</p>
<p><span class="math notranslate nohighlight">\(Y_7 = X_7 ■ (X_6 ■ (X_5 ■ (X_4 ■ (X_3 ■ (X_2 ■ (X_1 ■ X_0))))))\)</span></p>
<p>To a 3-step alternative:</p>
<p><span class="math notranslate nohighlight">\(Y_7 = (((X_7 ■ X_6) ■ (X_5 ■ X_4)) ■ ((X_3 ■ X_2) ■ (X_1 ■ X_0)))\)</span></p>
</section>
<section id="What-is-■?">
<h3>What is ■?<a class="headerlink" href="#What-is-■?" title="Permalink to this heading">¶</a></h3>
<p>There’s a simple recipe to determine ■ for any arithmetic operation, over which I am currently writing a paper.</p>
<p>It is outside the scope of this notebook.</p>
<p>Here is ■ for addition, expressed as a CMOS logic schematic:</p>
<img alt="https://drive.google.com/uc?export=view&amp;id=1O0v4RCn8GlN10Adtne98e0Ir0CU-Goqg" src="https://drive.google.com/uc?export=view&amp;id=1O0v4RCn8GlN10Adtne98e0Ir0CU-Goqg" />
</section>
<section id="Wait,-what-about-the-local-component??">
<h3>Wait, what about the local component??<a class="headerlink" href="#Wait,-what-about-the-local-component??" title="Permalink to this heading">¶</a></h3>
<p>The local component of any arithmetic operation can also be determined from a simple recipe.</p>
<p>It is less interesting than the non-local component since there is only one way to handle it within a single clock-cycle: instantiate <span class="math notranslate nohighlight">\(n\)</span> copies of the hardware and perform all the local computations in parallel in a single time-step.</p>
<p>Typically the local component is calculated separately, then combined with the non-local component at the very end of the operation to yield the final result.</p>
<p>Here is the local component for addition, expressed as a CMOS logic schematic:</p>
<img alt="https://drive.google.com/uc?export=view&amp;id=1MU_f2ygcCtwKwXS4loRUNsGU1ZL3Ksmc" src="https://drive.google.com/uc?export=view&amp;id=1MU_f2ygcCtwKwXS4loRUNsGU1ZL3Ksmc" />
</section>
<section id="How-many-ways-can-you-associate-an-expression?">
<h3>How many ways can you associate an expression?<a class="headerlink" href="#How-many-ways-can-you-associate-an-expression?" title="Permalink to this heading">¶</a></h3>
<p>An expression of <span class="math notranslate nohighlight">\(n\)</span> terms such as the one above can be associated in <span class="math notranslate nohighlight">\(C_n\)</span> ways, where <span class="math notranslate nohighlight">\(C\)</span> represents the Catalan numbers.</p>
<p>What else do the Catalan numbers represent? The number of ways different ways to draw a binary tree with <span class="math notranslate nohighlight">\(n+1\)</span> leafs.</p>
<p>That means that all such arithmetic circuits can be mapped to and from binary trees.</p>
<p>See the demo section for a full demo, or see below for a preview:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!pip install --upgrade git+https://github.com/tdene/synth_opt_adders.git
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/
Collecting git+https://github.com/tdene/synth_opt_adders.git
  Cloning https://github.com/tdene/synth_opt_adders.git to /tmp/pip-req-build-whz8wf6m
  Running command git clone -q https://github.com/tdene/synth_opt_adders.git /tmp/pip-req-build-whz8wf6m
Requirement already satisfied: networkx in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.5) (2.6.3)
Requirement already satisfied: pydot in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.5) (1.3.0)
Requirement already satisfied: graphviz in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.5) (0.10.1)
Requirement already satisfied: Pillow in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.5) (7.1.2)
Requirement already satisfied: pyparsing&gt;=2.1.4 in /usr/local/lib/python3.7/dist-packages (from pydot-&gt;pptrees==1.0.5) (3.0.9)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree
from pptrees.util import catalan
from pptrees.util import display_gif
from IPython.display import Image

possible_trees = []
width = 5
for a in range(catalan(width-1)):
  possible_trees.append(tree(width, start_point=a))

Image(display_gif(possible_trees))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_17_0.png" src="../_images/notebooks_hardware_addition_17_0.png" />
</div>
</div>
</section>
<section id="Why-is-this-huge-design-space-relevant-at-all?">
<h3>Why is this huge design space relevant at all?<a class="headerlink" href="#Why-is-this-huge-design-space-relevant-at-all?" title="Permalink to this heading">¶</a></h3>
<p>In software, a balanced tree with <span class="math notranslate nohighlight">\(lg(n)\)</span> height is often optimal. In hardware, the sacrifices needed to balance a tree to <span class="math notranslate nohighlight">\(lg(n)\)</span> height can outweigh the benefits.Sometimes it is actually faster to use a circuit that performs more sequential operations back-to-back.</p>
<p>This will be explained in detail over the course of the next section.</p>
</section>
</section>
<section id="Classic-hardware-addition">
<h2>Classic hardware addition<a class="headerlink" href="#Classic-hardware-addition" title="Permalink to this heading">¶</a></h2>
<section id="Trees-calculate-one-digit-of-the-answer.-What-calculates-the-whole-thing?">
<h3>Trees calculate one digit of the answer. What calculates the whole thing?<a class="headerlink" href="#Trees-calculate-one-digit-of-the-answer.-What-calculates-the-whole-thing?" title="Permalink to this heading">¶</a></h3>
<p>The previous section discussed the calculation of a single digit of the final answer and showed that it could be represented as a binary tree.</p>
<p>How then can the entire of the final answer be represented, with all of its digits?</p>
<p>Clasically, this is done through a tree with multiple roots, one for each digit. This structure is known as a polytree, or an <span class="math notranslate nohighlight">\(n\)</span>-rooted tree.</p>
</section>
<section id="Classic-structures">
<h3>Classic structures<a class="headerlink" href="#Classic-structures" title="Permalink to this heading">¶</a></h3>
<p>This section presents several classic adder structures.</p>
<p>The diagrams shown below are drawn in the classic style of adder literature.</p>
<p>Data flows from top to bottom. Thus the <span class="math notranslate nohighlight">\(n\)</span> roots of the tree sit at the bottom. Nodes labeled “pre” perform pre-processing logic that encodes <span class="math notranslate nohighlight">\(a\)</span> and <span class="math notranslate nohighlight">\(b\)</span> into an alternate form. Nodes labeled “post” re-compose the local and non-local aspects of binary addition into the final sum. The main body of the diagrams performs the non-local computation.</p>
</section>
<section id="Serial-structure">
<h3>Serial structure<a class="headerlink" href="#Serial-structure" title="Permalink to this heading">¶</a></h3>
<img alt="https://drive.google.com/uc?export=view&amp;id=13e1lmN7klllqSQP6t6qYmQ6x01t_Gn0M" src="https://drive.google.com/uc?export=view&amp;id=13e1lmN7klllqSQP6t6qYmQ6x01t_Gn0M" />
<p>This is the naïve implementation of adding one digit at a time and “carrying over the one”.</p>
</section>
<section id="Sklansky-structure">
<h3>Sklansky structure<a class="headerlink" href="#Sklansky-structure" title="Permalink to this heading">¶</a></h3>
<img alt="https://drive.google.com/uc?export=view&amp;id=1WCUiqWeJ9TXQusRjzz5H60joxLAlL9yj" src="https://drive.google.com/uc?export=view&amp;id=1WCUiqWeJ9TXQusRjzz5H60joxLAlL9yj" />
<p>This is a right-balanced tree.</p>
<p>The height of the tree (the number of sequential logic levels) has dropped from <span class="math notranslate nohighlight">\(n-1\)</span> to <span class="math notranslate nohighlight">\(lg(n)\)</span>, thus decreasing the delay.</p>
<p>The number of nodes has risen, thus increasing both area and power consumption.</p>
<p>However, it may be observed that some nodes drive multiple outputs. This is a concept known as <strong>fanout</strong>. Fanout directly increases delay.</p>
<img alt="https://drive.google.com/uc?export=view&amp;id=1pgwApT1IHbxymlVcvxmQjUUvpN2GR86N" src="https://drive.google.com/uc?export=view&amp;id=1pgwApT1IHbxymlVcvxmQjUUvpN2GR86N" />
</section>
<section id="Kogge-Stone-structure">
<h3>Kogge-Stone structure<a class="headerlink" href="#Kogge-Stone-structure" title="Permalink to this heading">¶</a></h3>
<img alt="https://drive.google.com/uc?export=view&amp;id=1ub-slSzP-g6Ggpj32Bk-59dVexpivcIK" src="https://drive.google.com/uc?export=view&amp;id=1ub-slSzP-g6Ggpj32Bk-59dVexpivcIK" />
<p>This is a left-balanced tree.</p>
<p>It can be seen to have minimal fanout. As such, it should be faster than the previous structure.</p>
<p>The height of the tree (the number of sequential logic levels) remains at <span class="math notranslate nohighlight">\(lg(n)\)</span>, thus decreasing the delay.</p>
<p>The number of nodes has risen, thus increasing both area and power consumption.</p>
<p>However, it may be observed that some of the gaps between the rows of nodes have multiple sets of parallel wires running through them. This concept is known as wire <strong>tracks</strong>. An increased need for wire tracks also directly increases the delay. Either the wires are placed in close proximity, and cross-coupling capacitance degrades performance, or the wires are spaced out, and the electrical signal has to deal with longer wires.</p>
</section>
<section id="Brent-Kung-structure">
<h3>Brent-Kung structure<a class="headerlink" href="#Brent-Kung-structure" title="Permalink to this heading">¶</a></h3>
<img alt="https://drive.google.com/uc?export=view&amp;id=1XY1FaMYyqFiK6ViAHSf9Ueq4-3LE0JIS" src="https://drive.google.com/uc?export=view&amp;id=1XY1FaMYyqFiK6ViAHSf9Ueq4-3LE0JIS" />
<p>This is a tree with both minimal fanout as well as minimum wire tracks.</p>
<p>However, the number of logic <strong>levels</strong> is higher than both previous examples, at <span class="math notranslate nohighlight">\(2lg(n)-1\)</span>.</p>
</section>
<section id="Trade-offs-(layers,-fan-out,-tracks)">
<h3>Trade-offs (layers, fan-out, tracks)<a class="headerlink" href="#Trade-offs-(layers,-fan-out,-tracks)" title="Permalink to this heading">¶</a></h3>
<p>The previous section asked “Why is this huge design space relevant at all?” These necessary trade-offs, between layers, fan-out, and tracks, is why the design space must be explored.</p>
<p>While both the Sklansky and Kogge-Stone structures are balanced, their fan-out and tracks reduce their actual speed in physical implementation. The fastest structure is often neither of these them.</p>
<p>Furthermore, each of these structures incurs a large cost of area and power consumption. The Brent-Kung structure, for example, still has logarithmic delay, but consumes far less power.</p>
<p>Another important point is that these circuits generate multiple output bits. In practice, not all these output bits are equally important. Exploring the design space allows for the creation of custom structures that are optimal for non-uniform timing constraints.</p>
</section>
<section id="Problems-with-classic-hardware-addition">
<h3>Problems with classic hardware addition<a class="headerlink" href="#Problems-with-classic-hardware-addition" title="Permalink to this heading">¶</a></h3>
<p>As previously mentioned, classic addition theory chooses to represent the calculation of an <span class="math notranslate nohighlight">\(n\)</span>-bit binary addition as an <span class="math notranslate nohighlight">\(n\)</span>-rooted tree in the form of the above diagrams.</p>
<p>There are several key flaws with this reasoning:</p>
<ul class="simple">
<li><p>The inputs and outputs are strangely offset by 1, requiring alien notation such as “the -1st bit of the input”.</p></li>
<li><p>The design space is restricted by assumptions such as “only one node may occupy a certain location in the diagram” or “each node must be connected to the node above it”. These are unnecessary assumptions that eliminate useful architectures.</p></li>
<li><p>It is entirely unclear what the pre-processing logic does, how it relates to the rest of the tree, and how this can be used to optimize addition.</p></li>
<li><p>It is entirely unclear what the post-processing logic does, how it relates to the rest of the tree, and how this can be used to optimize addition.</p></li>
</ul>
</section>
</section>
<section id="Revised-hardware-addition">
<h2>Revised hardware addition<a class="headerlink" href="#Revised-hardware-addition" title="Permalink to this heading">¶</a></h2>
<section id="Setup-(RUN-ME-before-executing-any-code-in-this-section)">
<h3>Setup (RUN ME before executing any code in this section)<a class="headerlink" href="#Setup-(RUN-ME-before-executing-any-code-in-this-section)" title="Permalink to this heading">¶</a></h3>
<p>If the cell below prints a warning in red telling you to “restart runtime”, please do so using the provided button.</p>
<p>This section uses the current version of the codebase.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!pip install --upgrade git+https://github.com/tdene/synth_opt_adders.git@v1.0.5
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/
Collecting git+https://github.com/tdene/synth_opt_adders.git@v1.0.5
  Cloning https://github.com/tdene/synth_opt_adders.git (to revision v1.0.5) to /tmp/pip-req-build-tw7hctk8
  Running command git clone -q https://github.com/tdene/synth_opt_adders.git /tmp/pip-req-build-tw7hctk8
<span class="ansi-yellow-fg">  WARNING: Did not find branch or tag &#39;v1.0.5&#39;, assuming revision or ref.</span>
  Running command git checkout -q v1.0.5
  error: pathspec &#39;v1.0.5&#39; did not match any file(s) known to git.
<span class="ansi-yellow-fg">WARNING: Discarding git+https://github.com/tdene/synth_opt_adders.git@v1.0.5. Command errored out with exit status 1: git checkout -q v1.0.5 Check the logs for full command output.</span>
<span class="ansi-red-fg">ERROR: Command errored out with exit status 1: git checkout -q v1.0.5 Check the logs for full command output.</span>
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree
from pptrees.AdderForest import AdderForest as forest
from pptrees.util import catalan
</pre></div>
</div>
</div>
</section>
<section id="id1">
<h3>Trees calculate one digit of the answer. What calculates the whole thing?<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<p>A circuit that calculates a single digit of the final answer is analogous to a binary tree.</p>
<p>Classic addition theory chooses to represent the calculation of an <span class="math notranslate nohighlight">\(n\)</span>-bit binary addition as an <span class="math notranslate nohighlight">\(n\)</span>-rooted tree in the form of specific diagrams.</p>
<p>Let’s instead represent <span class="math notranslate nohighlight">\(n\)</span>-bit binary addition as a non-disjoint forest of <span class="math notranslate nohighlight">\(n\)</span> trees.</p>
</section>
<section id="The-classic-structures">
<h3>The classic structures<a class="headerlink" href="#The-classic-structures" title="Permalink to this heading">¶</a></h3>
<p>Here are the classic structures from the previous section, in this representation.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Serial structure
f = forest(9)
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_50_0.png" src="../_images/notebooks_hardware_addition_50_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Sklansky structure
f = forest(9)
for t in f.trees[2:]:
  t.rbalance(t.root[1])
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_51_0.png" src="../_images/notebooks_hardware_addition_51_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Kogge-Stone structure
f = forest(9)
for t in f.trees[2:]:
  t.lbalance(t.root[1])
  t.equalize_depths(t.root[1])
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_52_0.png" src="../_images/notebooks_hardware_addition_52_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Brent-Kung structure, before the fan-out is decoupled
f = forest(9)
for t in f.trees[2:]:
  t.rbalance(t.root[1])
  # Same as Sklansky so far
  while not t.root[1][0].is_proper():
    t.right_rotate(t.root[1][0])
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_53_0.png" src="../_images/notebooks_hardware_addition_53_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># And now Brent-Kung with the fan-out decoupled
# Note that this relies on the previous cell having been run
f.calculate_fanout()
f.decouple_all_fanout(2)
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_54_0.png" src="../_images/notebooks_hardware_addition_54_0.png" />
</div>
</div>
<p>These all generate the same hardware as the structures in the previous section.</p>
<img alt="https://drive.google.com/uc?export=view&amp;id=1Gv0lAGly1fQeGrEbLMuwlNQkttaHoO7s" src="https://drive.google.com/uc?export=view&amp;id=1Gv0lAGly1fQeGrEbLMuwlNQkttaHoO7s" />
</section>
<section id="Post-classic-structures">
<h3>Post-classic structures<a class="headerlink" href="#Post-classic-structures" title="Permalink to this heading">¶</a></h3>
<p>Here are some examples of structures that are impossible to depict under the old system.</p>
<p>First, it is now known exactly how many possible structures there are (at least before the next two sections expand further).</p>
<p>Different ways of decoupling fan-out are intentionally ignored for reasons that this margin is too small to contain.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>width = 9
number_of_structures = 1
for a in range(2,width):
  number_of_structures = number_of_structures * catalan(a-2)
print(number_of_structures)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
776160
</pre></div></div>
</div>
<p>Here is one arbitrary previously-impossible structure. There are many such examples, and the next two sections will introduce even more useful ones.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f = forest(9, tree_start_points = [0, 0, 0, 1, 4, 12, 21, 47, 217])
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_61_0.png" src="../_images/notebooks_hardware_addition_61_0.png" />
</div>
</div>
</section>
</section>
<section id="Adder-specific-optimizations-[Part-I---Sparseness]">
<h2>Adder-specific optimizations [Part I - Sparseness]<a class="headerlink" href="#Adder-specific-optimizations-[Part-I---Sparseness]" title="Permalink to this heading">¶</a></h2>
<section id="id2">
<h3>Setup (RUN ME before executing any code in this section)<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<p>If the cell below prints a warning in red telling you to “restart runtime”, please do so using the provided button.</p>
<p>This section uses the current version of the codebase.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!pip install --upgrade git+https://github.com/tdene/synth_opt_adders.git
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/
Collecting git+https://github.com/tdene/synth_opt_adders.git
  Cloning https://github.com/tdene/synth_opt_adders.git to /tmp/pip-req-build-rfeopu6m
  Running command git clone -q https://github.com/tdene/synth_opt_adders.git /tmp/pip-req-build-rfeopu6m
Requirement already satisfied: networkx in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.4) (2.6.3)
Requirement already satisfied: pydot in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.4) (1.3.0)
Requirement already satisfied: graphviz in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.4) (0.10.1)
Requirement already satisfied: Pillow in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.4) (7.1.2)
Requirement already satisfied: pyparsing&gt;=2.1.4 in /usr/local/lib/python3.7/dist-packages (from pydot-&gt;pptrees==1.0.4) (3.0.9)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree
from pptrees.AdderForest import AdderForest as forest
from pptrees.util import catalan
</pre></div>
</div>
</div>
</section>
<section id="Doesn’t-everything-discussed-so-far-apply-to-any-operation,-not-just-binary-addition?">
<h3>Doesn’t everything discussed so far apply to any operation, not just binary addition?<a class="headerlink" href="#Doesn’t-everything-discussed-so-far-apply-to-any-operation,-not-just-binary-addition?" title="Permalink to this heading">¶</a></h3>
<p>Yes. It does.</p>
<p>Here are a couple of things that are less general, but still apply to a large variety of operations, including binary addition.</p>
</section>
<section id="Integrating-the-post-processing-logic-into-the-tree">
<h3>Integrating the post-processing logic into the tree<a class="headerlink" href="#Integrating-the-post-processing-logic-into-the-tree" title="Permalink to this heading">¶</a></h3>
<p>As previously mentioned, binary addition consists of a local and a non-local aspect. Post-processing logic is used to combine these into a final answer.</p>
<p>Can this post-processing also associate?</p>
<p>Yes! This is a concept well-known as sparsenesss. The normal form of the post-processing logic gate is the XOR seen below, while its associative form is the MUX seen below. Note that the two cells have nearly identical footprints, which is to say, swapping the non-associative XOR for an associative MUX can be done at little cost.</p>
<img alt="https://drive.google.com/uc?export=view&amp;id=1Gv0lAGly1fQeGrEbLMuwlNQkttaHoO7s" src="https://drive.google.com/uc?export=view&amp;id=1Gv0lAGly1fQeGrEbLMuwlNQkttaHoO7s" />
</section>
<section id="Regular-sparseness">
<h3>Regular sparseness<a class="headerlink" href="#Regular-sparseness" title="Permalink to this heading">¶</a></h3>
<p>Here is an example of a classic structure with regularly-applied sparseness of degree 1.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Sklansky structure
f = forest(9)
for t in f.trees[2:]:
  t.rbalance(t.root[1])
# Apply regular sparseness of degree 1
for a in range(len(f.trees[2:])):
  # Skip the first two trees, of widths 0 and 1
  t = f[a+2]
  # Apply sparseness every 2 trees
  if (a % 2 == 1):
    # Apply only 1 degree of sparseness
    t.left_shift(t.root[1].leftmost_leaf().parent)
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_73_0.png" src="../_images/notebooks_hardware_addition_73_0.png" />
</div>
</div>
<p>Every other tree shifts exactly 1 node onto the left side of the tree.</p>
<p>Watch the GIF carefully. Notice that each frame with sparseness applied to it makes use of the same logic as the previous frame.</p>
<p>This saves a large amount of area and power consumption, as the same sub-trees can be re-used.</p>
</section>
<section id="Regular-sparseness-of-higher-degree">
<h3>Regular sparseness of higher degree<a class="headerlink" href="#Regular-sparseness-of-higher-degree" title="Permalink to this heading">¶</a></h3>
<p>Here is an example of a classic structure with regularly-applied sparseness of degree 3, such as in Naffziger’s adder or Lynch-Swartzlander’s spanning-tree adder.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Sklansky structure
f = forest(9)
for t in f.trees[2:]:
  t.rbalance(t.root[1])
# Apply regular sparseness of degree 3
for a in range(len(f.trees[4:])):
  # Skip the first 4 trees, of widths 0, 1, 2, 3
  t = f[a+4]
  # Apply sparseness every 4 trees
  if (a % 4 != 0):
    # Apply multiple degrees of sparseness
    t.left_rotate(t.root[1])
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_77_0.png" src="../_images/notebooks_hardware_addition_77_0.png" />
</div>
</div>
<p>Every fourth tree shifts <span class="math notranslate nohighlight">\(i\%4\)</span> trees onto the left side of the tree.</p>
<p>Watch the GIF carefully. Note the 4 consecutive frames that all share the same right half of the tree. Again, this can save a large amount of area and power consumption.</p>
</section>
<section id="Irregular-sparseness">
<h3>Irregular sparseness<a class="headerlink" href="#Irregular-sparseness" title="Permalink to this heading">¶</a></h3>
<p>If sparseness can save a lot of area and power consumption by knocking out a whole section of the tree, would it not make sense to apply sparseness more aggressively on bigger trees?</p>
<p>That is to say, instead of applying sparseness every 2 or every 4 nodes, why not apply sparseness of degree 8 on trees 54 through 64, sparseness of degree 6 on trees 40 through 54, sparseness of degree 5 on tree 39 just for fun, sparseness of degree 4 on trees 20 through 39, etecetera.</p>
<p>It certainly sounds like this would be superior to regular applications of sparseness. Yet there are almost no examples of this method in literature.</p>
<p>Why? It is ridiculously hard to do by hand.</p>
<p>Luckily, I’ve made a tool that can do it.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Sklansky structure
f = forest(9)
for t in f.trees[2:]:
  t.rbalance(t.root[1])
# Apply arbitrary amounts of sparseness, for illustrative purposes
## One shift on tree 2
f[2].left_shift(f[2].root[1].leftmost_leaf().parent)
## Two shifts on tree 4
f[4].left_rotate(f[4].root[1])
## Three shifts on tree 8
f[8].left_shift(f[8].root[1].leftmost_leaf().parent)
f[8].left_shift(f[8].root[1].leftmost_leaf().parent)
f[8].left_shift(f[8].root[1].leftmost_leaf().parent)
## Avoid spoiling the next sub-section
f[8].right_rotate(f[8].root[0][0])
f[8].right_rotate(f[8].root[0][0])
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_81_0.png" src="../_images/notebooks_hardware_addition_81_0.png" />
</div>
</div>
</section>
<section id="Nested-sparseness">
<h3>Nested sparseness<a class="headerlink" href="#Nested-sparseness" title="Permalink to this heading">¶</a></h3>
<p>Viewing sparseness through the lens of this new style of adder diagrams raises an interesting question.</p>
<p>If sparseness is just the action of shifting some nodes onto the left side of the tree.</p>
<p>Can they not be shifted even further left, in a sort of “nested” sparseness?</p>
<p>Indeed they can, which leads to novel structures not previously seen in literature.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Fully-balanced tree
t = tree(16)
t.balance(t.root)
t
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_84_0.png" src="../_images/notebooks_hardware_addition_84_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Fully-balanced forest
f = forest(16)
for t in f.trees[2:]:
  t.rbalance(t.root)
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_85_0.png" src="../_images/notebooks_hardware_addition_85_0.png" />
</div>
</div>
</section>
<section id="Adder-specific?">
<h3>Adder-specific?<a class="headerlink" href="#Adder-specific?" title="Permalink to this heading">¶</a></h3>
<p>Note that this optimization is not adder-specific, but instead can be applied to any operation whose local component similarly involves a multi-plexer or some other cell with a similar footprint.</p>
<p>A simple example is a leading-zero detection circuit that feeds into a shifter. The shifter acts as the local component, allowing it to be integrated into the tree in similar fashion as with addition’s post-processing node.</p>
</section>
</section>
<section id="Adder-specific-optimizations-[Part-II---Factorization]">
<h2>Adder-specific optimizations [Part II - Factorization]<a class="headerlink" href="#Adder-specific-optimizations-[Part-II---Factorization]" title="Permalink to this heading">¶</a></h2>
<p><strong>NOTE</strong>: This is a work in progress and will not be functional until version <strong>1.1.0</strong> of the library</p>
<section id="id3">
<h3>Setup (RUN ME before executing any code in this section)<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<p>If the cell below prints a warning in red telling you to “restart runtime”, please do so using the provided button.</p>
<p>This section uses the current version of the codebase.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!pip install --upgrade git+https://github.com/tdene/synth_opt_adders.git
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/
Collecting git+https://github.com/tdene/synth_opt_adders.git
  Cloning https://github.com/tdene/synth_opt_adders.git to /tmp/pip-req-build-4pvpenzv
  Running command git clone -q https://github.com/tdene/synth_opt_adders.git /tmp/pip-req-build-4pvpenzv
Requirement already satisfied: networkx in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.5) (2.6.3)
Requirement already satisfied: pydot in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.5) (1.3.0)
Requirement already satisfied: graphviz in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.5) (0.10.1)
Requirement already satisfied: Pillow in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.5) (7.1.2)
Requirement already satisfied: pyparsing&gt;=2.1.4 in /usr/local/lib/python3.7/dist-packages (from pydot-&gt;pptrees==1.0.5) (3.0.9)
Building wheels for collected packages: pptrees
  Building wheel for pptrees (setup.py) ... done
  Created wheel for pptrees: filename=pptrees-1.0.5-py3-none-any.whl size=62245 sha256=c042ce21a9183dcaa1826ec41c68cff6d0bba214e2d59ed9d85a27ed0dec851e
  Stored in directory: /tmp/pip-ephem-wheel-cache-c2yzrpv7/wheels/46/ba/74/bbe32b722a1f52c3c3aa52fcbdb050975cb54826ed0e4f77cd
Successfully built pptrees
Installing collected packages: pptrees
Successfully installed pptrees-1.0.5
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree
from pptrees.AdderForest import AdderForest as forest
</pre></div>
</div>
</div>
</section>
<section id="Integrating-the-pre-processing-logic-into-the-tree">
<h3>Integrating the pre-processing logic into the tree<a class="headerlink" href="#Integrating-the-pre-processing-logic-into-the-tree" title="Permalink to this heading">¶</a></h3>
<p>The circuits shown so far consist of three parts:</p>
<ul class="simple">
<li><p>“pre-processing” logic, which encodes the inputs into an alternate form</p></li>
<li><p>The main body of the tree, which computes the non-local aspect of the operation</p></li>
<li><p>“post-processing” logic, which combines the non-local and local aspects of the operation</p></li>
</ul>
<p>The previous section shows a novel way of integrating the post-processing logic into the main body of the tree.</p>
<p>Is there a way to integrate the pre-processing logic into the main body of the tree?</p>
<p>In a way, yes, there is.</p>
</section>
<section id="Ling-factorization">
<h3>Ling factorization<a class="headerlink" href="#Ling-factorization" title="Permalink to this heading">¶</a></h3>
<p>An earlier section showed the following CMOS schematic of the ■ recurrence operator for addition:</p>
<img alt="https://drive.google.com/uc?export=view&amp;id=1O0v4RCn8GlN10Adtne98e0Ir0CU-Goqg" src="https://drive.google.com/uc?export=view&amp;id=1O0v4RCn8GlN10Adtne98e0Ir0CU-Goqg" />
<p>The section on the right is a two-input gate. The section on the left is a three-input gate.</p>
<p>One of the inputs to that three-input gate can be factored off onto a parallel path. Below are results of a spice simulation showing the effect this has on delay.</p>
<img alt="https://drive.google.com/uc?export=view&amp;id=1eTOBLmIOjD29-lLU9F1AemXIKTRNoeFq" src="https://drive.google.com/uc?export=view&amp;id=1eTOBLmIOjD29-lLU9F1AemXIKTRNoeFq" />
<p>Note however that moving logic onto a parallel path leads to increased area and power consumption, and vastly increased complexity which can ultimately eliminate the benefits of the delay reduction.</p>
</section>
<section id="What-is-the-Ling-factorization-expressed-in-terms-of-trees?">
<h3>What is the Ling factorization expressed in terms of trees?<a class="headerlink" href="#What-is-the-Ling-factorization-expressed-in-terms-of-trees?" title="Permalink to this heading">¶</a></h3>
<p>This factorization can be seen as a stereoscopic composition of trees.</p>
<p>Just like with 3D glasses, there is a red lens and a blue lens, and the images they create combine into the overall picture.</p>
<p>Here is the blue lens:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>t = tree(5, start_point = 2, leaf_labels = [&quot;c&quot;,&quot;g&quot;,&quot;p&quot;])
t
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_101_0.png" src="../_images/notebooks_hardware_addition_101_0.png" />
</div>
</div>
<p>Here is one possible red lens:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>t = tree(5, start_point = 6, leaf_labels = [&quot;c&quot;,&quot;p&quot;,&quot;p&quot;])
t
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_103_0.png" src="../_images/notebooks_hardware_addition_103_0.png" />
</div>
</div>
<p>These two trees can be overlaid on top of each other, like transparencies on a projector screen.</p>
<p>Their stereoscopic composition then gives rise to a new structure.</p>
</section>
<section id="Arbitrary-combination-of-Ling-and-sparseness">
<h3>Arbitrary combination of Ling and sparseness<a class="headerlink" href="#Arbitrary-combination-of-Ling-and-sparseness" title="Permalink to this heading">¶</a></h3>
<p>The framework described thus far allows for arbitrary combinations of Ling and sparseness, whereas prior work only applies them in simple, regular, fashion.</p>
<p>Such logic would be incredibly difficult to design by hand. Luckily, a tool exists that can automatically do it.</p>
</section>
<section id="id4">
<h3>Adder-specific?<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h3>
<p>Note that this optimization is not adder-specific, but instead can be applied to any operation where a similar factorization can be performed.</p>
<p>A simple example is a leading-zero detection circuit.</p>
</section>
</section>
</section>
<section id="Generating-every-possible-adder-[Demo-and-User-Guide]">
<h1>Generating every possible adder [Demo and User-Guide]<a class="headerlink" href="#Generating-every-possible-adder-[Demo-and-User-Guide]" title="Permalink to this heading">¶</a></h1>
<section id="id5">
<h2>Setup (RUN ME before executing any code in this section)<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!pip install --upgrade git+https://github.com/tdene/synth_opt_adders.git@v1.0.5
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/
Collecting git+https://github.com/tdene/synth_opt_adders.git@v1.0.5
  Cloning https://github.com/tdene/synth_opt_adders.git (to revision v1.0.5) to /tmp/pip-req-build-b6dtl5ix
  Running command git clone -q https://github.com/tdene/synth_opt_adders.git /tmp/pip-req-build-b6dtl5ix
  Running command git checkout -q cbf5e7e8d9b501bb501fefdd463f1ff3b9644a60
Requirement already satisfied: networkx in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.5) (2.6.3)
Requirement already satisfied: pydot in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.5) (1.3.0)
Requirement already satisfied: graphviz in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.5) (0.10.1)
Requirement already satisfied: Pillow in /usr/local/lib/python3.7/dist-packages (from pptrees==1.0.5) (7.1.2)
Requirement already satisfied: pyparsing&gt;=2.1.4 in /usr/local/lib/python3.7/dist-packages (from pydot-&gt;pptrees==1.0.5) (3.0.9)
Building wheels for collected packages: pptrees
  Building wheel for pptrees (setup.py) ... done
  Created wheel for pptrees: filename=pptrees-1.0.5-py3-none-any.whl size=61676 sha256=70d579f4abaf34513e5953ff6619bd02d973061273e993cccbc1defe6825c4b3
  Stored in directory: /tmp/pip-ephem-wheel-cache-yb5o7368/wheels/c6/3a/84/a6f13e63cee175e7643641f543504123889d15ad88285c95db
Successfully built pptrees
Installing collected packages: pptrees
Successfully installed pptrees-1.0.5
</pre></div></div>
</div>
</section>
<section id="Trees-[structures-that-generate-one-bit-of-the-result]">
<h2>Trees [structures that generate one bit of the result]<a class="headerlink" href="#Trees-[structures-that-generate-one-bit-of-the-result]" title="Permalink to this heading">¶</a></h2>
<section id="Generating-a-classic-structure-[LEGACY]">
<h3>Generating a classic structure [LEGACY]<a class="headerlink" href="#Generating-a-classic-structure-[LEGACY]" title="Permalink to this heading">¶</a></h3>
<p>Note: these cells are shown simply for illustrative purposes. Many of the functions used here-in are <strong>legacy</strong> functions, supported only for backwards compatibility with past diagrams and methods. The code in this section should be avoided in production.</p>
<p>The theory section discusses four classic, regular, structures. These architectures can be readily generated under this library using aliases. Note again that the “alias” parameter is legacy, supported only for backwards compatibility.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree

width = 15
t = tree(width, alias = &quot;ripple-carry&quot;)
t
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_115_0.png" src="../_images/notebooks_hardware_addition_115_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree

width = 15
t = tree(width, alias = &quot;sklansky&quot;)
t
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_116_0.png" src="../_images/notebooks_hardware_addition_116_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree

width = 15
t = tree(width, alias = &quot;kogge-stone&quot;)
t
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_117_0.png" src="../_images/notebooks_hardware_addition_117_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree

width = 15
t = tree(width, alias = &quot;brent-kung&quot;)
t
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_118_0.png" src="../_images/notebooks_hardware_addition_118_0.png" />
</div>
</div>
</section>
<section id="How-many-possible-trees-are-there?">
<h3>How many possible trees are there?<a class="headerlink" href="#How-many-possible-trees-are-there?" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.util import catalan

width = 6
print(&quot;There are {0} possible trees of width {1}&quot;.format(catalan(width-1),width))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
There are 42 possible trees of width 6
</pre></div></div>
</div>
</section>
<section id="What-do-all-of-these-trees-look-like?">
<h3>What do all of these trees look like?<a class="headerlink" href="#What-do-all-of-these-trees-look-like?" title="Permalink to this heading">¶</a></h3>
<p>Note that while generating the tree structures is fast, generating the GIF can be very slow.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree
from pptrees.util import catalan

width = 6
# Generate all trees of width 9
list_of_trees=[]
for a in range(catalan(width-1)):
  t = tree(width, start_point = a)
  list_of_trees.append(t)

# Visualize the trees in GIF form
from pptrees.util import display_gif as display_gif
from IPython.display import Image

Image(display_gif(list_of_trees))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_123_0.png" src="../_images/notebooks_hardware_addition_123_0.png" />
</div>
</div>
</section>
<section id="How-do-I-get-the-tree-that-I-want?">
<h3>How do I get the tree that I want?<a class="headerlink" href="#How-do-I-get-the-tree-that-I-want?" title="Permalink to this heading">¶</a></h3>
<p>The number of total possible trees is known. Thus it is possible to assign an integer ID to every possible structure. The labeling I chose is based on an order that naturally arose out of my framework.<em>If you, reader, happen to know the name of this specific tree traversal, please contact me as I’ve so far been unable to find it in literature.</em></p>
<p>To get a desired structure, simply initialize it with its label.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree
from pptrees.util import catalan

width = 33
# First, check the total number of structures
print(&quot;There are {0} possible trees of width {1}&quot;.format(catalan(width-1),width))
print(&quot;Here is one of them:&quot;)

t = tree(width, start_point = 33416136136136512)
t
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
There are 55534064877048198 possible trees of width 33
Here is one of them:
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_126_1.png" src="../_images/notebooks_hardware_addition_126_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print(&quot;Here is another one:&quot;)

t = tree(width, start_point = catalan(width-2)//2)
t
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Here is another one:
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_127_1.png" src="../_images/notebooks_hardware_addition_127_1.png" />
</div>
</div>
<p>This order begins and ends with slower, <strong>O(n)</strong>, structures. In the middle are better-balanced, <strong>O(lg n)</strong>. However, each of these possible structures has useful delay, power, or area characteristics when viewed as a part of the complete adder (forest) structure.</p>
</section>
<section id="Okay,-I-have-a-tree.-How-do-I-make-it-faster?">
<h3>Okay, I have a tree. How do I make it faster?<a class="headerlink" href="#Okay,-I-have-a-tree.-How-do-I-make-it-faster?" title="Permalink to this heading">¶</a></h3>
<p><strong>Theory</strong></p>
<p>In general, for the tree to be faster, it must be more balanced. Keep in mind, however, that the speed of each individual tree is greatly affected by the forest it is a part of.</p>
<p>If every tree in a forest is left-balanced (more commonly known as “complete”), theoretically each of the individual trees will be very fast, but as part of the greater forest they will each incur a delay penalty due to a large amount of necessary routing tracks.</p>
<p>If each tree in a forest is right-balanced, theoretically each of the individual trees will be very fast, but as part of the greater forest they will each incur a delay penalty due to a large amount of fan-out.</p>
<p><strong>Application</strong></p>
<p>The library supports four methods of transforming trees.</p>
<ul class="simple">
<li><p>left_rotate - Rotates a given node left</p></li>
<li><p>right_rotate - Rotates a given node right</p></li>
<li><p>left_shift - Shifts a given node left into another subtree; the equivalent of AVL trees’ RL rotate, except this is a generalized RRRRRRRR…L rotate.</p></li>
<li><p>right_shift - Shifts a given node right into another subtree; the equivalent of AVL trees’ LR rotate, except this is a generalized LLLLLLLL…R rotate.</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree
from pptrees.util import catalan

width = 10
# First, check the total number of structures
print(&quot;There are {0} possible trees of width {1}&quot;.format(catalan(width-1),width))

# Start at some initial point
t = tree(width, start_point = 209)
t
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
There are 4862 possible trees of width 10
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_132_1.png" src="../_images/notebooks_hardware_addition_132_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Speed up the tree
t = tree(width, start_point = 209)

t.right_rotate(t.root[1][1][1][1][0])
t.left_rotate(t.root[1][1][1][1])
t
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_133_0.png" src="../_images/notebooks_hardware_addition_133_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Or do it with a left-shift (RL rotate)
t = tree(width, start_point = 209)

t.left_shift(t.root[1][1][1][1][0])
t
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_134_0.png" src="../_images/notebooks_hardware_addition_134_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Balance the tree even more by using sparseness
t = tree(width, start_point = 209)

t.left_shift(t.root[1][1][1][1][0])
t.left_shift(t.root[1])
t
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_135_0.png" src="../_images/notebooks_hardware_addition_135_0.png" />
</div>
</div>
</section>
<section id="Okay,-now-how-do-I-make-a-tree-more-power-efficient?-Or-smaller?">
<h3>Okay, now how do I make a tree more power-efficient? Or smaller?<a class="headerlink" href="#Okay,-now-how-do-I-make-a-tree-more-power-efficient?-Or-smaller?" title="Permalink to this heading">¶</a></h3>
<p><strong>Theory</strong></p>
<p>Both area and power consumption are determined primarily not by an individual tree, but rather by the forest it is a part of.</p>
<p>Both area and power consumption fall with an increasing number of shared nodes between trees. That is why serial adders have smaller area than parallel ones, and why the Brent-Kung structure has smaller area than the Kogge-Stone one.</p>
<p>In general, the further right-balanced a tree is, the more nodes it is able to share. This is however just a rule of thumb.</p>
<p><strong>Application</strong></p>
<p>See the following example.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Let&#39;s say we only want the 6th and 7th bit of a sum.

from pptrees.AdderTree import AdderTree as tree
from pptrees.util import catalan

width_big = 7
width_small = 6
# First, check the total number of structures
print(&quot;There are {0} possible trees of width {1}&quot;.format(catalan(width_big-1),width_big))
print(&quot;There are {0} possible trees of width {1}&quot;.format(catalan(width_small-1),width_small))

# Next, initialize two random trees
t_big = tree(width_big, start_point = 72)
t_small = tree(width_small, start_point = 12)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
There are 132 possible trees of width 7
There are 42 possible trees of width 6
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>t_big
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_139_0.png" src="../_images/notebooks_hardware_addition_139_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>t_small
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_140_0.png" src="../_images/notebooks_hardware_addition_140_0.png" />
</div>
</div>
<p>Note that these two trees have no nodes in common. Let’s give them some.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>t_small = tree(width_small, start_point = 12)
# Make the left-hand side of the trees similar
t_small.right_rotate(t_small.root[1][0])
t_small.right_shift(t_small.root[1][0][1])
t_small
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_142_0.png" src="../_images/notebooks_hardware_addition_142_0.png" />
</div>
</div>
<p>The two trees have gone from sharing 0 nodes, to sharing 2 nodes. Area and power consumption has been reduced.</p>
<p>We can visualize the shared nodes by creating a make-shift forest and using its methods.</p>
<p>The nodes that have been painted partially red in t_small are shared between the two trees. Note that the equivalent nodes in t_big have not been painted red. This is intentional. The red marks nodes that need not be implemented in hardware. Shared nodes only need to be implemented in hardware once, but they still need to be implemented that one time.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderForest import AdderForest as forest
f = forest(2, initialized_trees=[t_big, t_small])
f.reset_equivalent_nodes()
f.find_equivalent_nodes()
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_144_0.png" src="../_images/notebooks_hardware_addition_144_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f.reset_equivalent_nodes()
</pre></div>
</div>
</div>
<p>Let’s go even further</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>t_big = tree(width_big, start_point = 72)
# Make the right-hand side of the trees similar
t_big.right_shift(t_big.root[0][0][1])
t_big
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_147_0.png" src="../_images/notebooks_hardware_addition_147_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f = forest(2, initialized_trees=[t_big, t_small])
f.find_equivalent_nodes()
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_148_0.png" src="../_images/notebooks_hardware_addition_148_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f.reset_equivalent_nodes()
</pre></div>
</div>
</div>
<p>The two trees now share 3 nodes. Also, t_big is now more balanced! Let’s make t_small a bit more balanced as well.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>t_small = tree(width_small, start_point = 12)
# Make the left-hand side of the trees similar
t_small.right_rotate(t_small.root[1][0])
t_small.right_shift(t_small.root[1][0][1])
# Reduce the height of t_small
t_small.left_rotate(t_small.root[1])
t_small
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_151_0.png" src="../_images/notebooks_hardware_addition_151_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f = forest(2, initialized_trees=[t_big, t_small])
f.find_equivalent_nodes()
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_152_0.png" src="../_images/notebooks_hardware_addition_152_0.png" />
</div>
</div>
<p>The two trees share 3 nodes still. The only way they could share more would be by making both of them serial.</p>
<p>Moreover, the two trees are both balanced, with <strong>O(lg n)</strong> delay.</p>
<p>This appears to be a good structure.</p>
</section>
<section id="How-do-I-get-the-ID-of-a-tree-after-I’ve-modified-it?">
<h3>How do I get the ID of a tree after I’ve modified it?<a class="headerlink" href="#How-do-I-get-the-ID-of-a-tree-after-I’ve-modified-it?" title="Permalink to this heading">¶</a></h3>
<p>The “rank” method gets the ID of a tree, while the “unrank” method creates a tree given a certain ID</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Let&#39;s say we only want the 6th and 7th bit of a sum.

from pptrees.AdderTree import AdderTree as tree
from pptrees.util import catalan

width_big = 7
width_small = 6
# First, check the total number of structures
print(&quot;There are {0} possible trees of width {1}&quot;.format(catalan(width_big-1),width_big))
print(&quot;There are {0} possible trees of width {1}&quot;.format(catalan(width_small-1),width_small))

# Next, initialize two random trees
t_big = tree(width_big, start_point = 72)
t_small = tree(width_small, start_point = 12)

# Make the right-hand side of the trees similar
t_big.right_shift(t_big.root[0][0][1])

# Make the left-hand side of the trees similar
t_small.right_rotate(t_small.root[1][0])
t_small.right_shift(t_small.root[1][0][1])
# Reduce the height of t_small
t_small.left_rotate(t_small.root[1])

print(&quot;The rank (ID) of the big tree is {0}&quot;.format(t_big.rank()))
print(&quot;The rank (ID) of the small tree is {0}&quot;.format(t_small.rank()))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
There are 132 possible trees of width 7
There are 42 possible trees of width 6
The rank (ID) of the big tree is 70
The rank (ID) of the small tree is 19
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>t = tree(width_big, start_point = 70)
t
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_157_0.png" src="../_images/notebooks_hardware_addition_157_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>t = tree(width_big, start_point = 19)
t
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_158_0.png" src="../_images/notebooks_hardware_addition_158_0.png" />
</div>
</div>
</section>
<section id="Obtaining-a-PNG-diagram">
<h3>Obtaining a PNG diagram<a class="headerlink" href="#Obtaining-a-PNG-diagram" title="Permalink to this heading">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree
from pptrees.util import catalan

width = 33
t = tree(width, start_point = 33416136136136512)
t.png(&quot;test.png&quot;)
</pre></div>
</div>
</div>
</section>
<section id="Obtaining-an-HDL-description">
<h3>Obtaining an HDL description<a class="headerlink" href="#Obtaining-an-HDL-description" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree
from pptrees.util import catalan

width = 33
t = tree(width, start_point = 33416136136136512)
t.hdl(&quot;test.v&quot;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&#39;\n\tadder U0(\n\t\t.a_in(a),\n\t\t.b_in(b),\n\t\t.sum(sum)\n\t);&#39;,
 {&#39;\nmodule adder(\n\n\tinput [32:0] a_in,\n\tinput [32:0] b_in,\n\toutput  sum\n\t);\n\n// start of unnamed graph\n\twire n0, n1_adder, n2_adder, n3_adder, n4_adder, n5_adder, n6_adder, n7_adder, n8_adder, n9_adder, n10_adder, n11_adder, n12_adder, n13_adder, n14_adder, n15_adder, n16_adder, n17_adder, n18_adder, n19_adder, n20_adder, n21_adder, n22_adder, n23_adder, n24_adder, n25_adder, n26_adder, n27_adder, n28_adder, n29_adder, n30_adder, n31_adder, n32_adder, n33_adder, n34_adder, n35_adder, n36_adder, n37_adder, n38_adder, n39_adder, n40_adder, n41_adder, n42_adder, n43_adder, n44_adder, n45_adder, n46_adder, n47_adder, n48_adder, n49_adder, n50_adder, n51_adder, n52_adder, n53_adder, n54_adder, n55_adder, n56_adder, n57_adder, n58_adder, n59_adder, n60_adder, n61_adder, n62_adder, n63_adder, n64_adder, n65_adder, n66_adder, n67_adder, n68_adder, n69_adder, n70_adder, n71_adder, n72_adder, n73_adder, n74_adder, n75_adder, n76_adder, n77_adder, n78_adder, n79_adder, n80_adder, n81_adder, n82_adder, n83_adder, n84_adder, n85_adder, n86_adder, n87_adder, n88_adder, n89_adder, n90_adder, n91_adder, n92_adder, n93_adder, n94_adder, n95_adder, n96_adder, n97_adder, n98_adder, n99_adder, n100_adder, n101_adder, n102_adder, n103_adder, n104_adder, n105_adder, n106_adder, n107_adder, n108_adder, n109_adder, n110_adder, n111_adder, n112_adder, n113_adder, n114_adder, n115_adder, n116_adder, n117_adder, n118_adder, n119_adder, n120_adder, n121_adder, n122_adder, n123_adder, n124_adder, n125_adder, n126_adder, n127_adder;\n    assign sum = n111_adder ? n2_adder : n1_adder;\n    assign n127_adder = a_in[0]^b_in[0];\n\n    assign n126_adder = a_in[0]&amp;b_in[0];\n    assign n125_adder = a_in[1]^b_in[1];\n\n    assign n124_adder = a_in[1]&amp;b_in[1];\n    assign n123_adder = a_in[2]^b_in[2];\n\n    assign n122_adder = a_in[2]&amp;b_in[2];\n    assign n119_adder = a_in[3]^b_in[3];\n\n    assign n118_adder = a_in[3]&amp;b_in[3];\n    assign n113_adder = a_in[4]^b_in[4];\n\n    assign n112_adder = a_in[4]&amp;b_in[4];\n    assign n110_adder = a_in[5]^b_in[5];\n\n    assign n109_adder = a_in[5]&amp;b_in[5];\n    assign n108_adder = a_in[6]^b_in[6];\n\n    assign n107_adder = a_in[6]&amp;b_in[6];\n    assign n106_adder = a_in[7]^b_in[7];\n\n    assign n105_adder = a_in[7]&amp;b_in[7];\n    assign n100_adder = a_in[8]^b_in[8];\n\n    assign n99_adder = a_in[8]&amp;b_in[8];\n    assign n96_adder = a_in[9]^b_in[9];\n\n    assign n95_adder = a_in[9]&amp;b_in[9];\n    assign n92_adder = a_in[10]^b_in[10];\n\n    assign n91_adder = a_in[10]&amp;b_in[10];\n    assign n90_adder = a_in[11]^b_in[11];\n\n    assign n89_adder = a_in[11]&amp;b_in[11];\n    assign n86_adder = a_in[12]^b_in[12];\n\n    assign n85_adder = a_in[12]&amp;b_in[12];\n    assign n80_adder = a_in[13]^b_in[13];\n\n    assign n79_adder = a_in[13]&amp;b_in[13];\n    assign n78_adder = a_in[14]^b_in[14];\n\n    assign n77_adder = a_in[14]&amp;b_in[14];\n    assign n74_adder = a_in[15]^b_in[15];\n\n    assign n73_adder = a_in[15]&amp;b_in[15];\n    assign n72_adder = a_in[16]^b_in[16];\n\n    assign n71_adder = a_in[16]&amp;b_in[16];\n    assign n70_adder = a_in[17]^b_in[17];\n\n    assign n69_adder = a_in[17]&amp;b_in[17];\n    assign n66_adder = a_in[18]^b_in[18];\n\n    assign n65_adder = a_in[18]&amp;b_in[18];\n    assign n64_adder = a_in[19]^b_in[19];\n\n    assign n63_adder = a_in[19]&amp;b_in[19];\n    assign n58_adder = a_in[20]^b_in[20];\n\n    assign n57_adder = a_in[20]&amp;b_in[20];\n    assign n56_adder = a_in[21]^b_in[21];\n\n    assign n55_adder = a_in[21]&amp;b_in[21];\n    assign n54_adder = a_in[22]^b_in[22];\n\n    assign n53_adder = a_in[22]&amp;b_in[22];\n    assign n42_adder = a_in[23]^b_in[23];\n\n    assign n41_adder = a_in[23]&amp;b_in[23];\n    assign n40_adder = a_in[24]^b_in[24];\n\n    assign n39_adder = a_in[24]&amp;b_in[24];\n    assign n38_adder = a_in[25]^b_in[25];\n\n    assign n37_adder = a_in[25]&amp;b_in[25];\n    assign n32_adder = a_in[26]^b_in[26];\n\n    assign n31_adder = a_in[26]&amp;b_in[26];\n    assign n30_adder = a_in[27]^b_in[27];\n\n    assign n29_adder = a_in[27]&amp;b_in[27];\n    assign n25_adder = a_in[28]^b_in[28];\n\n    assign n26_adder = a_in[28]&amp;b_in[28];\n    assign n24_adder = a_in[29]^b_in[29];\n\n    assign n23_adder = a_in[29]&amp;b_in[29];\n    assign n22_adder = a_in[30]^b_in[30];\n\n    assign n21_adder = a_in[30]&amp;b_in[30];\n    assign n18_adder = a_in[31]^b_in[31];\n\n    assign n17_adder = a_in[31]&amp;b_in[31];\n    assign n13_adder = a_in[32]^b_in[32];\n\n    assign n14_adder = ~(a_in[32]^b_in[32]);\n    assign w34 =  n81_adder| n82_adder;\n\n    assign n1_adder = n82_adder ? n4_adder : n3_adder;\n\n    assign n2_adder = w34  ? n4_adder : n3_adder;\n    assign w35 =  n43_adder| n44_adder;\n\n    assign n3_adder = n44_adder ? n6_adder : n5_adder;\n\n    assign n4_adder = w35  ? n6_adder : n5_adder;\n    assign w36 =  n33_adder| n34_adder;\n\n    assign n5_adder = n34_adder ? n8_adder : n7_adder;\n\n    assign n6_adder = w36  ? n8_adder : n7_adder;\n    assign w37 =  n27_adder| n28_adder;\n\n    assign n7_adder = n28_adder ? n10_adder : n9_adder;\n\n    assign n8_adder = w37  ? n10_adder : n9_adder;\n    assign w38 =  n25_adder| n26_adder;\n\n    assign n9_adder = n26_adder ? n12_adder : n11_adder;\n\n    assign n10_adder = w38  ? n12_adder : n11_adder;\n    assign w39 =  n15_adder| n16_adder;\n\n    assign n11_adder = n16_adder ? n14_adder : n13_adder;\n\n    assign n12_adder = w39  ? n14_adder : n13_adder;\n    assign n15_adder = n18_adder&amp;n20_adder;\n\n    assign n16_adder = (n19_adder&amp;n18_adder)|n17_adder;\n    assign n20_adder = n22_adder&amp;n24_adder;\n\n    assign n19_adder = (n23_adder&amp;n22_adder)|n21_adder;\n    assign n27_adder = n30_adder&amp;n32_adder;\n\n    assign n28_adder = (n31_adder&amp;n30_adder)|n29_adder;\n    assign n33_adder = n36_adder&amp;n42_adder;\n\n    assign n34_adder = (n41_adder&amp;n36_adder)|n35_adder;\n    assign n36_adder = n38_adder&amp;n40_adder;\n\n    assign n35_adder = (n39_adder&amp;n38_adder)|n37_adder;\n    assign n43_adder = n46_adder&amp;n76_adder;\n\n    assign n44_adder = (n75_adder&amp;n46_adder)|n45_adder;\n    assign n46_adder = n48_adder&amp;n74_adder;\n\n    assign n45_adder = (n73_adder&amp;n48_adder)|n47_adder;\n    assign n48_adder = n50_adder&amp;n60_adder;\n\n    assign n47_adder = (n59_adder&amp;n50_adder)|n49_adder;\n    assign n50_adder = n52_adder&amp;n58_adder;\n\n    assign n49_adder = (n57_adder&amp;n52_adder)|n51_adder;\n    assign n52_adder = n54_adder&amp;n56_adder;\n\n    assign n51_adder = (n55_adder&amp;n54_adder)|n53_adder;\n    assign n60_adder = n62_adder&amp;n68_adder;\n\n    assign n59_adder = (n67_adder&amp;n62_adder)|n61_adder;\n    assign n62_adder = n64_adder&amp;n66_adder;\n\n    assign n61_adder = (n65_adder&amp;n64_adder)|n63_adder;\n    assign n68_adder = n70_adder&amp;n72_adder;\n\n    assign n67_adder = (n71_adder&amp;n70_adder)|n69_adder;\n    assign n76_adder = n78_adder&amp;n80_adder;\n\n    assign n75_adder = (n79_adder&amp;n78_adder)|n77_adder;\n    assign n81_adder = n84_adder&amp;n94_adder;\n\n    assign n82_adder = (n93_adder&amp;n84_adder)|n83_adder;\n    assign n84_adder = n86_adder&amp;n88_adder;\n\n    assign n83_adder = (n87_adder&amp;n86_adder)|n85_adder;\n    assign n88_adder = n90_adder&amp;n92_adder;\n\n    assign n87_adder = (n91_adder&amp;n90_adder)|n89_adder;\n    assign n94_adder = n96_adder&amp;n98_adder;\n\n    assign n93_adder = (n97_adder&amp;n96_adder)|n95_adder;\n    assign n98_adder = n100_adder&amp;n102_adder;\n\n    assign n97_adder = (n101_adder&amp;n100_adder)|n99_adder;\n    assign n102_adder = n104_adder&amp;n110_adder;\n\n    assign n101_adder = (n109_adder&amp;n104_adder)|n103_adder;\n    assign n104_adder = n106_adder&amp;n108_adder;\n\n    assign n103_adder = (n107_adder&amp;n106_adder)|n105_adder;\n    assign n0 = n113_adder&amp;n115_adder;\n\n    assign n111_adder = (n114_adder&amp;n113_adder)|n112_adder;\n    assign n115_adder = n117_adder&amp;n127_adder;\n\n    assign n114_adder = (n126_adder&amp;n117_adder)|n116_adder;\n    assign n117_adder = n119_adder&amp;n121_adder;\n\n    assign n116_adder = (n120_adder&amp;n119_adder)|n118_adder;\n    assign n121_adder = n123_adder&amp;n125_adder;\n\n    assign n120_adder = (n124_adder&amp;n123_adder)|n122_adder;\n\nendmodule // adder\n&#39;})
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!cat test.v
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

module adder(

        input [32:0] a_in,
        input [32:0] b_in,
        output  sum
        );

// start of unnamed graph
        wire n0, n1_adder, n2_adder, n3_adder, n4_adder, n5_adder, n6_adder, n7_adder, n8_adder, n9_adder, n10_adder, n11_adder, n12_adder, n13_adder, n14_adder, n15_adder, n16_adder, n17_adder, n18_adder, n19_adder, n20_adder, n21_adder, n22_adder, n23_adder, n24_adder, n25_adder, n26_adder, n27_adder, n28_adder, n29_adder, n30_adder, n31_adder, n32_adder, n33_adder, n34_adder, n35_adder, n36_adder, n37_adder, n38_adder, n39_adder, n40_adder, n41_adder, n42_adder, n43_adder, n44_adder, n45_adder, n46_adder, n47_adder, n48_adder, n49_adder, n50_adder, n51_adder, n52_adder, n53_adder, n54_adder, n55_adder, n56_adder, n57_adder, n58_adder, n59_adder, n60_adder, n61_adder, n62_adder, n63_adder, n64_adder, n65_adder, n66_adder, n67_adder, n68_adder, n69_adder, n70_adder, n71_adder, n72_adder, n73_adder, n74_adder, n75_adder, n76_adder, n77_adder, n78_adder, n79_adder, n80_adder, n81_adder, n82_adder, n83_adder, n84_adder, n85_adder, n86_adder, n87_adder, n88_adder, n89_adder, n90_adder, n91_adder, n92_adder, n93_adder, n94_adder, n95_adder, n96_adder, n97_adder, n98_adder, n99_adder, n100_adder, n101_adder, n102_adder, n103_adder, n104_adder, n105_adder, n106_adder, n107_adder, n108_adder, n109_adder, n110_adder, n111_adder, n112_adder, n113_adder, n114_adder, n115_adder, n116_adder, n117_adder, n118_adder, n119_adder, n120_adder, n121_adder, n122_adder, n123_adder, n124_adder, n125_adder, n126_adder, n127_adder;
    assign sum = n111_adder ? n2_adder : n1_adder;
    assign n127_adder = a_in[0]^b_in[0];

    assign n126_adder = a_in[0]&amp;b_in[0];
    assign n125_adder = a_in[1]^b_in[1];

    assign n124_adder = a_in[1]&amp;b_in[1];
    assign n123_adder = a_in[2]^b_in[2];

    assign n122_adder = a_in[2]&amp;b_in[2];
    assign n119_adder = a_in[3]^b_in[3];

    assign n118_adder = a_in[3]&amp;b_in[3];
    assign n113_adder = a_in[4]^b_in[4];

    assign n112_adder = a_in[4]&amp;b_in[4];
    assign n110_adder = a_in[5]^b_in[5];

    assign n109_adder = a_in[5]&amp;b_in[5];
    assign n108_adder = a_in[6]^b_in[6];

    assign n107_adder = a_in[6]&amp;b_in[6];
    assign n106_adder = a_in[7]^b_in[7];

    assign n105_adder = a_in[7]&amp;b_in[7];
    assign n100_adder = a_in[8]^b_in[8];

    assign n99_adder = a_in[8]&amp;b_in[8];
    assign n96_adder = a_in[9]^b_in[9];

    assign n95_adder = a_in[9]&amp;b_in[9];
    assign n92_adder = a_in[10]^b_in[10];

    assign n91_adder = a_in[10]&amp;b_in[10];
    assign n90_adder = a_in[11]^b_in[11];

    assign n89_adder = a_in[11]&amp;b_in[11];
    assign n86_adder = a_in[12]^b_in[12];

    assign n85_adder = a_in[12]&amp;b_in[12];
    assign n80_adder = a_in[13]^b_in[13];

    assign n79_adder = a_in[13]&amp;b_in[13];
    assign n78_adder = a_in[14]^b_in[14];

    assign n77_adder = a_in[14]&amp;b_in[14];
    assign n74_adder = a_in[15]^b_in[15];

    assign n73_adder = a_in[15]&amp;b_in[15];
    assign n72_adder = a_in[16]^b_in[16];

    assign n71_adder = a_in[16]&amp;b_in[16];
    assign n70_adder = a_in[17]^b_in[17];

    assign n69_adder = a_in[17]&amp;b_in[17];
    assign n66_adder = a_in[18]^b_in[18];

    assign n65_adder = a_in[18]&amp;b_in[18];
    assign n64_adder = a_in[19]^b_in[19];

    assign n63_adder = a_in[19]&amp;b_in[19];
    assign n58_adder = a_in[20]^b_in[20];

    assign n57_adder = a_in[20]&amp;b_in[20];
    assign n56_adder = a_in[21]^b_in[21];

    assign n55_adder = a_in[21]&amp;b_in[21];
    assign n54_adder = a_in[22]^b_in[22];

    assign n53_adder = a_in[22]&amp;b_in[22];
    assign n42_adder = a_in[23]^b_in[23];

    assign n41_adder = a_in[23]&amp;b_in[23];
    assign n40_adder = a_in[24]^b_in[24];

    assign n39_adder = a_in[24]&amp;b_in[24];
    assign n38_adder = a_in[25]^b_in[25];

    assign n37_adder = a_in[25]&amp;b_in[25];
    assign n32_adder = a_in[26]^b_in[26];

    assign n31_adder = a_in[26]&amp;b_in[26];
    assign n30_adder = a_in[27]^b_in[27];

    assign n29_adder = a_in[27]&amp;b_in[27];
    assign n25_adder = a_in[28]^b_in[28];

    assign n26_adder = a_in[28]&amp;b_in[28];
    assign n24_adder = a_in[29]^b_in[29];

    assign n23_adder = a_in[29]&amp;b_in[29];
    assign n22_adder = a_in[30]^b_in[30];

    assign n21_adder = a_in[30]&amp;b_in[30];
    assign n18_adder = a_in[31]^b_in[31];

    assign n17_adder = a_in[31]&amp;b_in[31];
    assign n13_adder = a_in[32]^b_in[32];

    assign n14_adder = ~(a_in[32]^b_in[32]);
    assign w34 =  n81_adder| n82_adder;

    assign n1_adder = n82_adder ? n4_adder : n3_adder;

    assign n2_adder = w34  ? n4_adder : n3_adder;
    assign w35 =  n43_adder| n44_adder;

    assign n3_adder = n44_adder ? n6_adder : n5_adder;

    assign n4_adder = w35  ? n6_adder : n5_adder;
    assign w36 =  n33_adder| n34_adder;

    assign n5_adder = n34_adder ? n8_adder : n7_adder;

    assign n6_adder = w36  ? n8_adder : n7_adder;
    assign w37 =  n27_adder| n28_adder;

    assign n7_adder = n28_adder ? n10_adder : n9_adder;

    assign n8_adder = w37  ? n10_adder : n9_adder;
    assign w38 =  n25_adder| n26_adder;

    assign n9_adder = n26_adder ? n12_adder : n11_adder;

    assign n10_adder = w38  ? n12_adder : n11_adder;
    assign w39 =  n15_adder| n16_adder;

    assign n11_adder = n16_adder ? n14_adder : n13_adder;

    assign n12_adder = w39  ? n14_adder : n13_adder;
    assign n15_adder = n18_adder&amp;n20_adder;

    assign n16_adder = (n19_adder&amp;n18_adder)|n17_adder;
    assign n20_adder = n22_adder&amp;n24_adder;

    assign n19_adder = (n23_adder&amp;n22_adder)|n21_adder;
    assign n27_adder = n30_adder&amp;n32_adder;

    assign n28_adder = (n31_adder&amp;n30_adder)|n29_adder;
    assign n33_adder = n36_adder&amp;n42_adder;

    assign n34_adder = (n41_adder&amp;n36_adder)|n35_adder;
    assign n36_adder = n38_adder&amp;n40_adder;

    assign n35_adder = (n39_adder&amp;n38_adder)|n37_adder;
    assign n43_adder = n46_adder&amp;n76_adder;

    assign n44_adder = (n75_adder&amp;n46_adder)|n45_adder;
    assign n46_adder = n48_adder&amp;n74_adder;

    assign n45_adder = (n73_adder&amp;n48_adder)|n47_adder;
    assign n48_adder = n50_adder&amp;n60_adder;

    assign n47_adder = (n59_adder&amp;n50_adder)|n49_adder;
    assign n50_adder = n52_adder&amp;n58_adder;

    assign n49_adder = (n57_adder&amp;n52_adder)|n51_adder;
    assign n52_adder = n54_adder&amp;n56_adder;

    assign n51_adder = (n55_adder&amp;n54_adder)|n53_adder;
    assign n60_adder = n62_adder&amp;n68_adder;

    assign n59_adder = (n67_adder&amp;n62_adder)|n61_adder;
    assign n62_adder = n64_adder&amp;n66_adder;

    assign n61_adder = (n65_adder&amp;n64_adder)|n63_adder;
    assign n68_adder = n70_adder&amp;n72_adder;

    assign n67_adder = (n71_adder&amp;n70_adder)|n69_adder;
    assign n76_adder = n78_adder&amp;n80_adder;

    assign n75_adder = (n79_adder&amp;n78_adder)|n77_adder;
    assign n81_adder = n84_adder&amp;n94_adder;

    assign n82_adder = (n93_adder&amp;n84_adder)|n83_adder;
    assign n84_adder = n86_adder&amp;n88_adder;

    assign n83_adder = (n87_adder&amp;n86_adder)|n85_adder;
    assign n88_adder = n90_adder&amp;n92_adder;

    assign n87_adder = (n91_adder&amp;n90_adder)|n89_adder;
    assign n94_adder = n96_adder&amp;n98_adder;

    assign n93_adder = (n97_adder&amp;n96_adder)|n95_adder;
    assign n98_adder = n100_adder&amp;n102_adder;

    assign n97_adder = (n101_adder&amp;n100_adder)|n99_adder;
    assign n102_adder = n104_adder&amp;n110_adder;

    assign n101_adder = (n109_adder&amp;n104_adder)|n103_adder;
    assign n104_adder = n106_adder&amp;n108_adder;

    assign n103_adder = (n107_adder&amp;n106_adder)|n105_adder;
    assign n0 = n113_adder&amp;n115_adder;

    assign n111_adder = (n114_adder&amp;n113_adder)|n112_adder;
    assign n115_adder = n117_adder&amp;n127_adder;

    assign n114_adder = (n126_adder&amp;n117_adder)|n116_adder;
    assign n117_adder = n119_adder&amp;n121_adder;

    assign n116_adder = (n120_adder&amp;n119_adder)|n118_adder;
    assign n121_adder = n123_adder&amp;n125_adder;

    assign n120_adder = (n124_adder&amp;n123_adder)|n122_adder;

endmodule // adder
</pre></div></div>
</div>
</section>
</section>
<section id="Forests-[structures-that-generate-the-entire-result]">
<h2>Forests [structures that generate the entire result]<a class="headerlink" href="#Forests-[structures-that-generate-the-entire-result]" title="Permalink to this heading">¶</a></h2>
<section id="id6">
<h3>Generating a classic structure [LEGACY]<a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h3>
<p>Note: these cells are shown simply for illustrative purposes. Many of the functions used here-in are legacy functions, supported only for backwards compatibility with past diagrams and methods. The code in this section should not be used in production.</p>
<p>The theory section discusses four classic, regular, structures. These architectures can be readily generated under this library using aliases. Note again that the “alias” parameter is legacy, supported only for backwards compatibility.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderForest import AdderForest as forest

width = 15
f = forest(width, alias = &quot;ripple-carry&quot;)
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_167_0.png" src="../_images/notebooks_hardware_addition_167_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree

width = 15
f = forest(width, alias = &quot;sklansky&quot;)
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_168_0.png" src="../_images/notebooks_hardware_addition_168_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree

width = 15
f = forest(width, alias = &quot;kogge-stone&quot;)
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_169_0.png" src="../_images/notebooks_hardware_addition_169_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderTree import AdderTree as tree

width = 15
f = forest(width, alias = &quot;brent-kung&quot;)
f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_170_0.png" src="../_images/notebooks_hardware_addition_170_0.png" />
</div>
</div>
</section>
<section id="How-many-possible-forests-are-there?">
<h3>How many possible forests are there?<a class="headerlink" href="#How-many-possible-forests-are-there?" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.util import catalan

width = 6
number_of_forests = 1
for a in range(width):
  number_of_forests = number_of_forests * catalan(a)
print(number_of_forests)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
5880
</pre></div></div>
</div>
</section>
<section id="What-do-these-forests-look-like?">
<h3>What do these forests look like?<a class="headerlink" href="#What-do-these-forests-look-like?" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderForest import AdderForest as forest
from pptrees.util import catalan_bounds

width = 9
print(&quot;The maximum tree sizes for a forest of width {0} are {1}&quot;.format(width,catalan_bounds(width)))
f = forest(width, tree_start_points = [0, 0, 0, 2, 5, 37, 74, 214, 214])
f
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The maximum tree sizes for a forest of width 9 are [0, 0, 1, 4, 13, 41, 131, 428, 1429]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_174_1.png" src="../_images/notebooks_hardware_addition_174_1.png" />
</div>
</div>
</section>
<section id="How-do-I-get-the-forest-that-I-want?">
<h3>How do I get the forest that I want?<a class="headerlink" href="#How-do-I-get-the-forest-that-I-want?" title="Permalink to this heading">¶</a></h3>
<p>There are two, equivalent, ways to initialize a forest:</p>
<ol class="arabic simple">
<li><p>Obtain a list of tree IDs, and use them to initialize the forest</p></li>
<li><p>Obtain a list of trees, and use them to initialize the forest</p></li>
</ol>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Method 1
from pptrees.AdderForest import AdderForest as forest
from pptrees.util import catalan_bounds

width = 9
print(&quot;The maximum tree sizes for a forest of width {0} are {1}&quot;.format(width,catalan_bounds(width)))
f = forest(width, tree_start_points = [0, 0, 0, 2, 5, 37, 74, 214, 214])
f
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The maximum tree sizes for a forest of width 9 are [0, 0, 1, 4, 13, 41, 131, 428, 1429]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_177_1.png" src="../_images/notebooks_hardware_addition_177_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Method 2
from pptrees.AdderForest import AdderForest as forest
from pptrees.AdderTree import AdderTree as tree
from pptrees.util import catalan_bounds

width = 9
print(&quot;The maximum tree sizes for a forest of width {0} are {1}&quot;.format(width,catalan_bounds(width)))

list_of_trees = []
list_of_trees.append(tree(1, start_point = 0))
list_of_trees.append(tree(2, start_point = 0))
list_of_trees.append(tree(3, start_point = 0))
list_of_trees.append(tree(4, start_point = 2))
list_of_trees.append(tree(5, start_point = 5))
list_of_trees.append(tree(6, start_point = 37))
list_of_trees.append(tree(7, start_point = 74))
list_of_trees.append(tree(8, start_point = 214))
list_of_trees.append(tree(9, start_point = 214))

f = forest(width, initialized_trees = list_of_trees)
f
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The maximum tree sizes for a forest of width 9 are [0, 0, 1, 4, 13, 41, 131, 428, 1429]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_178_1.png" src="../_images/notebooks_hardware_addition_178_1.png" />
</div>
</div>
</section>
<section id="Okay,-I-have-a-forest.-How-do-I-make-it-faster?">
<h3>Okay, I have a forest. How do I make it faster?<a class="headerlink" href="#Okay,-I-have-a-forest.-How-do-I-make-it-faster?" title="Permalink to this heading">¶</a></h3>
<p>In short, this can be achieved by making the underlying trees faster.</p>
<p>There is no hard rule for how this can be achieved. In general, here are some tips:</p>
<ul class="simple">
<li><p>Reducing logic levels increases speed (at the cost of fanout and tracks)</p></li>
<li><p>Reducing fanout increases speed (at the cost of logic levels and tracks)</p></li>
<li><p>Reducing tracks increases speed (at the cost of logic levels and fanout)</p></li>
</ul>
<p>Typically these three parameters affect delay in the order in which they are listed above, though that is not always the case.</p>
<p>Let’s look at the previous forest example.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderForest import AdderForest as forest
from pptrees.util import catalan_bounds

width = 9
print(&quot;The maximum tree sizes for a forest of width {0} are {1}&quot;.format(width,catalan_bounds(width)))
f = forest(width, tree_start_points = [0, 0, 0, 2, 5, 37, 74, 214, 214])
f
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The maximum tree sizes for a forest of width 9 are [0, 0, 1, 4, 13, 41, 131, 428, 1429]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_182_1.png" src="../_images/notebooks_hardware_addition_182_1.png" />
</div>
</div>
<p>Tree 5 (the 6th frame) is very unbalanced. Let’s take a closer look.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f[5]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_184_0.png" src="../_images/notebooks_hardware_addition_184_0.png" />
</div>
</div>
<p>Let’s reduce its height.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f[5].left_rotate(f[5].root[0][0][1])
f[5].right_rotate(f[5].root[0][0])
f[5].right_shift(f[5].root[0][1])
f[5]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_186_0.png" src="../_images/notebooks_hardware_addition_186_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_187_0.png" src="../_images/notebooks_hardware_addition_187_0.png" />
</div>
</div>
</section>
<section id="Okay,-now-how-do-I-make-a-forest-more-power-efficient?-Or-smaller?">
<h3>Okay, now how do I make a forest more power-efficient? Or smaller?<a class="headerlink" href="#Okay,-now-how-do-I-make-a-forest-more-power-efficient?-Or-smaller?" title="Permalink to this heading">¶</a></h3>
<p>This can be achieved by making the individual trees in the forest share more nodes.</p>
<p>In general, the further to the left a node is, the more likely it is to be shared. Nodes on the right spine can never be shared.</p>
<p>Let’s look at the previous forest example.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderForest import AdderForest as forest
from pptrees.util import catalan_bounds

width = 9
print(&quot;The maximum tree sizes for a forest of width {0} are {1}&quot;.format(width,catalan_bounds(width)))
f = forest(width, tree_start_points = [0, 0, 0, 2, 5, 37, 74, 214, 214])
f[5].left_rotate(f[5].root[0][0][1])
f[5].right_rotate(f[5].root[0][0])
f[5].right_shift(f[5].root[0][1])
f.find_equivalent_nodes()
f
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The maximum tree sizes for a forest of width 9 are [0, 0, 1, 4, 13, 41, 131, 428, 1429]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_190_1.png" src="../_images/notebooks_hardware_addition_190_1.png" />
</div>
</div>
<p>Tne nodes that have been painted partially red are duplicates that need not be implemented in hardware. In other words, they are redundant copies of shared nodes.</p>
<p>Note that the very last frame of the shot has no such red-marked nods. Shared nodes only need to be implemented in hardware once, but they still need to be implemented that one time.</p>
<p>Most of the normal recurrence nodes used in the forest are already shared. However, the nodes on the left spine can never be shared. The left spine represents the combination of local and non-local aspects of the operation of binary addition. Each tree has its own unique local aspect.</p>
<p>Thus, one effective way to reduce the area and power consumption of the design is to move nodes off of the left spine.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f[6]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_193_0.png" src="../_images/notebooks_hardware_addition_193_0.png" />
</div>
</div>
<p>This seems as good of a candidate for rotation as any.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f.reset_equivalent_nodes()
f[6].right_rotate(f[6].root[0])
f[6].left_rotate(f[6].root[1][1])
f.find_equivalent_nodes()
f[6]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_195_0.png" src="../_images/notebooks_hardware_addition_195_0.png" />
</div>
</div>
<p>Success! Area has been reduced by two nodes, which in this adder represents about a 6% improvement in area, and likely in power consumption as well.</p>
<p>Unfortunately, this modification has increased the fanout on the critical path, slowing down the maximum achievable speed of the design.</p>
</section>
<section id="What-about-fan-out-decoupling-/-buffer-insertion?">
<h3>What about fan-out decoupling / buffer insertion?<a class="headerlink" href="#What-about-fan-out-decoupling-/-buffer-insertion?" title="Permalink to this heading">¶</a></h3>
<p>Fan-out decoupling, or buffer insertion, is a very important concept in hardware design. If a cell is driving 16 outputs, it could instead be made to drive 4 buffers, each of which drive 4 outputs of their own. Reducing fanout intelligently can improve the speed of a design, even while adding cells onto the circuit’s timing paths.</p>
<p>For reasons that are detailed in my upcoming publications, but do not belong here, my library performs fanout decoupling / buffer insertion as a post-production step, after a tree structure has been decided on.</p>
<section id="But-wait!-Buffer-insertion-is-the-whole-point-of-important-classic-structures-such-as-Brent-Kung!">
<h4>But wait! Buffer insertion is the whole point of important classic structures such as Brent-Kung!<a class="headerlink" href="#But-wait!-Buffer-insertion-is-the-whole-point-of-important-classic-structures-such-as-Brent-Kung!" title="Permalink to this heading">¶</a></h4>
<p>This is a Brent-Kung adder without buffer insertion:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderForest import AdderForest as forest
from pptrees.util import catalan_bounds

width = 17
print(&quot;The maximum tree sizes for a forest of width {0} are {1}&quot;.format(width,catalan_bounds(width)))
f = forest(width)
for t in f.trees[2:]:
  t.rbalance(t.root[1])
  while not t.root[1][0].is_proper():
    t.right_rotate(t.root[1][0])
f.find_equivalent_nodes()
f
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The maximum tree sizes for a forest of width 17 are [0, 0, 1, 4, 13, 41, 131, 428, 1429, 4861, 16795, 58785, 208011, 742899, 2674439, 9694844, 35357669]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_201_1.png" src="../_images/notebooks_hardware_addition_201_1.png" />
</div>
</div>
<p>This is a Brent-Kung adder with buffer insertion:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderForest import AdderForest as forest
from pptrees.util import catalan_bounds

width = 17
print(&quot;The maximum tree sizes for a forest of width {0} are {1}&quot;.format(width,catalan_bounds(width)))
f = forest(width)
for t in f.trees[2:]:
  t.rbalance(t.root[1])
  while not t.root[1][0].is_proper():
    t.right_rotate(t.root[1][0])
f.find_equivalent_nodes()
f.calculate_fanout()
f.calculate_tracks()
f.decouple_all_fanout(maximum_fanout = 2)
f
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The maximum tree sizes for a forest of width 17 are [0, 0, 1, 4, 13, 41, 131, 428, 1429, 4861, 16795, 58785, 208011, 742899, 2674439, 9694844, 35357669]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_203_1.png" src="../_images/notebooks_hardware_addition_203_1.png" />
</div>
</div>
<p>The buffers are not the core benefit of Brent-Kung. The shared nodes are. Despite much misgiving and internal anguish, I have decided to accept the fact that buffer insertion is a post-production step, not an integral part of the tree structure. This point can be argued for a long time, but this is not the platform.</p>
</section>
<section id="Buffer-insertion-using-this-library">
<h4>Buffer insertion using this library<a class="headerlink" href="#Buffer-insertion-using-this-library" title="Permalink to this heading">¶</a></h4>
<p>Buffer insertion can be readily performed through the insert_buffer and remove_buffer methods.</p>
<p>Let’s look at the previous example.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderForest import AdderForest as forest
from pptrees.util import catalan_bounds

width = 9
print(&quot;The maximum tree sizes for a forest of width {0} are {1}&quot;.format(width,catalan_bounds(width)))
f = forest(width, tree_start_points = [0, 0, 0, 2, 5, 37, 74, 214, 214])
f[5].left_rotate(f[5].root[0][0][1])
f[5].right_rotate(f[5].root[0][0])
f[5].right_shift(f[5].root[0][1])
f[6].right_rotate(f[6].root[0])
f[6].left_rotate(f[6].root[1][1])
f
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The maximum tree sizes for a forest of width 9 are [0, 0, 1, 4, 13, 41, 131, 428, 1429]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_208_1.png" src="../_images/notebooks_hardware_addition_208_1.png" />
</div>
</div>
<p>There is clearly a lot of fanout on the node that combines gp[1] with gp[0]. Let us reduce it through buffer insertion.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f[4]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_210_0.png" src="../_images/notebooks_hardware_addition_210_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f[4].insert_buffer(f[4].root[1][1])
f[4]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_211_0.png" src="../_images/notebooks_hardware_addition_211_0.png" />
</div>
</div>
<p>A convenient short-hand is also provided in the form of the decouple_fanout method. This method takes as argument a node whose output has fanout, and a tree chosen as a sacrifice. It then decouples the node’s fanout by inserting a buffer into the chosen [STRIKEOUT:tribute] tree.</p>
<p>This does require that the calculate_fanout method be executed first.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f[2]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_213_0.png" src="../_images/notebooks_hardware_addition_213_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>f.calculate_fanout()
f.unmark_equivalent_nodes()
f.decouple_fanout(f[8].root[1][1][1],f[2])
f[2]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_214_0.png" src="../_images/notebooks_hardware_addition_214_0.png" />
</div>
</div>
</section>
</section>
<section id="id7">
<h3>Obtaining an HDL description<a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h3>
<p>A basic HDL file can be obtained very simply, using the hdl()</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderForest import AdderForest as forest
from pptrees.util import catalan_bounds

width = 9
print(&quot;The maximum tree sizes for a forest of width {0} are {1}&quot;.format(width,catalan_bounds(width)))
f = forest(width, tree_start_points = [0, 0, 0, 2, 5, 37, 74, 214, 214])
f.hdl(&quot;adder1.v&quot;, module_name=&quot;adder1&quot;)
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The maximum tree sizes for a forest of width 9 are [0, 0, 1, 4, 13, 41, 131, 428, 1429]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&#39;\n\tadder1 U0(\n\t\t.a_in(a_in),\n\t\t.b_in(b_in),\n\t\t.sum(sum)\n\t);&#39;,
 {&#39;\nmodule adder1(\n\n\tinput [8:0] a_in,\n\tinput [8:0] b_in,\n\toutput [8:0] sum\n\t);\n\n// adder_forest tree_8\n\twire n0, n1_tree_8, n2_tree_8, n3_tree_8, n4_tree_8, n5_tree_8, n6_tree_8, n7_tree_8, n8_tree_8, n9_tree_8, n10_tree_8, n11_tree_8, n12_tree_8, n13_tree_8, n14_tree_8, n15_tree_8, n16_tree_8, n17_tree_8, n18_tree_8, n19_tree_8, n20_tree_8, n21_tree_8, n22_tree_8, n23_tree_8, n24_tree_8, n25_tree_8, n26_tree_8, n27_tree_8, n28_tree_8, n29_tree_8, n30_tree_8, n31_tree_8;\n    assign sum[8] = n3_tree_8 ? n2_tree_8 : n1_tree_8;\n    assign n31_tree_8 = a_in[0]^b_in[0];\n\n    assign n30_tree_8 = a_in[0]&amp;b_in[0];\n    assign n29_tree_8 = a_in[1]^b_in[1];\n\n    assign n28_tree_8 = a_in[1]&amp;b_in[1];\n    assign n25_tree_8 = a_in[2]^b_in[2];\n\n    assign n24_tree_8 = a_in[2]&amp;b_in[2];\n    assign n23_tree_8 = a_in[3]^b_in[3];\n\n    assign n22_tree_8 = a_in[3]&amp;b_in[3];\n    assign n17_tree_8 = a_in[4]^b_in[4];\n\n    assign n16_tree_8 = a_in[4]&amp;b_in[4];\n    assign n15_tree_8 = a_in[5]^b_in[5];\n\n    assign n14_tree_8 = a_in[5]&amp;b_in[5];\n    assign n11_tree_8 = a_in[6]^b_in[6];\n\n    assign n10_tree_8 = a_in[6]&amp;b_in[6];\n    assign n9_tree_8 = a_in[7]^b_in[7];\n\n    assign n8_tree_8 = a_in[7]&amp;b_in[7];\n    assign n1_tree_8 = a_in[8]^b_in[8];\n\n    assign n2_tree_8 = ~(a_in[8]^b_in[8]);\n    assign n0 = n5_tree_8&amp;n19_tree_8;\n\n    assign n3_tree_8 = (n18_tree_8&amp;n5_tree_8)|n4_tree_8;\n    assign n5_tree_8 = n7_tree_8&amp;n13_tree_8;\n\n    assign n4_tree_8 = (n12_tree_8&amp;n7_tree_8)|n6_tree_8;\n    assign n7_tree_8 = n9_tree_8&amp;n11_tree_8;\n\n    assign n6_tree_8 = (n10_tree_8&amp;n9_tree_8)|n8_tree_8;\n    assign n13_tree_8 = n15_tree_8&amp;n17_tree_8;\n\n    assign n12_tree_8 = (n16_tree_8&amp;n15_tree_8)|n14_tree_8;\n    assign n19_tree_8 = n21_tree_8&amp;n27_tree_8;\n\n    assign n18_tree_8 = (n26_tree_8&amp;n21_tree_8)|n20_tree_8;\n    assign n21_tree_8 = n23_tree_8&amp;n25_tree_8;\n\n    assign n20_tree_8 = (n24_tree_8&amp;n23_tree_8)|n22_tree_8;\n    assign n27_tree_8 = n29_tree_8&amp;n31_tree_8;\n\n    assign n26_tree_8 = (n30_tree_8&amp;n29_tree_8)|n28_tree_8;\n\n// adder_forest tree_7\n\twire n0, n1_tree_7, n2_tree_7, n3_tree_7, n4_tree_7, n5_tree_7, n6_tree_7, n7_tree_7, n8_tree_7, n9_tree_7, n10_tree_7, n11_tree_7, n12_tree_7, n13_tree_7, n14_tree_7, n15_tree_7, n16_tree_7, n17_tree_7, n18_tree_7, n19_tree_7, n20_tree_7, n21_tree_7, n22_tree_7, n23_tree_7, n24_tree_7, n25_tree_7, n26_tree_7, n27_tree_7;\n    assign sum[7] = n15_tree_7 ? n2_tree_7 : n1_tree_7;\n    assign n27_tree_7 = a_in[0]^b_in[0];\n\n    assign n26_tree_7 = a_in[0]&amp;b_in[0];\n    assign n25_tree_7 = a_in[1]^b_in[1];\n\n    assign n24_tree_7 = a_in[1]&amp;b_in[1];\n    assign n21_tree_7 = a_in[2]^b_in[2];\n\n    assign n20_tree_7 = a_in[2]&amp;b_in[2];\n    assign n19_tree_7 = a_in[3]^b_in[3];\n\n    assign n18_tree_7 = a_in[3]&amp;b_in[3];\n    assign n14_tree_7 = a_in[4]^b_in[4];\n\n    assign n13_tree_7 = a_in[4]&amp;b_in[4];\n    assign n12_tree_7 = a_in[5]^b_in[5];\n\n    assign n11_tree_7 = a_in[5]&amp;b_in[5];\n    assign n7_tree_7 = a_in[6]^b_in[6];\n\n    assign n8_tree_7 = a_in[6]&amp;b_in[6];\n    assign n5_tree_7 = a_in[7]^b_in[7];\n\n    assign n6_tree_7 = ~(a_in[7]^b_in[7]);\n    assign w0 =  n9_tree_7| n10_tree_7;\n\n    assign n1_tree_7 = n10_tree_7 ? n4_tree_7 : n3_tree_7;\n\n    assign n2_tree_7 = w0  ? n4_tree_7 : n3_tree_7;\n    assign w1 =  n7_tree_7| n8_tree_7;\n\n    assign n3_tree_7 = n8_tree_7 ? n6_tree_7 : n5_tree_7;\n\n    assign n4_tree_7 = w1  ? n6_tree_7 : n5_tree_7;\n    assign n9_tree_7 = n12_tree_7&amp;n14_tree_7;\n\n    assign n10_tree_7 = (n13_tree_7&amp;n12_tree_7)|n11_tree_7;\n    assign n0 = n17_tree_7&amp;n23_tree_7;\n\n    assign n15_tree_7 = (n22_tree_7&amp;n17_tree_7)|n16_tree_7;\n    assign n17_tree_7 = n19_tree_7&amp;n21_tree_7;\n\n    assign n16_tree_7 = (n20_tree_7&amp;n19_tree_7)|n18_tree_7;\n    assign n23_tree_7 = n25_tree_7&amp;n27_tree_7;\n\n    assign n22_tree_7 = (n26_tree_7&amp;n25_tree_7)|n24_tree_7;\n\n// adder_forest tree_6\n\twire n0, n1_tree_6, n2_tree_6, n3_tree_6, n4_tree_6, n5_tree_6, n6_tree_6, n7_tree_6, n8_tree_6, n9_tree_6, n10_tree_6, n11_tree_6, n12_tree_6, n13_tree_6, n14_tree_6, n15_tree_6, n16_tree_6, n17_tree_6, n18_tree_6, n19_tree_6, n20_tree_6, n21_tree_6, n22_tree_6, n23_tree_6;\n    assign sum[6] = n15_tree_6 ? n2_tree_6 : n1_tree_6;\n    assign n23_tree_6 = a_in[0]^b_in[0];\n\n    assign n22_tree_6 = a_in[0]&amp;b_in[0];\n    assign n21_tree_6 = a_in[1]^b_in[1];\n\n    assign n20_tree_6 = a_in[1]&amp;b_in[1];\n    assign n17_tree_6 = a_in[2]^b_in[2];\n\n    assign n16_tree_6 = a_in[2]&amp;b_in[2];\n    assign n13_tree_6 = a_in[3]^b_in[3];\n\n    assign n14_tree_6 = a_in[3]&amp;b_in[3];\n    assign n11_tree_6 = a_in[4]^b_in[4];\n\n    assign n12_tree_6 = a_in[4]&amp;b_in[4];\n    assign n9_tree_6 = a_in[5]^b_in[5];\n\n    assign n10_tree_6 = a_in[5]&amp;b_in[5];\n    assign n7_tree_6 = a_in[6]^b_in[6];\n\n    assign n8_tree_6 = ~(a_in[6]^b_in[6]);\n    assign w4 =  n13_tree_6| n14_tree_6;\n\n    assign n1_tree_6 = n14_tree_6 ? n4_tree_6 : n3_tree_6;\n\n    assign n2_tree_6 = w4  ? n4_tree_6 : n3_tree_6;\n    assign w2 =  n11_tree_6| n12_tree_6;\n\n    assign n3_tree_6 = n12_tree_6 ? n6_tree_6 : n5_tree_6;\n\n    assign n4_tree_6 = w2  ? n6_tree_6 : n5_tree_6;\n    assign w3 =  n9_tree_6| n10_tree_6;\n\n    assign n5_tree_6 = n10_tree_6 ? n8_tree_6 : n7_tree_6;\n\n    assign n6_tree_6 = w3  ? n8_tree_6 : n7_tree_6;\n    assign n0 = n17_tree_6&amp;n19_tree_6;\n\n    assign n15_tree_6 = (n18_tree_6&amp;n17_tree_6)|n16_tree_6;\n    assign n19_tree_6 = n21_tree_6&amp;n23_tree_6;\n\n    assign n18_tree_6 = (n22_tree_6&amp;n21_tree_6)|n20_tree_6;\n\n// adder_forest tree_5\n\twire n0, n1_tree_5, n2_tree_5, n3_tree_5, n4_tree_5, n5_tree_5, n6_tree_5, n7_tree_5, n8_tree_5, n9_tree_5, n10_tree_5, n11_tree_5, n12_tree_5, n13_tree_5, n14_tree_5, n15_tree_5, n16_tree_5, n17_tree_5, n18_tree_5, n19_tree_5;\n    assign sum[5] = n19_tree_5 ? n2_tree_5 : n1_tree_5;\n    assign n0 = a_in[0]^b_in[0];\n\n    assign n19_tree_5 = a_in[0]&amp;b_in[0];\n    assign n17_tree_5 = a_in[1]^b_in[1];\n\n    assign n18_tree_5 = a_in[1]&amp;b_in[1];\n    assign n16_tree_5 = a_in[2]^b_in[2];\n\n    assign n15_tree_5 = a_in[2]&amp;b_in[2];\n    assign n14_tree_5 = a_in[3]^b_in[3];\n\n    assign n13_tree_5 = a_in[3]&amp;b_in[3];\n    assign n10_tree_5 = a_in[4]^b_in[4];\n\n    assign n9_tree_5 = a_in[4]&amp;b_in[4];\n    assign n5_tree_5 = a_in[5]^b_in[5];\n\n    assign n6_tree_5 = ~(a_in[5]^b_in[5]);\n    assign w6 =  n17_tree_5| n18_tree_5;\n\n    assign n1_tree_5 = n18_tree_5 ? n4_tree_5 : n3_tree_5;\n\n    assign n2_tree_5 = w6  ? n4_tree_5 : n3_tree_5;\n    assign w5 =  n7_tree_5| n8_tree_5;\n\n    assign n3_tree_5 = n8_tree_5 ? n6_tree_5 : n5_tree_5;\n\n    assign n4_tree_5 = w5  ? n6_tree_5 : n5_tree_5;\n    assign n7_tree_5 = n10_tree_5&amp;n12_tree_5;\n\n    assign n8_tree_5 = (n11_tree_5&amp;n10_tree_5)|n9_tree_5;\n    assign n12_tree_5 = n14_tree_5&amp;n16_tree_5;\n\n    assign n11_tree_5 = (n15_tree_5&amp;n14_tree_5)|n13_tree_5;\n\n// adder_forest tree_4\n\twire n0, n1_tree_4, n2_tree_4, n3_tree_4, n4_tree_4, n5_tree_4, n6_tree_4, n7_tree_4, n8_tree_4, n9_tree_4, n10_tree_4, n11_tree_4, n12_tree_4, n13_tree_4, n14_tree_4, n15_tree_4;\n    assign sum[4] = n7_tree_4 ? n2_tree_4 : n1_tree_4;\n    assign n15_tree_4 = a_in[0]^b_in[0];\n\n    assign n14_tree_4 = a_in[0]&amp;b_in[0];\n    assign n13_tree_4 = a_in[1]^b_in[1];\n\n    assign n12_tree_4 = a_in[1]&amp;b_in[1];\n    assign n9_tree_4 = a_in[2]^b_in[2];\n\n    assign n8_tree_4 = a_in[2]&amp;b_in[2];\n    assign n5_tree_4 = a_in[3]^b_in[3];\n\n    assign n6_tree_4 = a_in[3]&amp;b_in[3];\n    assign n3_tree_4 = a_in[4]^b_in[4];\n\n    assign n4_tree_4 = ~(a_in[4]^b_in[4]);\n    assign w7 =  n5_tree_4| n6_tree_4;\n\n    assign n1_tree_4 = n6_tree_4 ? n4_tree_4 : n3_tree_4;\n\n    assign n2_tree_4 = w7  ? n4_tree_4 : n3_tree_4;\n    assign n0 = n9_tree_4&amp;n11_tree_4;\n\n    assign n7_tree_4 = (n10_tree_4&amp;n9_tree_4)|n8_tree_4;\n    assign n11_tree_4 = n13_tree_4&amp;n15_tree_4;\n\n    assign n10_tree_4 = (n14_tree_4&amp;n13_tree_4)|n12_tree_4;\n\n// adder_forest tree_3\n\twire n0, n1_tree_3, n2_tree_3, n3_tree_3, n4_tree_3, n5_tree_3, n6_tree_3, n7_tree_3, n8_tree_3, n9_tree_3, n10_tree_3, n11_tree_3;\n    assign sum[3] = n7_tree_3 ? n2_tree_3 : n1_tree_3;\n    assign n11_tree_3 = a_in[0]^b_in[0];\n\n    assign n10_tree_3 = a_in[0]&amp;b_in[0];\n    assign n9_tree_3 = a_in[1]^b_in[1];\n\n    assign n8_tree_3 = a_in[1]&amp;b_in[1];\n    assign n5_tree_3 = a_in[2]^b_in[2];\n\n    assign n6_tree_3 = a_in[2]&amp;b_in[2];\n    assign n3_tree_3 = a_in[3]^b_in[3];\n\n    assign n4_tree_3 = ~(a_in[3]^b_in[3]);\n    assign w8 =  n5_tree_3| n6_tree_3;\n\n    assign n1_tree_3 = n6_tree_3 ? n4_tree_3 : n3_tree_3;\n\n    assign n2_tree_3 = w8  ? n4_tree_3 : n3_tree_3;\n    assign n0 = n9_tree_3&amp;n11_tree_3;\n\n    assign n7_tree_3 = (n10_tree_3&amp;n9_tree_3)|n8_tree_3;\n\n// adder_forest tree_2\n\twire n0, n1_tree_2, n2_tree_2, n3_tree_2, n4_tree_2, n5_tree_2, n6_tree_2, n7_tree_2;\n    assign sum[2] = n3_tree_2 ? n2_tree_2 : n1_tree_2;\n    assign n7_tree_2 = a_in[0]^b_in[0];\n\n    assign n6_tree_2 = a_in[0]&amp;b_in[0];\n    assign n5_tree_2 = a_in[1]^b_in[1];\n\n    assign n4_tree_2 = a_in[1]&amp;b_in[1];\n    assign n1_tree_2 = a_in[2]^b_in[2];\n\n    assign n2_tree_2 = ~(a_in[2]^b_in[2]);\n    assign n0 = n5_tree_2&amp;n7_tree_2;\n\n    assign n3_tree_2 = (n6_tree_2&amp;n5_tree_2)|n4_tree_2;\n\n// adder_forest tree_1\n\twire n0, n1_tree_1, n2_tree_1, n3_tree_1;\n    assign sum[1] = n3_tree_1 ? n2_tree_1 : n1_tree_1;\n    assign n0 = a_in[0]^b_in[0];\n\n    assign n3_tree_1 = a_in[0]&amp;b_in[0];\n    assign n1_tree_1 = a_in[1]^b_in[1];\n\n    assign n2_tree_1 = ~(a_in[1]^b_in[1]);\n\n// adder_forest tree_0\n\twire n0, n1_tree_0, n2_tree_0;\n    assign sum[0] = n0 ? n2_tree_0 : n1_tree_0;\n    assign n1_tree_0 = a_in[0]^b_in[0];\n\n    assign n2_tree_0 = ~(a_in[0]^b_in[0]);\n\nendmodule // adder1\n&#39;},
 &#39;\nmodule adder1(\n\n\tinput [8:0] a_in,\n\tinput [8:0] b_in,\n\toutput [8:0] sum\n\t);\n\n// adder_forest tree_8\n\twire n0, n1_tree_8, n2_tree_8, n3_tree_8, n4_tree_8, n5_tree_8, n6_tree_8, n7_tree_8, n8_tree_8, n9_tree_8, n10_tree_8, n11_tree_8, n12_tree_8, n13_tree_8, n14_tree_8, n15_tree_8, n16_tree_8, n17_tree_8, n18_tree_8, n19_tree_8, n20_tree_8, n21_tree_8, n22_tree_8, n23_tree_8, n24_tree_8, n25_tree_8, n26_tree_8, n27_tree_8, n28_tree_8, n29_tree_8, n30_tree_8, n31_tree_8;\n    assign sum[8] = n3_tree_8 ? n2_tree_8 : n1_tree_8;\n    assign n31_tree_8 = a_in[0]^b_in[0];\n\n    assign n30_tree_8 = a_in[0]&amp;b_in[0];\n    assign n29_tree_8 = a_in[1]^b_in[1];\n\n    assign n28_tree_8 = a_in[1]&amp;b_in[1];\n    assign n25_tree_8 = a_in[2]^b_in[2];\n\n    assign n24_tree_8 = a_in[2]&amp;b_in[2];\n    assign n23_tree_8 = a_in[3]^b_in[3];\n\n    assign n22_tree_8 = a_in[3]&amp;b_in[3];\n    assign n17_tree_8 = a_in[4]^b_in[4];\n\n    assign n16_tree_8 = a_in[4]&amp;b_in[4];\n    assign n15_tree_8 = a_in[5]^b_in[5];\n\n    assign n14_tree_8 = a_in[5]&amp;b_in[5];\n    assign n11_tree_8 = a_in[6]^b_in[6];\n\n    assign n10_tree_8 = a_in[6]&amp;b_in[6];\n    assign n9_tree_8 = a_in[7]^b_in[7];\n\n    assign n8_tree_8 = a_in[7]&amp;b_in[7];\n    assign n1_tree_8 = a_in[8]^b_in[8];\n\n    assign n2_tree_8 = ~(a_in[8]^b_in[8]);\n    assign n0 = n5_tree_8&amp;n19_tree_8;\n\n    assign n3_tree_8 = (n18_tree_8&amp;n5_tree_8)|n4_tree_8;\n    assign n5_tree_8 = n7_tree_8&amp;n13_tree_8;\n\n    assign n4_tree_8 = (n12_tree_8&amp;n7_tree_8)|n6_tree_8;\n    assign n7_tree_8 = n9_tree_8&amp;n11_tree_8;\n\n    assign n6_tree_8 = (n10_tree_8&amp;n9_tree_8)|n8_tree_8;\n    assign n13_tree_8 = n15_tree_8&amp;n17_tree_8;\n\n    assign n12_tree_8 = (n16_tree_8&amp;n15_tree_8)|n14_tree_8;\n    assign n19_tree_8 = n21_tree_8&amp;n27_tree_8;\n\n    assign n18_tree_8 = (n26_tree_8&amp;n21_tree_8)|n20_tree_8;\n    assign n21_tree_8 = n23_tree_8&amp;n25_tree_8;\n\n    assign n20_tree_8 = (n24_tree_8&amp;n23_tree_8)|n22_tree_8;\n    assign n27_tree_8 = n29_tree_8&amp;n31_tree_8;\n\n    assign n26_tree_8 = (n30_tree_8&amp;n29_tree_8)|n28_tree_8;\n\n// adder_forest tree_7\n\twire n0, n1_tree_7, n2_tree_7, n3_tree_7, n4_tree_7, n5_tree_7, n6_tree_7, n7_tree_7, n8_tree_7, n9_tree_7, n10_tree_7, n11_tree_7, n12_tree_7, n13_tree_7, n14_tree_7, n15_tree_7, n16_tree_7, n17_tree_7, n18_tree_7, n19_tree_7, n20_tree_7, n21_tree_7, n22_tree_7, n23_tree_7, n24_tree_7, n25_tree_7, n26_tree_7, n27_tree_7;\n    assign sum[7] = n15_tree_7 ? n2_tree_7 : n1_tree_7;\n    assign n27_tree_7 = a_in[0]^b_in[0];\n\n    assign n26_tree_7 = a_in[0]&amp;b_in[0];\n    assign n25_tree_7 = a_in[1]^b_in[1];\n\n    assign n24_tree_7 = a_in[1]&amp;b_in[1];\n    assign n21_tree_7 = a_in[2]^b_in[2];\n\n    assign n20_tree_7 = a_in[2]&amp;b_in[2];\n    assign n19_tree_7 = a_in[3]^b_in[3];\n\n    assign n18_tree_7 = a_in[3]&amp;b_in[3];\n    assign n14_tree_7 = a_in[4]^b_in[4];\n\n    assign n13_tree_7 = a_in[4]&amp;b_in[4];\n    assign n12_tree_7 = a_in[5]^b_in[5];\n\n    assign n11_tree_7 = a_in[5]&amp;b_in[5];\n    assign n7_tree_7 = a_in[6]^b_in[6];\n\n    assign n8_tree_7 = a_in[6]&amp;b_in[6];\n    assign n5_tree_7 = a_in[7]^b_in[7];\n\n    assign n6_tree_7 = ~(a_in[7]^b_in[7]);\n    assign w0 =  n9_tree_7| n10_tree_7;\n\n    assign n1_tree_7 = n10_tree_7 ? n4_tree_7 : n3_tree_7;\n\n    assign n2_tree_7 = w0  ? n4_tree_7 : n3_tree_7;\n    assign w1 =  n7_tree_7| n8_tree_7;\n\n    assign n3_tree_7 = n8_tree_7 ? n6_tree_7 : n5_tree_7;\n\n    assign n4_tree_7 = w1  ? n6_tree_7 : n5_tree_7;\n    assign n9_tree_7 = n12_tree_7&amp;n14_tree_7;\n\n    assign n10_tree_7 = (n13_tree_7&amp;n12_tree_7)|n11_tree_7;\n    assign n0 = n17_tree_7&amp;n23_tree_7;\n\n    assign n15_tree_7 = (n22_tree_7&amp;n17_tree_7)|n16_tree_7;\n    assign n17_tree_7 = n19_tree_7&amp;n21_tree_7;\n\n    assign n16_tree_7 = (n20_tree_7&amp;n19_tree_7)|n18_tree_7;\n    assign n23_tree_7 = n25_tree_7&amp;n27_tree_7;\n\n    assign n22_tree_7 = (n26_tree_7&amp;n25_tree_7)|n24_tree_7;\n\n// adder_forest tree_6\n\twire n0, n1_tree_6, n2_tree_6, n3_tree_6, n4_tree_6, n5_tree_6, n6_tree_6, n7_tree_6, n8_tree_6, n9_tree_6, n10_tree_6, n11_tree_6, n12_tree_6, n13_tree_6, n14_tree_6, n15_tree_6, n16_tree_6, n17_tree_6, n18_tree_6, n19_tree_6, n20_tree_6, n21_tree_6, n22_tree_6, n23_tree_6;\n    assign sum[6] = n15_tree_6 ? n2_tree_6 : n1_tree_6;\n    assign n23_tree_6 = a_in[0]^b_in[0];\n\n    assign n22_tree_6 = a_in[0]&amp;b_in[0];\n    assign n21_tree_6 = a_in[1]^b_in[1];\n\n    assign n20_tree_6 = a_in[1]&amp;b_in[1];\n    assign n17_tree_6 = a_in[2]^b_in[2];\n\n    assign n16_tree_6 = a_in[2]&amp;b_in[2];\n    assign n13_tree_6 = a_in[3]^b_in[3];\n\n    assign n14_tree_6 = a_in[3]&amp;b_in[3];\n    assign n11_tree_6 = a_in[4]^b_in[4];\n\n    assign n12_tree_6 = a_in[4]&amp;b_in[4];\n    assign n9_tree_6 = a_in[5]^b_in[5];\n\n    assign n10_tree_6 = a_in[5]&amp;b_in[5];\n    assign n7_tree_6 = a_in[6]^b_in[6];\n\n    assign n8_tree_6 = ~(a_in[6]^b_in[6]);\n    assign w4 =  n13_tree_6| n14_tree_6;\n\n    assign n1_tree_6 = n14_tree_6 ? n4_tree_6 : n3_tree_6;\n\n    assign n2_tree_6 = w4  ? n4_tree_6 : n3_tree_6;\n    assign w2 =  n11_tree_6| n12_tree_6;\n\n    assign n3_tree_6 = n12_tree_6 ? n6_tree_6 : n5_tree_6;\n\n    assign n4_tree_6 = w2  ? n6_tree_6 : n5_tree_6;\n    assign w3 =  n9_tree_6| n10_tree_6;\n\n    assign n5_tree_6 = n10_tree_6 ? n8_tree_6 : n7_tree_6;\n\n    assign n6_tree_6 = w3  ? n8_tree_6 : n7_tree_6;\n    assign n0 = n17_tree_6&amp;n19_tree_6;\n\n    assign n15_tree_6 = (n18_tree_6&amp;n17_tree_6)|n16_tree_6;\n    assign n19_tree_6 = n21_tree_6&amp;n23_tree_6;\n\n    assign n18_tree_6 = (n22_tree_6&amp;n21_tree_6)|n20_tree_6;\n\n// adder_forest tree_5\n\twire n0, n1_tree_5, n2_tree_5, n3_tree_5, n4_tree_5, n5_tree_5, n6_tree_5, n7_tree_5, n8_tree_5, n9_tree_5, n10_tree_5, n11_tree_5, n12_tree_5, n13_tree_5, n14_tree_5, n15_tree_5, n16_tree_5, n17_tree_5, n18_tree_5, n19_tree_5;\n    assign sum[5] = n19_tree_5 ? n2_tree_5 : n1_tree_5;\n    assign n0 = a_in[0]^b_in[0];\n\n    assign n19_tree_5 = a_in[0]&amp;b_in[0];\n    assign n17_tree_5 = a_in[1]^b_in[1];\n\n    assign n18_tree_5 = a_in[1]&amp;b_in[1];\n    assign n16_tree_5 = a_in[2]^b_in[2];\n\n    assign n15_tree_5 = a_in[2]&amp;b_in[2];\n    assign n14_tree_5 = a_in[3]^b_in[3];\n\n    assign n13_tree_5 = a_in[3]&amp;b_in[3];\n    assign n10_tree_5 = a_in[4]^b_in[4];\n\n    assign n9_tree_5 = a_in[4]&amp;b_in[4];\n    assign n5_tree_5 = a_in[5]^b_in[5];\n\n    assign n6_tree_5 = ~(a_in[5]^b_in[5]);\n    assign w6 =  n17_tree_5| n18_tree_5;\n\n    assign n1_tree_5 = n18_tree_5 ? n4_tree_5 : n3_tree_5;\n\n    assign n2_tree_5 = w6  ? n4_tree_5 : n3_tree_5;\n    assign w5 =  n7_tree_5| n8_tree_5;\n\n    assign n3_tree_5 = n8_tree_5 ? n6_tree_5 : n5_tree_5;\n\n    assign n4_tree_5 = w5  ? n6_tree_5 : n5_tree_5;\n    assign n7_tree_5 = n10_tree_5&amp;n12_tree_5;\n\n    assign n8_tree_5 = (n11_tree_5&amp;n10_tree_5)|n9_tree_5;\n    assign n12_tree_5 = n14_tree_5&amp;n16_tree_5;\n\n    assign n11_tree_5 = (n15_tree_5&amp;n14_tree_5)|n13_tree_5;\n\n// adder_forest tree_4\n\twire n0, n1_tree_4, n2_tree_4, n3_tree_4, n4_tree_4, n5_tree_4, n6_tree_4, n7_tree_4, n8_tree_4, n9_tree_4, n10_tree_4, n11_tree_4, n12_tree_4, n13_tree_4, n14_tree_4, n15_tree_4;\n    assign sum[4] = n7_tree_4 ? n2_tree_4 : n1_tree_4;\n    assign n15_tree_4 = a_in[0]^b_in[0];\n\n    assign n14_tree_4 = a_in[0]&amp;b_in[0];\n    assign n13_tree_4 = a_in[1]^b_in[1];\n\n    assign n12_tree_4 = a_in[1]&amp;b_in[1];\n    assign n9_tree_4 = a_in[2]^b_in[2];\n\n    assign n8_tree_4 = a_in[2]&amp;b_in[2];\n    assign n5_tree_4 = a_in[3]^b_in[3];\n\n    assign n6_tree_4 = a_in[3]&amp;b_in[3];\n    assign n3_tree_4 = a_in[4]^b_in[4];\n\n    assign n4_tree_4 = ~(a_in[4]^b_in[4]);\n    assign w7 =  n5_tree_4| n6_tree_4;\n\n    assign n1_tree_4 = n6_tree_4 ? n4_tree_4 : n3_tree_4;\n\n    assign n2_tree_4 = w7  ? n4_tree_4 : n3_tree_4;\n    assign n0 = n9_tree_4&amp;n11_tree_4;\n\n    assign n7_tree_4 = (n10_tree_4&amp;n9_tree_4)|n8_tree_4;\n    assign n11_tree_4 = n13_tree_4&amp;n15_tree_4;\n\n    assign n10_tree_4 = (n14_tree_4&amp;n13_tree_4)|n12_tree_4;\n\n// adder_forest tree_3\n\twire n0, n1_tree_3, n2_tree_3, n3_tree_3, n4_tree_3, n5_tree_3, n6_tree_3, n7_tree_3, n8_tree_3, n9_tree_3, n10_tree_3, n11_tree_3;\n    assign sum[3] = n7_tree_3 ? n2_tree_3 : n1_tree_3;\n    assign n11_tree_3 = a_in[0]^b_in[0];\n\n    assign n10_tree_3 = a_in[0]&amp;b_in[0];\n    assign n9_tree_3 = a_in[1]^b_in[1];\n\n    assign n8_tree_3 = a_in[1]&amp;b_in[1];\n    assign n5_tree_3 = a_in[2]^b_in[2];\n\n    assign n6_tree_3 = a_in[2]&amp;b_in[2];\n    assign n3_tree_3 = a_in[3]^b_in[3];\n\n    assign n4_tree_3 = ~(a_in[3]^b_in[3]);\n    assign w8 =  n5_tree_3| n6_tree_3;\n\n    assign n1_tree_3 = n6_tree_3 ? n4_tree_3 : n3_tree_3;\n\n    assign n2_tree_3 = w8  ? n4_tree_3 : n3_tree_3;\n    assign n0 = n9_tree_3&amp;n11_tree_3;\n\n    assign n7_tree_3 = (n10_tree_3&amp;n9_tree_3)|n8_tree_3;\n\n// adder_forest tree_2\n\twire n0, n1_tree_2, n2_tree_2, n3_tree_2, n4_tree_2, n5_tree_2, n6_tree_2, n7_tree_2;\n    assign sum[2] = n3_tree_2 ? n2_tree_2 : n1_tree_2;\n    assign n7_tree_2 = a_in[0]^b_in[0];\n\n    assign n6_tree_2 = a_in[0]&amp;b_in[0];\n    assign n5_tree_2 = a_in[1]^b_in[1];\n\n    assign n4_tree_2 = a_in[1]&amp;b_in[1];\n    assign n1_tree_2 = a_in[2]^b_in[2];\n\n    assign n2_tree_2 = ~(a_in[2]^b_in[2]);\n    assign n0 = n5_tree_2&amp;n7_tree_2;\n\n    assign n3_tree_2 = (n6_tree_2&amp;n5_tree_2)|n4_tree_2;\n\n// adder_forest tree_1\n\twire n0, n1_tree_1, n2_tree_1, n3_tree_1;\n    assign sum[1] = n3_tree_1 ? n2_tree_1 : n1_tree_1;\n    assign n0 = a_in[0]^b_in[0];\n\n    assign n3_tree_1 = a_in[0]&amp;b_in[0];\n    assign n1_tree_1 = a_in[1]^b_in[1];\n\n    assign n2_tree_1 = ~(a_in[1]^b_in[1]);\n\n// adder_forest tree_0\n\twire n0, n1_tree_0, n2_tree_0;\n    assign sum[0] = n0 ? n2_tree_0 : n1_tree_0;\n    assign n1_tree_0 = a_in[0]^b_in[0];\n\n    assign n2_tree_0 = ~(a_in[0]^b_in[0]);\n\nendmodule // adder1\n&#39;)
</pre></div></div>
</div>
<p>By default, HDL is behavioral. However, it can be very readily mapped onto a supported technology. This instantiates the required standard cell, resulting in structural HDL that is ready to be used by a place-and-route tool.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderForest import AdderForest as forest
from pptrees.util import catalan_bounds

width = 9
print(&quot;The maximum tree sizes for a forest of width {0} are {1}&quot;.format(width,catalan_bounds(width)))
f = forest(width, tree_start_points = [0, 0, 0, 2, 5, 37, 74, 214, 214])
f.hdl(&#39;mapped.v&#39;, optimization = 0, mapping = &quot;sky130_fd_sc_hd&quot;)
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The maximum tree sizes for a forest of width 9 are [0, 0, 1, 4, 13, 41, 131, 428, 1429]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&#39;\n\tadder U0(\n\t\t.a_in(a_in),\n\t\t.b_in(b_in),\n\t\t.sum(sum)\n\t);&#39;,
 {&#39;\nmodule adder(\n\n\tinput [8:0] a_in,\n\tinput [8:0] b_in,\n\toutput [8:0] sum\n\t);\n\n// adder_forest tree_8\n\twire n0, n1_tree_8, n2_tree_8, n3_tree_8, n4_tree_8, n5_tree_8, n6_tree_8, n7_tree_8, n8_tree_8, n9_tree_8, n10_tree_8, n11_tree_8, n12_tree_8, n13_tree_8, n14_tree_8, n15_tree_8, n16_tree_8, n17_tree_8, n18_tree_8, n19_tree_8, n20_tree_8, n21_tree_8, n22_tree_8, n23_tree_8, n24_tree_8, n25_tree_8, n26_tree_8, n27_tree_8, n28_tree_8, n29_tree_8, n30_tree_8, n31_tree_8;\n    sky130_fd_sc_hd__mux2_1 U0(.X(sum[8]), .S(n3_tree_8), .A0(n1_tree_8), .A1(n2_tree_8));\n    sky130_fd_sc_hd__xor2_1 U1(.X(n31_tree_8), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U2(.X(n30_tree_8), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U3(.X(n29_tree_8), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U4(.X(n28_tree_8), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U5(.X(n25_tree_8), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U6(.X(n24_tree_8), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__xor2_1 U7(.X(n23_tree_8), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U8(.X(n22_tree_8), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__xor2_1 U9(.X(n17_tree_8), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U10(.X(n16_tree_8), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__xor2_1 U11(.X(n15_tree_8), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__and2_1 U12(.X(n14_tree_8), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__xor2_1 U13(.X(n11_tree_8), .A(a_in[6]), .B(b_in[6]));\n\n    sky130_fd_sc_hd__and2_1 U14(.X(n10_tree_8), .A(a_in[6]), .B(b_in[6]));\n    sky130_fd_sc_hd__xor2_1 U15(.X(n9_tree_8), .A(a_in[7]), .B(b_in[7]));\n\n    sky130_fd_sc_hd__and2_1 U16(.X(n8_tree_8), .A(a_in[7]), .B(b_in[7]));\n    sky130_fd_sc_hd__xor2_1 U17(.X(n1_tree_8), .A(a_in[8]), .B(b_in[8]));\n\n    sky130_fd_sc_hd__xnor2_1 U18(.Y(n2_tree_8), .A(a_in[8]), .B(b_in[8]));\n    sky130_fd_sc_hd__and2_1 U19(.X(n0), .A(n5_tree_8), .B(n19_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U20(.X(n3_tree_8), .A1(n18_tree_8), .A2(n5_tree_8), .B1(n4_tree_8));\n    sky130_fd_sc_hd__and2_1 U21(.X(n5_tree_8), .A(n7_tree_8), .B(n13_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U22(.X(n4_tree_8), .A1(n12_tree_8), .A2(n7_tree_8), .B1(n6_tree_8));\n    sky130_fd_sc_hd__and2_1 U23(.X(n7_tree_8), .A(n9_tree_8), .B(n11_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U24(.X(n6_tree_8), .A1(n10_tree_8), .A2(n9_tree_8), .B1(n8_tree_8));\n    sky130_fd_sc_hd__and2_1 U25(.X(n13_tree_8), .A(n15_tree_8), .B(n17_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U26(.X(n12_tree_8), .A1(n16_tree_8), .A2(n15_tree_8), .B1(n14_tree_8));\n    sky130_fd_sc_hd__and2_1 U27(.X(n19_tree_8), .A(n21_tree_8), .B(n27_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U28(.X(n18_tree_8), .A1(n26_tree_8), .A2(n21_tree_8), .B1(n20_tree_8));\n    sky130_fd_sc_hd__and2_1 U29(.X(n21_tree_8), .A(n23_tree_8), .B(n25_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U30(.X(n20_tree_8), .A1(n24_tree_8), .A2(n23_tree_8), .B1(n22_tree_8));\n    sky130_fd_sc_hd__and2_1 U31(.X(n27_tree_8), .A(n29_tree_8), .B(n31_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U32(.X(n26_tree_8), .A1(n30_tree_8), .A2(n29_tree_8), .B1(n28_tree_8));\n\n// adder_forest tree_7\n\twire n0, n1_tree_7, n2_tree_7, n3_tree_7, n4_tree_7, n5_tree_7, n6_tree_7, n7_tree_7, n8_tree_7, n9_tree_7, n10_tree_7, n11_tree_7, n12_tree_7, n13_tree_7, n14_tree_7, n15_tree_7, n16_tree_7, n17_tree_7, n18_tree_7, n19_tree_7, n20_tree_7, n21_tree_7, n22_tree_7, n23_tree_7, n24_tree_7, n25_tree_7, n26_tree_7, n27_tree_7;\n    sky130_fd_sc_hd__mux2_1 U33(.X(sum[7]), .S(n15_tree_7), .A0(n1_tree_7), .A1(n2_tree_7));\n    sky130_fd_sc_hd__xor2_1 U34(.X(n27_tree_7), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U35(.X(n26_tree_7), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U36(.X(n25_tree_7), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U37(.X(n24_tree_7), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U38(.X(n21_tree_7), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U39(.X(n20_tree_7), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__xor2_1 U40(.X(n19_tree_7), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U41(.X(n18_tree_7), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__xor2_1 U42(.X(n14_tree_7), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U43(.X(n13_tree_7), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__xor2_1 U44(.X(n12_tree_7), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__and2_1 U45(.X(n11_tree_7), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__xor2_1 U46(.X(n7_tree_7), .A(a_in[6]), .B(b_in[6]));\n\n    sky130_fd_sc_hd__and2_1 U47(.X(n8_tree_7), .A(a_in[6]), .B(b_in[6]));\n    sky130_fd_sc_hd__xor2_1 U48(.X(n5_tree_7), .A(a_in[7]), .B(b_in[7]));\n\n    sky130_fd_sc_hd__xnor2_1 U49(.Y(n6_tree_7), .A(a_in[7]), .B(b_in[7]));\n    sky130_fd_sc_hd__or2_1 U50(.X(w0), .A( n9_tree_7), .B( n10_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U51(.X(n1_tree_7), .S(n10_tree_7), .A0(n3_tree_7), .A1(n4_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U52(.X(n2_tree_7), .S(w0 ), .A0(n3_tree_7), .A1(n4_tree_7));\n    sky130_fd_sc_hd__or2_1 U53(.X(w1), .A( n7_tree_7), .B( n8_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U54(.X(n3_tree_7), .S(n8_tree_7), .A0(n5_tree_7), .A1(n6_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U55(.X(n4_tree_7), .S(w1 ), .A0(n5_tree_7), .A1(n6_tree_7));\n    sky130_fd_sc_hd__and2_1 U56(.X(n9_tree_7), .A(n12_tree_7), .B(n14_tree_7));\n\n    sky130_fd_sc_hd__a21o_1 U57(.X(n10_tree_7), .A1(n13_tree_7), .A2(n12_tree_7), .B1(n11_tree_7));\n    sky130_fd_sc_hd__and2_1 U58(.X(n0), .A(n17_tree_7), .B(n23_tree_7));\n\n    sky130_fd_sc_hd__a21o_1 U59(.X(n15_tree_7), .A1(n22_tree_7), .A2(n17_tree_7), .B1(n16_tree_7));\n    sky130_fd_sc_hd__and2_1 U60(.X(n17_tree_7), .A(n19_tree_7), .B(n21_tree_7));\n\n    sky130_fd_sc_hd__a21o_1 U61(.X(n16_tree_7), .A1(n20_tree_7), .A2(n19_tree_7), .B1(n18_tree_7));\n    sky130_fd_sc_hd__and2_1 U62(.X(n23_tree_7), .A(n25_tree_7), .B(n27_tree_7));\n\n    sky130_fd_sc_hd__a21o_1 U63(.X(n22_tree_7), .A1(n26_tree_7), .A2(n25_tree_7), .B1(n24_tree_7));\n\n// adder_forest tree_6\n\twire n0, n1_tree_6, n2_tree_6, n3_tree_6, n4_tree_6, n5_tree_6, n6_tree_6, n7_tree_6, n8_tree_6, n9_tree_6, n10_tree_6, n11_tree_6, n12_tree_6, n13_tree_6, n14_tree_6, n15_tree_6, n16_tree_6, n17_tree_6, n18_tree_6, n19_tree_6, n20_tree_6, n21_tree_6, n22_tree_6, n23_tree_6;\n    sky130_fd_sc_hd__mux2_1 U64(.X(sum[6]), .S(n15_tree_6), .A0(n1_tree_6), .A1(n2_tree_6));\n    sky130_fd_sc_hd__xor2_1 U65(.X(n23_tree_6), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U66(.X(n22_tree_6), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U67(.X(n21_tree_6), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U68(.X(n20_tree_6), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U69(.X(n17_tree_6), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U70(.X(n16_tree_6), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__xor2_1 U71(.X(n13_tree_6), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U72(.X(n14_tree_6), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__xor2_1 U73(.X(n11_tree_6), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U74(.X(n12_tree_6), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__xor2_1 U75(.X(n9_tree_6), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__and2_1 U76(.X(n10_tree_6), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__xor2_1 U77(.X(n7_tree_6), .A(a_in[6]), .B(b_in[6]));\n\n    sky130_fd_sc_hd__xnor2_1 U78(.Y(n8_tree_6), .A(a_in[6]), .B(b_in[6]));\n    sky130_fd_sc_hd__or2_1 U79(.X(w2), .A( n13_tree_6), .B( n14_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U80(.X(n1_tree_6), .S(n14_tree_6), .A0(n3_tree_6), .A1(n4_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U81(.X(n2_tree_6), .S(w2 ), .A0(n3_tree_6), .A1(n4_tree_6));\n    sky130_fd_sc_hd__or2_1 U82(.X(w3), .A( n11_tree_6), .B( n12_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U83(.X(n3_tree_6), .S(n12_tree_6), .A0(n5_tree_6), .A1(n6_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U84(.X(n4_tree_6), .S(w3 ), .A0(n5_tree_6), .A1(n6_tree_6));\n    sky130_fd_sc_hd__or2_1 U85(.X(w4), .A( n9_tree_6), .B( n10_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U86(.X(n5_tree_6), .S(n10_tree_6), .A0(n7_tree_6), .A1(n8_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U87(.X(n6_tree_6), .S(w4 ), .A0(n7_tree_6), .A1(n8_tree_6));\n    sky130_fd_sc_hd__and2_1 U88(.X(n0), .A(n17_tree_6), .B(n19_tree_6));\n\n    sky130_fd_sc_hd__a21o_1 U89(.X(n15_tree_6), .A1(n18_tree_6), .A2(n17_tree_6), .B1(n16_tree_6));\n    sky130_fd_sc_hd__and2_1 U90(.X(n19_tree_6), .A(n21_tree_6), .B(n23_tree_6));\n\n    sky130_fd_sc_hd__a21o_1 U91(.X(n18_tree_6), .A1(n22_tree_6), .A2(n21_tree_6), .B1(n20_tree_6));\n\n// adder_forest tree_5\n\twire n0, n1_tree_5, n2_tree_5, n3_tree_5, n4_tree_5, n5_tree_5, n6_tree_5, n7_tree_5, n8_tree_5, n9_tree_5, n10_tree_5, n11_tree_5, n12_tree_5, n13_tree_5, n14_tree_5, n15_tree_5, n16_tree_5, n17_tree_5, n18_tree_5, n19_tree_5;\n    sky130_fd_sc_hd__mux2_1 U92(.X(sum[5]), .S(n19_tree_5), .A0(n1_tree_5), .A1(n2_tree_5));\n    sky130_fd_sc_hd__xor2_1 U93(.X(n0), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U94(.X(n19_tree_5), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U95(.X(n17_tree_5), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U96(.X(n18_tree_5), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U97(.X(n16_tree_5), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U98(.X(n15_tree_5), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__xor2_1 U99(.X(n14_tree_5), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U100(.X(n13_tree_5), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__xor2_1 U101(.X(n10_tree_5), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U102(.X(n9_tree_5), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__xor2_1 U103(.X(n5_tree_5), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__xnor2_1 U104(.Y(n6_tree_5), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__or2_1 U105(.X(w6), .A( n17_tree_5), .B( n18_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U106(.X(n1_tree_5), .S(n18_tree_5), .A0(n3_tree_5), .A1(n4_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U107(.X(n2_tree_5), .S(w6 ), .A0(n3_tree_5), .A1(n4_tree_5));\n    sky130_fd_sc_hd__or2_1 U108(.X(w5), .A( n7_tree_5), .B( n8_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U109(.X(n3_tree_5), .S(n8_tree_5), .A0(n5_tree_5), .A1(n6_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U110(.X(n4_tree_5), .S(w5 ), .A0(n5_tree_5), .A1(n6_tree_5));\n    sky130_fd_sc_hd__and2_1 U111(.X(n7_tree_5), .A(n10_tree_5), .B(n12_tree_5));\n\n    sky130_fd_sc_hd__a21o_1 U112(.X(n8_tree_5), .A1(n11_tree_5), .A2(n10_tree_5), .B1(n9_tree_5));\n    sky130_fd_sc_hd__and2_1 U113(.X(n12_tree_5), .A(n14_tree_5), .B(n16_tree_5));\n\n    sky130_fd_sc_hd__a21o_1 U114(.X(n11_tree_5), .A1(n15_tree_5), .A2(n14_tree_5), .B1(n13_tree_5));\n\n// adder_forest tree_4\n\twire n0, n1_tree_4, n2_tree_4, n3_tree_4, n4_tree_4, n5_tree_4, n6_tree_4, n7_tree_4, n8_tree_4, n9_tree_4, n10_tree_4, n11_tree_4, n12_tree_4, n13_tree_4, n14_tree_4, n15_tree_4;\n    sky130_fd_sc_hd__mux2_1 U115(.X(sum[4]), .S(n7_tree_4), .A0(n1_tree_4), .A1(n2_tree_4));\n    sky130_fd_sc_hd__xor2_1 U116(.X(n15_tree_4), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U117(.X(n14_tree_4), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U118(.X(n13_tree_4), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U119(.X(n12_tree_4), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U120(.X(n9_tree_4), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U121(.X(n8_tree_4), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__xor2_1 U122(.X(n5_tree_4), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U123(.X(n6_tree_4), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__xor2_1 U124(.X(n3_tree_4), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__xnor2_1 U125(.Y(n4_tree_4), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__or2_1 U126(.X(w7), .A( n5_tree_4), .B( n6_tree_4));\n\n    sky130_fd_sc_hd__mux2_1 U127(.X(n1_tree_4), .S(n6_tree_4), .A0(n3_tree_4), .A1(n4_tree_4));\n\n    sky130_fd_sc_hd__mux2_1 U128(.X(n2_tree_4), .S(w7 ), .A0(n3_tree_4), .A1(n4_tree_4));\n    sky130_fd_sc_hd__and2_1 U129(.X(n0), .A(n9_tree_4), .B(n11_tree_4));\n\n    sky130_fd_sc_hd__a21o_1 U130(.X(n7_tree_4), .A1(n10_tree_4), .A2(n9_tree_4), .B1(n8_tree_4));\n    sky130_fd_sc_hd__and2_1 U131(.X(n11_tree_4), .A(n13_tree_4), .B(n15_tree_4));\n\n    sky130_fd_sc_hd__a21o_1 U132(.X(n10_tree_4), .A1(n14_tree_4), .A2(n13_tree_4), .B1(n12_tree_4));\n\n// adder_forest tree_3\n\twire n0, n1_tree_3, n2_tree_3, n3_tree_3, n4_tree_3, n5_tree_3, n6_tree_3, n7_tree_3, n8_tree_3, n9_tree_3, n10_tree_3, n11_tree_3;\n    sky130_fd_sc_hd__mux2_1 U133(.X(sum[3]), .S(n7_tree_3), .A0(n1_tree_3), .A1(n2_tree_3));\n    sky130_fd_sc_hd__xor2_1 U134(.X(n11_tree_3), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U135(.X(n10_tree_3), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U136(.X(n9_tree_3), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U137(.X(n8_tree_3), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U138(.X(n5_tree_3), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U139(.X(n6_tree_3), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__xor2_1 U140(.X(n3_tree_3), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__xnor2_1 U141(.Y(n4_tree_3), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__or2_1 U142(.X(w8), .A( n5_tree_3), .B( n6_tree_3));\n\n    sky130_fd_sc_hd__mux2_1 U143(.X(n1_tree_3), .S(n6_tree_3), .A0(n3_tree_3), .A1(n4_tree_3));\n\n    sky130_fd_sc_hd__mux2_1 U144(.X(n2_tree_3), .S(w8 ), .A0(n3_tree_3), .A1(n4_tree_3));\n    sky130_fd_sc_hd__and2_1 U145(.X(n0), .A(n9_tree_3), .B(n11_tree_3));\n\n    sky130_fd_sc_hd__a21o_1 U146(.X(n7_tree_3), .A1(n10_tree_3), .A2(n9_tree_3), .B1(n8_tree_3));\n\n// adder_forest tree_2\n\twire n0, n1_tree_2, n2_tree_2, n3_tree_2, n4_tree_2, n5_tree_2, n6_tree_2, n7_tree_2;\n    sky130_fd_sc_hd__mux2_1 U147(.X(sum[2]), .S(n3_tree_2), .A0(n1_tree_2), .A1(n2_tree_2));\n    sky130_fd_sc_hd__xor2_1 U148(.X(n7_tree_2), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U149(.X(n6_tree_2), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U150(.X(n5_tree_2), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U151(.X(n4_tree_2), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U152(.X(n1_tree_2), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__xnor2_1 U153(.Y(n2_tree_2), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__and2_1 U154(.X(n0), .A(n5_tree_2), .B(n7_tree_2));\n\n    sky130_fd_sc_hd__a21o_1 U155(.X(n3_tree_2), .A1(n6_tree_2), .A2(n5_tree_2), .B1(n4_tree_2));\n\n// adder_forest tree_1\n\twire n0, n1_tree_1, n2_tree_1, n3_tree_1;\n    sky130_fd_sc_hd__mux2_1 U156(.X(sum[1]), .S(n3_tree_1), .A0(n1_tree_1), .A1(n2_tree_1));\n    sky130_fd_sc_hd__xor2_1 U157(.X(n0), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U158(.X(n3_tree_1), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U159(.X(n1_tree_1), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__xnor2_1 U160(.Y(n2_tree_1), .A(a_in[1]), .B(b_in[1]));\n\n// adder_forest tree_0\n\twire n0, n1_tree_0, n2_tree_0;\n    sky130_fd_sc_hd__mux2_1 U161(.X(sum[0]), .S(n0), .A0(n1_tree_0), .A1(n2_tree_0));\n    sky130_fd_sc_hd__xor2_1 U162(.X(n1_tree_0), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__xnor2_1 U163(.Y(n2_tree_0), .A(a_in[0]), .B(b_in[0]));\n\nendmodule // adder\n&#39;},
 &#39;\nmodule adder(\n\n\tinput [8:0] a_in,\n\tinput [8:0] b_in,\n\toutput [8:0] sum\n\t);\n\n// adder_forest tree_8\n\twire n0, n1_tree_8, n2_tree_8, n3_tree_8, n4_tree_8, n5_tree_8, n6_tree_8, n7_tree_8, n8_tree_8, n9_tree_8, n10_tree_8, n11_tree_8, n12_tree_8, n13_tree_8, n14_tree_8, n15_tree_8, n16_tree_8, n17_tree_8, n18_tree_8, n19_tree_8, n20_tree_8, n21_tree_8, n22_tree_8, n23_tree_8, n24_tree_8, n25_tree_8, n26_tree_8, n27_tree_8, n28_tree_8, n29_tree_8, n30_tree_8, n31_tree_8;\n    sky130_fd_sc_hd__mux2_1 U0(.X(sum[8]), .S(n3_tree_8), .A0(n1_tree_8), .A1(n2_tree_8));\n    sky130_fd_sc_hd__xor2_1 U1(.X(n31_tree_8), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U2(.X(n30_tree_8), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U3(.X(n29_tree_8), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U4(.X(n28_tree_8), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U5(.X(n25_tree_8), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U6(.X(n24_tree_8), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__xor2_1 U7(.X(n23_tree_8), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U8(.X(n22_tree_8), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__xor2_1 U9(.X(n17_tree_8), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U10(.X(n16_tree_8), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__xor2_1 U11(.X(n15_tree_8), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__and2_1 U12(.X(n14_tree_8), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__xor2_1 U13(.X(n11_tree_8), .A(a_in[6]), .B(b_in[6]));\n\n    sky130_fd_sc_hd__and2_1 U14(.X(n10_tree_8), .A(a_in[6]), .B(b_in[6]));\n    sky130_fd_sc_hd__xor2_1 U15(.X(n9_tree_8), .A(a_in[7]), .B(b_in[7]));\n\n    sky130_fd_sc_hd__and2_1 U16(.X(n8_tree_8), .A(a_in[7]), .B(b_in[7]));\n    sky130_fd_sc_hd__xor2_1 U17(.X(n1_tree_8), .A(a_in[8]), .B(b_in[8]));\n\n    sky130_fd_sc_hd__xnor2_1 U18(.Y(n2_tree_8), .A(a_in[8]), .B(b_in[8]));\n    sky130_fd_sc_hd__and2_1 U19(.X(n0), .A(n5_tree_8), .B(n19_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U20(.X(n3_tree_8), .A1(n18_tree_8), .A2(n5_tree_8), .B1(n4_tree_8));\n    sky130_fd_sc_hd__and2_1 U21(.X(n5_tree_8), .A(n7_tree_8), .B(n13_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U22(.X(n4_tree_8), .A1(n12_tree_8), .A2(n7_tree_8), .B1(n6_tree_8));\n    sky130_fd_sc_hd__and2_1 U23(.X(n7_tree_8), .A(n9_tree_8), .B(n11_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U24(.X(n6_tree_8), .A1(n10_tree_8), .A2(n9_tree_8), .B1(n8_tree_8));\n    sky130_fd_sc_hd__and2_1 U25(.X(n13_tree_8), .A(n15_tree_8), .B(n17_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U26(.X(n12_tree_8), .A1(n16_tree_8), .A2(n15_tree_8), .B1(n14_tree_8));\n    sky130_fd_sc_hd__and2_1 U27(.X(n19_tree_8), .A(n21_tree_8), .B(n27_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U28(.X(n18_tree_8), .A1(n26_tree_8), .A2(n21_tree_8), .B1(n20_tree_8));\n    sky130_fd_sc_hd__and2_1 U29(.X(n21_tree_8), .A(n23_tree_8), .B(n25_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U30(.X(n20_tree_8), .A1(n24_tree_8), .A2(n23_tree_8), .B1(n22_tree_8));\n    sky130_fd_sc_hd__and2_1 U31(.X(n27_tree_8), .A(n29_tree_8), .B(n31_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U32(.X(n26_tree_8), .A1(n30_tree_8), .A2(n29_tree_8), .B1(n28_tree_8));\n\n// adder_forest tree_7\n\twire n0, n1_tree_7, n2_tree_7, n3_tree_7, n4_tree_7, n5_tree_7, n6_tree_7, n7_tree_7, n8_tree_7, n9_tree_7, n10_tree_7, n11_tree_7, n12_tree_7, n13_tree_7, n14_tree_7, n15_tree_7, n16_tree_7, n17_tree_7, n18_tree_7, n19_tree_7, n20_tree_7, n21_tree_7, n22_tree_7, n23_tree_7, n24_tree_7, n25_tree_7, n26_tree_7, n27_tree_7;\n    sky130_fd_sc_hd__mux2_1 U33(.X(sum[7]), .S(n15_tree_7), .A0(n1_tree_7), .A1(n2_tree_7));\n    sky130_fd_sc_hd__xor2_1 U34(.X(n27_tree_7), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U35(.X(n26_tree_7), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U36(.X(n25_tree_7), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U37(.X(n24_tree_7), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U38(.X(n21_tree_7), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U39(.X(n20_tree_7), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__xor2_1 U40(.X(n19_tree_7), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U41(.X(n18_tree_7), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__xor2_1 U42(.X(n14_tree_7), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U43(.X(n13_tree_7), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__xor2_1 U44(.X(n12_tree_7), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__and2_1 U45(.X(n11_tree_7), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__xor2_1 U46(.X(n7_tree_7), .A(a_in[6]), .B(b_in[6]));\n\n    sky130_fd_sc_hd__and2_1 U47(.X(n8_tree_7), .A(a_in[6]), .B(b_in[6]));\n    sky130_fd_sc_hd__xor2_1 U48(.X(n5_tree_7), .A(a_in[7]), .B(b_in[7]));\n\n    sky130_fd_sc_hd__xnor2_1 U49(.Y(n6_tree_7), .A(a_in[7]), .B(b_in[7]));\n    sky130_fd_sc_hd__or2_1 U50(.X(w0), .A( n9_tree_7), .B( n10_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U51(.X(n1_tree_7), .S(n10_tree_7), .A0(n3_tree_7), .A1(n4_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U52(.X(n2_tree_7), .S(w0 ), .A0(n3_tree_7), .A1(n4_tree_7));\n    sky130_fd_sc_hd__or2_1 U53(.X(w1), .A( n7_tree_7), .B( n8_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U54(.X(n3_tree_7), .S(n8_tree_7), .A0(n5_tree_7), .A1(n6_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U55(.X(n4_tree_7), .S(w1 ), .A0(n5_tree_7), .A1(n6_tree_7));\n    sky130_fd_sc_hd__and2_1 U56(.X(n9_tree_7), .A(n12_tree_7), .B(n14_tree_7));\n\n    sky130_fd_sc_hd__a21o_1 U57(.X(n10_tree_7), .A1(n13_tree_7), .A2(n12_tree_7), .B1(n11_tree_7));\n    sky130_fd_sc_hd__and2_1 U58(.X(n0), .A(n17_tree_7), .B(n23_tree_7));\n\n    sky130_fd_sc_hd__a21o_1 U59(.X(n15_tree_7), .A1(n22_tree_7), .A2(n17_tree_7), .B1(n16_tree_7));\n    sky130_fd_sc_hd__and2_1 U60(.X(n17_tree_7), .A(n19_tree_7), .B(n21_tree_7));\n\n    sky130_fd_sc_hd__a21o_1 U61(.X(n16_tree_7), .A1(n20_tree_7), .A2(n19_tree_7), .B1(n18_tree_7));\n    sky130_fd_sc_hd__and2_1 U62(.X(n23_tree_7), .A(n25_tree_7), .B(n27_tree_7));\n\n    sky130_fd_sc_hd__a21o_1 U63(.X(n22_tree_7), .A1(n26_tree_7), .A2(n25_tree_7), .B1(n24_tree_7));\n\n// adder_forest tree_6\n\twire n0, n1_tree_6, n2_tree_6, n3_tree_6, n4_tree_6, n5_tree_6, n6_tree_6, n7_tree_6, n8_tree_6, n9_tree_6, n10_tree_6, n11_tree_6, n12_tree_6, n13_tree_6, n14_tree_6, n15_tree_6, n16_tree_6, n17_tree_6, n18_tree_6, n19_tree_6, n20_tree_6, n21_tree_6, n22_tree_6, n23_tree_6;\n    sky130_fd_sc_hd__mux2_1 U64(.X(sum[6]), .S(n15_tree_6), .A0(n1_tree_6), .A1(n2_tree_6));\n    sky130_fd_sc_hd__xor2_1 U65(.X(n23_tree_6), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U66(.X(n22_tree_6), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U67(.X(n21_tree_6), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U68(.X(n20_tree_6), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U69(.X(n17_tree_6), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U70(.X(n16_tree_6), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__xor2_1 U71(.X(n13_tree_6), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U72(.X(n14_tree_6), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__xor2_1 U73(.X(n11_tree_6), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U74(.X(n12_tree_6), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__xor2_1 U75(.X(n9_tree_6), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__and2_1 U76(.X(n10_tree_6), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__xor2_1 U77(.X(n7_tree_6), .A(a_in[6]), .B(b_in[6]));\n\n    sky130_fd_sc_hd__xnor2_1 U78(.Y(n8_tree_6), .A(a_in[6]), .B(b_in[6]));\n    sky130_fd_sc_hd__or2_1 U79(.X(w2), .A( n13_tree_6), .B( n14_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U80(.X(n1_tree_6), .S(n14_tree_6), .A0(n3_tree_6), .A1(n4_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U81(.X(n2_tree_6), .S(w2 ), .A0(n3_tree_6), .A1(n4_tree_6));\n    sky130_fd_sc_hd__or2_1 U82(.X(w3), .A( n11_tree_6), .B( n12_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U83(.X(n3_tree_6), .S(n12_tree_6), .A0(n5_tree_6), .A1(n6_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U84(.X(n4_tree_6), .S(w3 ), .A0(n5_tree_6), .A1(n6_tree_6));\n    sky130_fd_sc_hd__or2_1 U85(.X(w4), .A( n9_tree_6), .B( n10_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U86(.X(n5_tree_6), .S(n10_tree_6), .A0(n7_tree_6), .A1(n8_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U87(.X(n6_tree_6), .S(w4 ), .A0(n7_tree_6), .A1(n8_tree_6));\n    sky130_fd_sc_hd__and2_1 U88(.X(n0), .A(n17_tree_6), .B(n19_tree_6));\n\n    sky130_fd_sc_hd__a21o_1 U89(.X(n15_tree_6), .A1(n18_tree_6), .A2(n17_tree_6), .B1(n16_tree_6));\n    sky130_fd_sc_hd__and2_1 U90(.X(n19_tree_6), .A(n21_tree_6), .B(n23_tree_6));\n\n    sky130_fd_sc_hd__a21o_1 U91(.X(n18_tree_6), .A1(n22_tree_6), .A2(n21_tree_6), .B1(n20_tree_6));\n\n// adder_forest tree_5\n\twire n0, n1_tree_5, n2_tree_5, n3_tree_5, n4_tree_5, n5_tree_5, n6_tree_5, n7_tree_5, n8_tree_5, n9_tree_5, n10_tree_5, n11_tree_5, n12_tree_5, n13_tree_5, n14_tree_5, n15_tree_5, n16_tree_5, n17_tree_5, n18_tree_5, n19_tree_5;\n    sky130_fd_sc_hd__mux2_1 U92(.X(sum[5]), .S(n19_tree_5), .A0(n1_tree_5), .A1(n2_tree_5));\n    sky130_fd_sc_hd__xor2_1 U93(.X(n0), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U94(.X(n19_tree_5), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U95(.X(n17_tree_5), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U96(.X(n18_tree_5), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U97(.X(n16_tree_5), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U98(.X(n15_tree_5), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__xor2_1 U99(.X(n14_tree_5), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U100(.X(n13_tree_5), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__xor2_1 U101(.X(n10_tree_5), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U102(.X(n9_tree_5), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__xor2_1 U103(.X(n5_tree_5), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__xnor2_1 U104(.Y(n6_tree_5), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__or2_1 U105(.X(w6), .A( n17_tree_5), .B( n18_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U106(.X(n1_tree_5), .S(n18_tree_5), .A0(n3_tree_5), .A1(n4_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U107(.X(n2_tree_5), .S(w6 ), .A0(n3_tree_5), .A1(n4_tree_5));\n    sky130_fd_sc_hd__or2_1 U108(.X(w5), .A( n7_tree_5), .B( n8_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U109(.X(n3_tree_5), .S(n8_tree_5), .A0(n5_tree_5), .A1(n6_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U110(.X(n4_tree_5), .S(w5 ), .A0(n5_tree_5), .A1(n6_tree_5));\n    sky130_fd_sc_hd__and2_1 U111(.X(n7_tree_5), .A(n10_tree_5), .B(n12_tree_5));\n\n    sky130_fd_sc_hd__a21o_1 U112(.X(n8_tree_5), .A1(n11_tree_5), .A2(n10_tree_5), .B1(n9_tree_5));\n    sky130_fd_sc_hd__and2_1 U113(.X(n12_tree_5), .A(n14_tree_5), .B(n16_tree_5));\n\n    sky130_fd_sc_hd__a21o_1 U114(.X(n11_tree_5), .A1(n15_tree_5), .A2(n14_tree_5), .B1(n13_tree_5));\n\n// adder_forest tree_4\n\twire n0, n1_tree_4, n2_tree_4, n3_tree_4, n4_tree_4, n5_tree_4, n6_tree_4, n7_tree_4, n8_tree_4, n9_tree_4, n10_tree_4, n11_tree_4, n12_tree_4, n13_tree_4, n14_tree_4, n15_tree_4;\n    sky130_fd_sc_hd__mux2_1 U115(.X(sum[4]), .S(n7_tree_4), .A0(n1_tree_4), .A1(n2_tree_4));\n    sky130_fd_sc_hd__xor2_1 U116(.X(n15_tree_4), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U117(.X(n14_tree_4), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U118(.X(n13_tree_4), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U119(.X(n12_tree_4), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U120(.X(n9_tree_4), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U121(.X(n8_tree_4), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__xor2_1 U122(.X(n5_tree_4), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U123(.X(n6_tree_4), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__xor2_1 U124(.X(n3_tree_4), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__xnor2_1 U125(.Y(n4_tree_4), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__or2_1 U126(.X(w7), .A( n5_tree_4), .B( n6_tree_4));\n\n    sky130_fd_sc_hd__mux2_1 U127(.X(n1_tree_4), .S(n6_tree_4), .A0(n3_tree_4), .A1(n4_tree_4));\n\n    sky130_fd_sc_hd__mux2_1 U128(.X(n2_tree_4), .S(w7 ), .A0(n3_tree_4), .A1(n4_tree_4));\n    sky130_fd_sc_hd__and2_1 U129(.X(n0), .A(n9_tree_4), .B(n11_tree_4));\n\n    sky130_fd_sc_hd__a21o_1 U130(.X(n7_tree_4), .A1(n10_tree_4), .A2(n9_tree_4), .B1(n8_tree_4));\n    sky130_fd_sc_hd__and2_1 U131(.X(n11_tree_4), .A(n13_tree_4), .B(n15_tree_4));\n\n    sky130_fd_sc_hd__a21o_1 U132(.X(n10_tree_4), .A1(n14_tree_4), .A2(n13_tree_4), .B1(n12_tree_4));\n\n// adder_forest tree_3\n\twire n0, n1_tree_3, n2_tree_3, n3_tree_3, n4_tree_3, n5_tree_3, n6_tree_3, n7_tree_3, n8_tree_3, n9_tree_3, n10_tree_3, n11_tree_3;\n    sky130_fd_sc_hd__mux2_1 U133(.X(sum[3]), .S(n7_tree_3), .A0(n1_tree_3), .A1(n2_tree_3));\n    sky130_fd_sc_hd__xor2_1 U134(.X(n11_tree_3), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U135(.X(n10_tree_3), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U136(.X(n9_tree_3), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U137(.X(n8_tree_3), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U138(.X(n5_tree_3), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U139(.X(n6_tree_3), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__xor2_1 U140(.X(n3_tree_3), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__xnor2_1 U141(.Y(n4_tree_3), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__or2_1 U142(.X(w8), .A( n5_tree_3), .B( n6_tree_3));\n\n    sky130_fd_sc_hd__mux2_1 U143(.X(n1_tree_3), .S(n6_tree_3), .A0(n3_tree_3), .A1(n4_tree_3));\n\n    sky130_fd_sc_hd__mux2_1 U144(.X(n2_tree_3), .S(w8 ), .A0(n3_tree_3), .A1(n4_tree_3));\n    sky130_fd_sc_hd__and2_1 U145(.X(n0), .A(n9_tree_3), .B(n11_tree_3));\n\n    sky130_fd_sc_hd__a21o_1 U146(.X(n7_tree_3), .A1(n10_tree_3), .A2(n9_tree_3), .B1(n8_tree_3));\n\n// adder_forest tree_2\n\twire n0, n1_tree_2, n2_tree_2, n3_tree_2, n4_tree_2, n5_tree_2, n6_tree_2, n7_tree_2;\n    sky130_fd_sc_hd__mux2_1 U147(.X(sum[2]), .S(n3_tree_2), .A0(n1_tree_2), .A1(n2_tree_2));\n    sky130_fd_sc_hd__xor2_1 U148(.X(n7_tree_2), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U149(.X(n6_tree_2), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U150(.X(n5_tree_2), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U151(.X(n4_tree_2), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__xor2_1 U152(.X(n1_tree_2), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__xnor2_1 U153(.Y(n2_tree_2), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__and2_1 U154(.X(n0), .A(n5_tree_2), .B(n7_tree_2));\n\n    sky130_fd_sc_hd__a21o_1 U155(.X(n3_tree_2), .A1(n6_tree_2), .A2(n5_tree_2), .B1(n4_tree_2));\n\n// adder_forest tree_1\n\twire n0, n1_tree_1, n2_tree_1, n3_tree_1;\n    sky130_fd_sc_hd__mux2_1 U156(.X(sum[1]), .S(n3_tree_1), .A0(n1_tree_1), .A1(n2_tree_1));\n    sky130_fd_sc_hd__xor2_1 U157(.X(n0), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__and2_1 U158(.X(n3_tree_1), .A(a_in[0]), .B(b_in[0]));\n    sky130_fd_sc_hd__xor2_1 U159(.X(n1_tree_1), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__xnor2_1 U160(.Y(n2_tree_1), .A(a_in[1]), .B(b_in[1]));\n\n// adder_forest tree_0\n\twire n0, n1_tree_0, n2_tree_0;\n    sky130_fd_sc_hd__mux2_1 U161(.X(sum[0]), .S(n0), .A0(n1_tree_0), .A1(n2_tree_0));\n    sky130_fd_sc_hd__xor2_1 U162(.X(n1_tree_0), .A(a_in[0]), .B(b_in[0]));\n\n    sky130_fd_sc_hd__xnor2_1 U163(.Y(n2_tree_0), .A(a_in[0]), .B(b_in[0]));\n\nendmodule // adder\n&#39;)
</pre></div></div>
</div>
<p>However, synthesis tools do play another important role: they perform optimizations.</p>
<p>This library contains three levels of pre-optimization that is done to assist synthesis tools.</p>
<p>Level 0 of optimization is unoptimized.</p>
<p>Level 1 of optimization performs operation-specific logic trimming.</p>
<p>Certain operations, such as binary addition, allow for the simplification of logic on locations such as the most-significant or least-significant bit. This library can perform such optimizations. This is the recommended setting.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderForest import AdderForest as forest
from pptrees.util import catalan_bounds

width = 9
print(&quot;The maximum tree sizes for a forest of width {0} are {1}&quot;.format(width,catalan_bounds(width)))
f = forest(width, tree_start_points = [0, 0, 0, 2, 5, 37, 74, 214, 214])
f.hdl(&#39;mapped_opt1.v&#39;, optimization = 1, mapping = &quot;sky130_fd_sc_hd&quot;)
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The maximum tree sizes for a forest of width 9 are [0, 0, 1, 4, 13, 41, 131, 428, 1429]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&#39;\n\tadder U0(\n\t\t.a_in(a_in),\n\t\t.b_in(b_in),\n\t\t.sum(sum)\n\t);&#39;,
 {&#39;\nmodule adder(\n\n\tinput [8:0] a_in,\n\tinput [8:0] b_in,\n\toutput [8:0] sum\n\t);\n\n// adder_forest tree_8\n\twire n32_tree_8, n33_tree_8, n34_tree_8, n35_tree_8, n36_tree_8, n37_tree_8, n38_tree_8, n39_tree_8, n40_tree_8, n41_tree_8, n42_tree_8, n43_tree_8, n44_tree_8, n45_tree_8, n46_tree_8, n47_tree_8, n48_tree_8, n49_tree_8, n50_tree_8, n51_tree_8, n52_tree_8, n53_tree_8, n54_tree_8, n55_tree_8, n56_tree_8, n57_tree_8, n58_tree_8;\n    sky130_fd_sc_hd__xor2_1 U0(.X(sum[8]), .A(n33_tree_8), .B(n32_tree_8));\n    sky130_fd_sc_hd__xor2_1 U1(.X(n32_tree_8), .A(a_in[8]), .B(b_in[8]));\n    sky130_fd_sc_hd__a21o_1 U2(.X(n33_tree_8), .A1(n48_tree_8), .A2(n35_tree_8), .B1(n34_tree_8));\n    sky130_fd_sc_hd__and2_1 U3(.X(n35_tree_8), .A(n37_tree_8), .B(n43_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U4(.X(n34_tree_8), .A1(n42_tree_8), .A2(n37_tree_8), .B1(n36_tree_8));\n    sky130_fd_sc_hd__and2_1 U5(.X(n37_tree_8), .A(n39_tree_8), .B(n41_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U6(.X(n36_tree_8), .A1(n40_tree_8), .A2(n39_tree_8), .B1(n38_tree_8));\n    sky130_fd_sc_hd__or2_1 U7(.X(n39_tree_8), .A(a_in[7]), .B(b_in[7]));\n\n    sky130_fd_sc_hd__and2_1 U8(.X(n38_tree_8), .A(a_in[7]), .B(b_in[7]));\n    sky130_fd_sc_hd__or2_1 U9(.X(n41_tree_8), .A(a_in[6]), .B(b_in[6]));\n\n    sky130_fd_sc_hd__and2_1 U10(.X(n40_tree_8), .A(a_in[6]), .B(b_in[6]));\n    sky130_fd_sc_hd__and2_1 U11(.X(n43_tree_8), .A(n45_tree_8), .B(n47_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U12(.X(n42_tree_8), .A1(n46_tree_8), .A2(n45_tree_8), .B1(n44_tree_8));\n    sky130_fd_sc_hd__or2_1 U13(.X(n45_tree_8), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__and2_1 U14(.X(n44_tree_8), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__or2_1 U15(.X(n47_tree_8), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U16(.X(n46_tree_8), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__a21o_1 U17(.X(n48_tree_8), .A1(n55_tree_8), .A2(n50_tree_8), .B1(n49_tree_8));\n    sky130_fd_sc_hd__and2_1 U18(.X(n50_tree_8), .A(n52_tree_8), .B(n54_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U19(.X(n49_tree_8), .A1(n53_tree_8), .A2(n52_tree_8), .B1(n51_tree_8));\n    sky130_fd_sc_hd__or2_1 U20(.X(n52_tree_8), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U21(.X(n51_tree_8), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__or2_1 U22(.X(n54_tree_8), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U23(.X(n53_tree_8), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__a21o_1 U24(.X(n55_tree_8), .A1(n58_tree_8), .A2(n57_tree_8), .B1(n56_tree_8));\n    sky130_fd_sc_hd__or2_1 U25(.X(n57_tree_8), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U26(.X(n56_tree_8), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U27(.X(n58_tree_8), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_7\n\twire n28_tree_7, n29_tree_7, n30_tree_7, n31_tree_7, n32_tree_7, n33_tree_7, n34_tree_7, n35_tree_7, n36_tree_7, n37_tree_7, n38_tree_7, n39_tree_7, n40_tree_7, n41_tree_7, n42_tree_7, n43_tree_7, n44_tree_7, n45_tree_7, n46_tree_7, n47_tree_7, n48_tree_7, n49_tree_7, n50_tree_7, n51_tree_7, n52_tree_7;\n    sky130_fd_sc_hd__mux2_1 U28(.X(sum[7]), .S(n42_tree_7), .A0(n28_tree_7), .A1(n29_tree_7));\n    sky130_fd_sc_hd__or2_1 U29(.X(w0), .A( n36_tree_7), .B( n37_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U30(.X(n28_tree_7), .S(n37_tree_7), .A0(n30_tree_7), .A1(n31_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U31(.X(n29_tree_7), .S(w0 ), .A0(n30_tree_7), .A1(n31_tree_7));\n    sky130_fd_sc_hd__mux2_1 U32(.X(n30_tree_7), .S(n35_tree_7), .A0(n32_tree_7), .A1(n33_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U33(.X(n31_tree_7), .S(n34_tree_7), .A0(n32_tree_7), .A1(n33_tree_7));\n    sky130_fd_sc_hd__xor2_1 U34(.X(n32_tree_7), .A(a_in[7]), .B(b_in[7]));\n\n    sky130_fd_sc_hd__xnor2_1 U35(.Y(n33_tree_7), .A(a_in[7]), .B(b_in[7]));\n    sky130_fd_sc_hd__or2_1 U36(.X(n34_tree_7), .A(a_in[6]), .B(b_in[6]));\n\n    sky130_fd_sc_hd__and2_1 U37(.X(n35_tree_7), .A(a_in[6]), .B(b_in[6]));\n    sky130_fd_sc_hd__and2_1 U38(.X(n36_tree_7), .A(n39_tree_7), .B(n41_tree_7));\n\n    sky130_fd_sc_hd__a21o_1 U39(.X(n37_tree_7), .A1(n40_tree_7), .A2(n39_tree_7), .B1(n38_tree_7));\n    sky130_fd_sc_hd__or2_1 U40(.X(n39_tree_7), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__and2_1 U41(.X(n38_tree_7), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__or2_1 U42(.X(n41_tree_7), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U43(.X(n40_tree_7), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__a21o_1 U44(.X(n42_tree_7), .A1(n49_tree_7), .A2(n44_tree_7), .B1(n43_tree_7));\n    sky130_fd_sc_hd__and2_1 U45(.X(n44_tree_7), .A(n46_tree_7), .B(n48_tree_7));\n\n    sky130_fd_sc_hd__a21o_1 U46(.X(n43_tree_7), .A1(n47_tree_7), .A2(n46_tree_7), .B1(n45_tree_7));\n    sky130_fd_sc_hd__or2_1 U47(.X(n46_tree_7), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U48(.X(n45_tree_7), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__or2_1 U49(.X(n48_tree_7), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U50(.X(n47_tree_7), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__a21o_1 U51(.X(n49_tree_7), .A1(n52_tree_7), .A2(n51_tree_7), .B1(n50_tree_7));\n    sky130_fd_sc_hd__or2_1 U52(.X(n51_tree_7), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U53(.X(n50_tree_7), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U54(.X(n52_tree_7), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_6\n\twire n24_tree_6, n25_tree_6, n26_tree_6, n27_tree_6, n28_tree_6, n29_tree_6, n30_tree_6, n31_tree_6, n32_tree_6, n33_tree_6, n34_tree_6, n35_tree_6, n36_tree_6, n37_tree_6, n38_tree_6, n39_tree_6, n40_tree_6, n41_tree_6, n42_tree_6, n43_tree_6, n44_tree_6;\n    sky130_fd_sc_hd__mux2_1 U55(.X(sum[6]), .S(n38_tree_6), .A0(n24_tree_6), .A1(n25_tree_6));\n    sky130_fd_sc_hd__mux2_1 U56(.X(n24_tree_6), .S(n37_tree_6), .A0(n26_tree_6), .A1(n27_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U57(.X(n25_tree_6), .S(n36_tree_6), .A0(n26_tree_6), .A1(n27_tree_6));\n    sky130_fd_sc_hd__mux2_1 U58(.X(n26_tree_6), .S(n35_tree_6), .A0(n28_tree_6), .A1(n29_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U59(.X(n27_tree_6), .S(n34_tree_6), .A0(n28_tree_6), .A1(n29_tree_6));\n    sky130_fd_sc_hd__mux2_1 U60(.X(n28_tree_6), .S(n33_tree_6), .A0(n30_tree_6), .A1(n31_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U61(.X(n29_tree_6), .S(n32_tree_6), .A0(n30_tree_6), .A1(n31_tree_6));\n    sky130_fd_sc_hd__xor2_1 U62(.X(n30_tree_6), .A(a_in[6]), .B(b_in[6]));\n\n    sky130_fd_sc_hd__xnor2_1 U63(.Y(n31_tree_6), .A(a_in[6]), .B(b_in[6]));\n    sky130_fd_sc_hd__or2_1 U64(.X(n32_tree_6), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__and2_1 U65(.X(n33_tree_6), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__or2_1 U66(.X(n34_tree_6), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U67(.X(n35_tree_6), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__or2_1 U68(.X(n36_tree_6), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U69(.X(n37_tree_6), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__a21o_1 U70(.X(n38_tree_6), .A1(n41_tree_6), .A2(n40_tree_6), .B1(n39_tree_6));\n    sky130_fd_sc_hd__or2_1 U71(.X(n40_tree_6), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U72(.X(n39_tree_6), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__a21o_1 U73(.X(n41_tree_6), .A1(n44_tree_6), .A2(n43_tree_6), .B1(n42_tree_6));\n    sky130_fd_sc_hd__or2_1 U74(.X(n43_tree_6), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U75(.X(n42_tree_6), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U76(.X(n44_tree_6), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_5\n\twire n20_tree_5, n21_tree_5, n22_tree_5, n23_tree_5, n24_tree_5, n25_tree_5, n26_tree_5, n27_tree_5, n28_tree_5, n29_tree_5, n30_tree_5, n31_tree_5, n32_tree_5, n33_tree_5, n34_tree_5, n35_tree_5, n36_tree_5, n37_tree_5, n38_tree_5;\n    sky130_fd_sc_hd__mux2_1 U77(.X(sum[5]), .S(n38_tree_5), .A0(n20_tree_5), .A1(n21_tree_5));\n    sky130_fd_sc_hd__mux2_1 U78(.X(n20_tree_5), .S(n37_tree_5), .A0(n22_tree_5), .A1(n23_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U79(.X(n21_tree_5), .S(n36_tree_5), .A0(n22_tree_5), .A1(n23_tree_5));\n    sky130_fd_sc_hd__or2_1 U80(.X(w1), .A( n26_tree_5), .B( n27_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U81(.X(n22_tree_5), .S(n27_tree_5), .A0(n24_tree_5), .A1(n25_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U82(.X(n23_tree_5), .S(w1 ), .A0(n24_tree_5), .A1(n25_tree_5));\n    sky130_fd_sc_hd__xor2_1 U83(.X(n24_tree_5), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__xnor2_1 U84(.Y(n25_tree_5), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__and2_1 U85(.X(n26_tree_5), .A(n29_tree_5), .B(n31_tree_5));\n\n    sky130_fd_sc_hd__a21o_1 U86(.X(n27_tree_5), .A1(n30_tree_5), .A2(n29_tree_5), .B1(n28_tree_5));\n    sky130_fd_sc_hd__or2_1 U87(.X(n29_tree_5), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U88(.X(n28_tree_5), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__and2_1 U89(.X(n31_tree_5), .A(n33_tree_5), .B(n35_tree_5));\n\n    sky130_fd_sc_hd__a21o_1 U90(.X(n30_tree_5), .A1(n34_tree_5), .A2(n33_tree_5), .B1(n32_tree_5));\n    sky130_fd_sc_hd__or2_1 U91(.X(n33_tree_5), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U92(.X(n32_tree_5), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__or2_1 U93(.X(n35_tree_5), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U94(.X(n34_tree_5), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__or2_1 U95(.X(n36_tree_5), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U96(.X(n37_tree_5), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U97(.X(n38_tree_5), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_4\n\twire n16_tree_4, n17_tree_4, n18_tree_4, n19_tree_4, n20_tree_4, n21_tree_4, n22_tree_4, n23_tree_4, n24_tree_4, n25_tree_4, n26_tree_4, n27_tree_4, n28_tree_4;\n    sky130_fd_sc_hd__mux2_1 U98(.X(sum[4]), .S(n22_tree_4), .A0(n16_tree_4), .A1(n17_tree_4));\n    sky130_fd_sc_hd__mux2_1 U99(.X(n16_tree_4), .S(n21_tree_4), .A0(n18_tree_4), .A1(n19_tree_4));\n\n    sky130_fd_sc_hd__mux2_1 U100(.X(n17_tree_4), .S(n20_tree_4), .A0(n18_tree_4), .A1(n19_tree_4));\n    sky130_fd_sc_hd__xor2_1 U101(.X(n18_tree_4), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__xnor2_1 U102(.Y(n19_tree_4), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__or2_1 U103(.X(n20_tree_4), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U104(.X(n21_tree_4), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__a21o_1 U105(.X(n22_tree_4), .A1(n25_tree_4), .A2(n24_tree_4), .B1(n23_tree_4));\n    sky130_fd_sc_hd__or2_1 U106(.X(n24_tree_4), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U107(.X(n23_tree_4), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__a21o_1 U108(.X(n25_tree_4), .A1(n28_tree_4), .A2(n27_tree_4), .B1(n26_tree_4));\n    sky130_fd_sc_hd__or2_1 U109(.X(n27_tree_4), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U110(.X(n26_tree_4), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U111(.X(n28_tree_4), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_3\n\twire n12_tree_3, n13_tree_3, n14_tree_3, n15_tree_3, n16_tree_3, n17_tree_3, n18_tree_3, n19_tree_3, n20_tree_3, n21_tree_3;\n    sky130_fd_sc_hd__mux2_1 U112(.X(sum[3]), .S(n18_tree_3), .A0(n12_tree_3), .A1(n13_tree_3));\n    sky130_fd_sc_hd__mux2_1 U113(.X(n12_tree_3), .S(n17_tree_3), .A0(n14_tree_3), .A1(n15_tree_3));\n\n    sky130_fd_sc_hd__mux2_1 U114(.X(n13_tree_3), .S(n16_tree_3), .A0(n14_tree_3), .A1(n15_tree_3));\n    sky130_fd_sc_hd__xor2_1 U115(.X(n14_tree_3), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__xnor2_1 U116(.Y(n15_tree_3), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__or2_1 U117(.X(n16_tree_3), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U118(.X(n17_tree_3), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__a21o_1 U119(.X(n18_tree_3), .A1(n21_tree_3), .A2(n20_tree_3), .B1(n19_tree_3));\n    sky130_fd_sc_hd__or2_1 U120(.X(n20_tree_3), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U121(.X(n19_tree_3), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U122(.X(n21_tree_3), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_2\n\twire n8_tree_2, n9_tree_2, n10_tree_2, n11_tree_2, n12_tree_2;\n    sky130_fd_sc_hd__xor2_1 U123(.X(sum[2]), .A(n9_tree_2), .B(n8_tree_2));\n    sky130_fd_sc_hd__xor2_1 U124(.X(n8_tree_2), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__a21o_1 U125(.X(n9_tree_2), .A1(n12_tree_2), .A2(n11_tree_2), .B1(n10_tree_2));\n    sky130_fd_sc_hd__or2_1 U126(.X(n11_tree_2), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U127(.X(n10_tree_2), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U128(.X(n12_tree_2), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_1\n\twire n4_tree_1, n5_tree_1;\n    sky130_fd_sc_hd__xor2_1 U129(.X(sum[1]), .A(n5_tree_1), .B(n4_tree_1));\n    sky130_fd_sc_hd__xor2_1 U130(.X(n4_tree_1), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U131(.X(n5_tree_1), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_0\n\twire n3_tree_0;\n\tassign sum[0] = n3_tree_0;\n    sky130_fd_sc_hd__xor2_1 U132(.X(n3_tree_0), .A(a_in[0]), .B(b_in[0]));\n\nendmodule // adder\n&#39;},
 &#39;\nmodule adder(\n\n\tinput [8:0] a_in,\n\tinput [8:0] b_in,\n\toutput [8:0] sum\n\t);\n\n// adder_forest tree_8\n\twire n32_tree_8, n33_tree_8, n34_tree_8, n35_tree_8, n36_tree_8, n37_tree_8, n38_tree_8, n39_tree_8, n40_tree_8, n41_tree_8, n42_tree_8, n43_tree_8, n44_tree_8, n45_tree_8, n46_tree_8, n47_tree_8, n48_tree_8, n49_tree_8, n50_tree_8, n51_tree_8, n52_tree_8, n53_tree_8, n54_tree_8, n55_tree_8, n56_tree_8, n57_tree_8, n58_tree_8;\n    sky130_fd_sc_hd__xor2_1 U0(.X(sum[8]), .A(n33_tree_8), .B(n32_tree_8));\n    sky130_fd_sc_hd__xor2_1 U1(.X(n32_tree_8), .A(a_in[8]), .B(b_in[8]));\n    sky130_fd_sc_hd__a21o_1 U2(.X(n33_tree_8), .A1(n48_tree_8), .A2(n35_tree_8), .B1(n34_tree_8));\n    sky130_fd_sc_hd__and2_1 U3(.X(n35_tree_8), .A(n37_tree_8), .B(n43_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U4(.X(n34_tree_8), .A1(n42_tree_8), .A2(n37_tree_8), .B1(n36_tree_8));\n    sky130_fd_sc_hd__and2_1 U5(.X(n37_tree_8), .A(n39_tree_8), .B(n41_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U6(.X(n36_tree_8), .A1(n40_tree_8), .A2(n39_tree_8), .B1(n38_tree_8));\n    sky130_fd_sc_hd__or2_1 U7(.X(n39_tree_8), .A(a_in[7]), .B(b_in[7]));\n\n    sky130_fd_sc_hd__and2_1 U8(.X(n38_tree_8), .A(a_in[7]), .B(b_in[7]));\n    sky130_fd_sc_hd__or2_1 U9(.X(n41_tree_8), .A(a_in[6]), .B(b_in[6]));\n\n    sky130_fd_sc_hd__and2_1 U10(.X(n40_tree_8), .A(a_in[6]), .B(b_in[6]));\n    sky130_fd_sc_hd__and2_1 U11(.X(n43_tree_8), .A(n45_tree_8), .B(n47_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U12(.X(n42_tree_8), .A1(n46_tree_8), .A2(n45_tree_8), .B1(n44_tree_8));\n    sky130_fd_sc_hd__or2_1 U13(.X(n45_tree_8), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__and2_1 U14(.X(n44_tree_8), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__or2_1 U15(.X(n47_tree_8), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U16(.X(n46_tree_8), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__a21o_1 U17(.X(n48_tree_8), .A1(n55_tree_8), .A2(n50_tree_8), .B1(n49_tree_8));\n    sky130_fd_sc_hd__and2_1 U18(.X(n50_tree_8), .A(n52_tree_8), .B(n54_tree_8));\n\n    sky130_fd_sc_hd__a21o_1 U19(.X(n49_tree_8), .A1(n53_tree_8), .A2(n52_tree_8), .B1(n51_tree_8));\n    sky130_fd_sc_hd__or2_1 U20(.X(n52_tree_8), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U21(.X(n51_tree_8), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__or2_1 U22(.X(n54_tree_8), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U23(.X(n53_tree_8), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__a21o_1 U24(.X(n55_tree_8), .A1(n58_tree_8), .A2(n57_tree_8), .B1(n56_tree_8));\n    sky130_fd_sc_hd__or2_1 U25(.X(n57_tree_8), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U26(.X(n56_tree_8), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U27(.X(n58_tree_8), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_7\n\twire n28_tree_7, n29_tree_7, n30_tree_7, n31_tree_7, n32_tree_7, n33_tree_7, n34_tree_7, n35_tree_7, n36_tree_7, n37_tree_7, n38_tree_7, n39_tree_7, n40_tree_7, n41_tree_7, n42_tree_7, n43_tree_7, n44_tree_7, n45_tree_7, n46_tree_7, n47_tree_7, n48_tree_7, n49_tree_7, n50_tree_7, n51_tree_7, n52_tree_7;\n    sky130_fd_sc_hd__mux2_1 U28(.X(sum[7]), .S(n42_tree_7), .A0(n28_tree_7), .A1(n29_tree_7));\n    sky130_fd_sc_hd__or2_1 U29(.X(w0), .A( n36_tree_7), .B( n37_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U30(.X(n28_tree_7), .S(n37_tree_7), .A0(n30_tree_7), .A1(n31_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U31(.X(n29_tree_7), .S(w0 ), .A0(n30_tree_7), .A1(n31_tree_7));\n    sky130_fd_sc_hd__mux2_1 U32(.X(n30_tree_7), .S(n35_tree_7), .A0(n32_tree_7), .A1(n33_tree_7));\n\n    sky130_fd_sc_hd__mux2_1 U33(.X(n31_tree_7), .S(n34_tree_7), .A0(n32_tree_7), .A1(n33_tree_7));\n    sky130_fd_sc_hd__xor2_1 U34(.X(n32_tree_7), .A(a_in[7]), .B(b_in[7]));\n\n    sky130_fd_sc_hd__xnor2_1 U35(.Y(n33_tree_7), .A(a_in[7]), .B(b_in[7]));\n    sky130_fd_sc_hd__or2_1 U36(.X(n34_tree_7), .A(a_in[6]), .B(b_in[6]));\n\n    sky130_fd_sc_hd__and2_1 U37(.X(n35_tree_7), .A(a_in[6]), .B(b_in[6]));\n    sky130_fd_sc_hd__and2_1 U38(.X(n36_tree_7), .A(n39_tree_7), .B(n41_tree_7));\n\n    sky130_fd_sc_hd__a21o_1 U39(.X(n37_tree_7), .A1(n40_tree_7), .A2(n39_tree_7), .B1(n38_tree_7));\n    sky130_fd_sc_hd__or2_1 U40(.X(n39_tree_7), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__and2_1 U41(.X(n38_tree_7), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__or2_1 U42(.X(n41_tree_7), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U43(.X(n40_tree_7), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__a21o_1 U44(.X(n42_tree_7), .A1(n49_tree_7), .A2(n44_tree_7), .B1(n43_tree_7));\n    sky130_fd_sc_hd__and2_1 U45(.X(n44_tree_7), .A(n46_tree_7), .B(n48_tree_7));\n\n    sky130_fd_sc_hd__a21o_1 U46(.X(n43_tree_7), .A1(n47_tree_7), .A2(n46_tree_7), .B1(n45_tree_7));\n    sky130_fd_sc_hd__or2_1 U47(.X(n46_tree_7), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U48(.X(n45_tree_7), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__or2_1 U49(.X(n48_tree_7), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U50(.X(n47_tree_7), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__a21o_1 U51(.X(n49_tree_7), .A1(n52_tree_7), .A2(n51_tree_7), .B1(n50_tree_7));\n    sky130_fd_sc_hd__or2_1 U52(.X(n51_tree_7), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U53(.X(n50_tree_7), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U54(.X(n52_tree_7), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_6\n\twire n24_tree_6, n25_tree_6, n26_tree_6, n27_tree_6, n28_tree_6, n29_tree_6, n30_tree_6, n31_tree_6, n32_tree_6, n33_tree_6, n34_tree_6, n35_tree_6, n36_tree_6, n37_tree_6, n38_tree_6, n39_tree_6, n40_tree_6, n41_tree_6, n42_tree_6, n43_tree_6, n44_tree_6;\n    sky130_fd_sc_hd__mux2_1 U55(.X(sum[6]), .S(n38_tree_6), .A0(n24_tree_6), .A1(n25_tree_6));\n    sky130_fd_sc_hd__mux2_1 U56(.X(n24_tree_6), .S(n37_tree_6), .A0(n26_tree_6), .A1(n27_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U57(.X(n25_tree_6), .S(n36_tree_6), .A0(n26_tree_6), .A1(n27_tree_6));\n    sky130_fd_sc_hd__mux2_1 U58(.X(n26_tree_6), .S(n35_tree_6), .A0(n28_tree_6), .A1(n29_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U59(.X(n27_tree_6), .S(n34_tree_6), .A0(n28_tree_6), .A1(n29_tree_6));\n    sky130_fd_sc_hd__mux2_1 U60(.X(n28_tree_6), .S(n33_tree_6), .A0(n30_tree_6), .A1(n31_tree_6));\n\n    sky130_fd_sc_hd__mux2_1 U61(.X(n29_tree_6), .S(n32_tree_6), .A0(n30_tree_6), .A1(n31_tree_6));\n    sky130_fd_sc_hd__xor2_1 U62(.X(n30_tree_6), .A(a_in[6]), .B(b_in[6]));\n\n    sky130_fd_sc_hd__xnor2_1 U63(.Y(n31_tree_6), .A(a_in[6]), .B(b_in[6]));\n    sky130_fd_sc_hd__or2_1 U64(.X(n32_tree_6), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__and2_1 U65(.X(n33_tree_6), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__or2_1 U66(.X(n34_tree_6), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U67(.X(n35_tree_6), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__or2_1 U68(.X(n36_tree_6), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U69(.X(n37_tree_6), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__a21o_1 U70(.X(n38_tree_6), .A1(n41_tree_6), .A2(n40_tree_6), .B1(n39_tree_6));\n    sky130_fd_sc_hd__or2_1 U71(.X(n40_tree_6), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U72(.X(n39_tree_6), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__a21o_1 U73(.X(n41_tree_6), .A1(n44_tree_6), .A2(n43_tree_6), .B1(n42_tree_6));\n    sky130_fd_sc_hd__or2_1 U74(.X(n43_tree_6), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U75(.X(n42_tree_6), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U76(.X(n44_tree_6), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_5\n\twire n20_tree_5, n21_tree_5, n22_tree_5, n23_tree_5, n24_tree_5, n25_tree_5, n26_tree_5, n27_tree_5, n28_tree_5, n29_tree_5, n30_tree_5, n31_tree_5, n32_tree_5, n33_tree_5, n34_tree_5, n35_tree_5, n36_tree_5, n37_tree_5, n38_tree_5;\n    sky130_fd_sc_hd__mux2_1 U77(.X(sum[5]), .S(n38_tree_5), .A0(n20_tree_5), .A1(n21_tree_5));\n    sky130_fd_sc_hd__mux2_1 U78(.X(n20_tree_5), .S(n37_tree_5), .A0(n22_tree_5), .A1(n23_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U79(.X(n21_tree_5), .S(n36_tree_5), .A0(n22_tree_5), .A1(n23_tree_5));\n    sky130_fd_sc_hd__or2_1 U80(.X(w1), .A( n26_tree_5), .B( n27_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U81(.X(n22_tree_5), .S(n27_tree_5), .A0(n24_tree_5), .A1(n25_tree_5));\n\n    sky130_fd_sc_hd__mux2_1 U82(.X(n23_tree_5), .S(w1 ), .A0(n24_tree_5), .A1(n25_tree_5));\n    sky130_fd_sc_hd__xor2_1 U83(.X(n24_tree_5), .A(a_in[5]), .B(b_in[5]));\n\n    sky130_fd_sc_hd__xnor2_1 U84(.Y(n25_tree_5), .A(a_in[5]), .B(b_in[5]));\n    sky130_fd_sc_hd__and2_1 U85(.X(n26_tree_5), .A(n29_tree_5), .B(n31_tree_5));\n\n    sky130_fd_sc_hd__a21o_1 U86(.X(n27_tree_5), .A1(n30_tree_5), .A2(n29_tree_5), .B1(n28_tree_5));\n    sky130_fd_sc_hd__or2_1 U87(.X(n29_tree_5), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__and2_1 U88(.X(n28_tree_5), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__and2_1 U89(.X(n31_tree_5), .A(n33_tree_5), .B(n35_tree_5));\n\n    sky130_fd_sc_hd__a21o_1 U90(.X(n30_tree_5), .A1(n34_tree_5), .A2(n33_tree_5), .B1(n32_tree_5));\n    sky130_fd_sc_hd__or2_1 U91(.X(n33_tree_5), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U92(.X(n32_tree_5), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__or2_1 U93(.X(n35_tree_5), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U94(.X(n34_tree_5), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__or2_1 U95(.X(n36_tree_5), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U96(.X(n37_tree_5), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U97(.X(n38_tree_5), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_4\n\twire n16_tree_4, n17_tree_4, n18_tree_4, n19_tree_4, n20_tree_4, n21_tree_4, n22_tree_4, n23_tree_4, n24_tree_4, n25_tree_4, n26_tree_4, n27_tree_4, n28_tree_4;\n    sky130_fd_sc_hd__mux2_1 U98(.X(sum[4]), .S(n22_tree_4), .A0(n16_tree_4), .A1(n17_tree_4));\n    sky130_fd_sc_hd__mux2_1 U99(.X(n16_tree_4), .S(n21_tree_4), .A0(n18_tree_4), .A1(n19_tree_4));\n\n    sky130_fd_sc_hd__mux2_1 U100(.X(n17_tree_4), .S(n20_tree_4), .A0(n18_tree_4), .A1(n19_tree_4));\n    sky130_fd_sc_hd__xor2_1 U101(.X(n18_tree_4), .A(a_in[4]), .B(b_in[4]));\n\n    sky130_fd_sc_hd__xnor2_1 U102(.Y(n19_tree_4), .A(a_in[4]), .B(b_in[4]));\n    sky130_fd_sc_hd__or2_1 U103(.X(n20_tree_4), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__and2_1 U104(.X(n21_tree_4), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__a21o_1 U105(.X(n22_tree_4), .A1(n25_tree_4), .A2(n24_tree_4), .B1(n23_tree_4));\n    sky130_fd_sc_hd__or2_1 U106(.X(n24_tree_4), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U107(.X(n23_tree_4), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__a21o_1 U108(.X(n25_tree_4), .A1(n28_tree_4), .A2(n27_tree_4), .B1(n26_tree_4));\n    sky130_fd_sc_hd__or2_1 U109(.X(n27_tree_4), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U110(.X(n26_tree_4), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U111(.X(n28_tree_4), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_3\n\twire n12_tree_3, n13_tree_3, n14_tree_3, n15_tree_3, n16_tree_3, n17_tree_3, n18_tree_3, n19_tree_3, n20_tree_3, n21_tree_3;\n    sky130_fd_sc_hd__mux2_1 U112(.X(sum[3]), .S(n18_tree_3), .A0(n12_tree_3), .A1(n13_tree_3));\n    sky130_fd_sc_hd__mux2_1 U113(.X(n12_tree_3), .S(n17_tree_3), .A0(n14_tree_3), .A1(n15_tree_3));\n\n    sky130_fd_sc_hd__mux2_1 U114(.X(n13_tree_3), .S(n16_tree_3), .A0(n14_tree_3), .A1(n15_tree_3));\n    sky130_fd_sc_hd__xor2_1 U115(.X(n14_tree_3), .A(a_in[3]), .B(b_in[3]));\n\n    sky130_fd_sc_hd__xnor2_1 U116(.Y(n15_tree_3), .A(a_in[3]), .B(b_in[3]));\n    sky130_fd_sc_hd__or2_1 U117(.X(n16_tree_3), .A(a_in[2]), .B(b_in[2]));\n\n    sky130_fd_sc_hd__and2_1 U118(.X(n17_tree_3), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__a21o_1 U119(.X(n18_tree_3), .A1(n21_tree_3), .A2(n20_tree_3), .B1(n19_tree_3));\n    sky130_fd_sc_hd__or2_1 U120(.X(n20_tree_3), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U121(.X(n19_tree_3), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U122(.X(n21_tree_3), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_2\n\twire n8_tree_2, n9_tree_2, n10_tree_2, n11_tree_2, n12_tree_2;\n    sky130_fd_sc_hd__xor2_1 U123(.X(sum[2]), .A(n9_tree_2), .B(n8_tree_2));\n    sky130_fd_sc_hd__xor2_1 U124(.X(n8_tree_2), .A(a_in[2]), .B(b_in[2]));\n    sky130_fd_sc_hd__a21o_1 U125(.X(n9_tree_2), .A1(n12_tree_2), .A2(n11_tree_2), .B1(n10_tree_2));\n    sky130_fd_sc_hd__or2_1 U126(.X(n11_tree_2), .A(a_in[1]), .B(b_in[1]));\n\n    sky130_fd_sc_hd__and2_1 U127(.X(n10_tree_2), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U128(.X(n12_tree_2), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_1\n\twire n4_tree_1, n5_tree_1;\n    sky130_fd_sc_hd__xor2_1 U129(.X(sum[1]), .A(n5_tree_1), .B(n4_tree_1));\n    sky130_fd_sc_hd__xor2_1 U130(.X(n4_tree_1), .A(a_in[1]), .B(b_in[1]));\n    sky130_fd_sc_hd__and2_1 U131(.X(n5_tree_1), .A(a_in[0]), .B(b_in[0]));\n\n// adder_forest tree_0\n\twire n3_tree_0;\n\tassign sum[0] = n3_tree_0;\n    sky130_fd_sc_hd__xor2_1 U132(.X(n3_tree_0), .A(a_in[0]), .B(b_in[0]));\n\nendmodule // adder\n&#39;)
</pre></div></div>
</div>
<p>Level 2 of optimization partitions the design into separate, flattened, sub-blocks.</p>
<p>Both proprietary as well as open-source tools heavily struggle with the optimization of fully-flattened arithmetic circuits, such as a binary adder. The performance of their output can suffer under such conditions.</p>
<p>However, not flattening the design at all leads to no optimization being performed by the synthesis tool. This is often worse.</p>
<p>Level 2 of optimization attempts to intelligently partition the design into individual flattened blocks that are easily digestible by synthesis tools.</p>
<p>This flag is designed to be run with a behavioral mapping, and with the synthesis tools being instructed to not further flatten the design.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from pptrees.AdderForest import AdderForest as forest
from pptrees.util import catalan_bounds

width = 9
print(&quot;The maximum tree sizes for a forest of width {0} are {1}&quot;.format(width,catalan_bounds(width)))
f = forest(width, tree_start_points = [0, 0, 0, 2, 5, 37, 74, 214, 214])
f.hdl(&#39;mapped_opt2.v&#39;, optimization = 2)
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The maximum tree sizes for a forest of width 9 are [0, 0, 1, 4, 13, 41, 131, 428, 1429]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&#39;\n\tadder U0(\n\t\t.a_in(a_in),\n\t\t.b_in(b_in),\n\t\t.sum(sum)\n\t);&#39;,
 {&#39;\nmodule adder(\n\n\tinput [8:0] a_in,\n\tinput [8:0] b_in,\n\toutput [8:0] sum\n\t);\n\n// adder_forest tree_8\n\twire n32_tree_8, n33_tree_8, n34_tree_8, n35_tree_8, n36_tree_8, n37_tree_8, n38_tree_8, n39_tree_8, n40_tree_8, n41_tree_8, n42_tree_8, n43_tree_8, n44_tree_8, n45_tree_8, n46_tree_8, n47_tree_8, n48_tree_8, n49_tree_8, n50_tree_8, n51_tree_8, n52_tree_8, n53_tree_8, n54_tree_8, n55_tree_8, n56_tree_8, n57_tree_8, n58_tree_8;\n\n\tadder_tree_8_block_0 U0(\n\t\t.n32_tree_8(n32_tree_8),\n\t\t.n49_tree_8(n49_tree_8),\n\t\t.n57_tree_8(n57_tree_8),\n\t\t.b_in_0(b_in[0]),\n\t\t.a_in_0(a_in[0]),\n\t\t.n34_tree_8(n34_tree_8),\n\t\t.n56_tree_8(n56_tree_8),\n\t\t.n50_tree_8(n50_tree_8),\n\t\t.n35_tree_8(n35_tree_8),\n\t\t.n48_tree_8(n48_tree_8),\n\t\t.n33_tree_8(n33_tree_8),\n\t\t.n55_tree_8(n55_tree_8),\n\t\t.n58_tree_8(n58_tree_8),\n\t\t.sum[8](sum[8])\n\t);\n\n\tadder_tree_8_block_1 U1(\n\t\t.a_in_4(a_in[4]),\n\t\t.n36_tree_8(n36_tree_8),\n\t\t.n37_tree_8(n37_tree_8),\n\t\t.n45_tree_8(n45_tree_8),\n\t\t.n44_tree_8(n44_tree_8),\n\t\t.b_in_4(b_in[4]),\n\t\t.n47_tree_8(n47_tree_8),\n\t\t.n34_tree_8(n34_tree_8),\n\t\t.n42_tree_8(n42_tree_8),\n\t\t.n46_tree_8(n46_tree_8),\n\t\t.n35_tree_8(n35_tree_8),\n\t\t.n43_tree_8(n43_tree_8)\n\t);\n\n\tadder_tree_8_block_2 U2(\n\t\t.a_in_3(a_in[3]),\n\t\t.n54_tree_8(n54_tree_8),\n\t\t.n53_tree_8(n53_tree_8),\n\t\t.b_in_3(b_in[3]),\n\t\t.n52_tree_8(n52_tree_8),\n\t\t.n50_tree_8(n50_tree_8),\n\t\t.n49_tree_8(n49_tree_8),\n\t\t.n51_tree_8(n51_tree_8)\n\t);\n\n\tadder_tree_8_block_3 U3(\n\t\t.n39_tree_8(n39_tree_8),\n\t\t.a_in_6(a_in[6]),\n\t\t.b_in_6(b_in[6]),\n\t\t.n38_tree_8(n38_tree_8),\n\t\t.n37_tree_8(n37_tree_8),\n\t\t.n41_tree_8(n41_tree_8),\n\t\t.n40_tree_8(n40_tree_8),\n\t\t.n36_tree_8(n36_tree_8)\n\t);\n    assign n32_tree_8 = a_in[8]^b_in[8];\n    assign n39_tree_8 = a_in[7]|b_in[7];\n\n    assign n38_tree_8 = a_in[7]&amp;b_in[7];\n    assign n45_tree_8 = a_in[5]|b_in[5];\n\n    assign n44_tree_8 = a_in[5]&amp;b_in[5];\n    assign n54_tree_8 = a_in[2]|b_in[2];\n\n    assign n53_tree_8 = a_in[2]&amp;b_in[2];\n    assign n57_tree_8 = a_in[1]|b_in[1];\n\n    assign n56_tree_8 = a_in[1]&amp;b_in[1];\n\n// adder_forest tree_7\n\twire n28_tree_7, n29_tree_7, n30_tree_7, n31_tree_7, n32_tree_7, n33_tree_7, n34_tree_7, n35_tree_7, n36_tree_7, n37_tree_7, n38_tree_7, n39_tree_7, n40_tree_7, n41_tree_7, n42_tree_7, n43_tree_7, n44_tree_7, n45_tree_7, n46_tree_7, n47_tree_7, n48_tree_7, n49_tree_7, n50_tree_7, n51_tree_7, n52_tree_7;\n\n\tadder_tree_7_block_0 U4(\n\t\t.a_in_7(a_in[7]),\n\t\t.b_in_7(b_in[7]),\n\t\t.n36_tree_7(n36_tree_7),\n\t\t.n35_tree_7(n35_tree_7),\n\t\t.n34_tree_7(n34_tree_7),\n\t\t.n37_tree_7(n37_tree_7),\n\t\t.n42_tree_7(n42_tree_7),\n\t\t.n32_tree_7(n32_tree_7),\n\t\t.n33_tree_7(n33_tree_7),\n\t\t.n31_tree_7(n31_tree_7),\n\t\t.n29_tree_7(n29_tree_7),\n\t\t.n28_tree_7(n28_tree_7),\n\t\t.n30_tree_7(n30_tree_7),\n\t\t.sum[7](sum[7])\n\t);\n\tassign n34_tree_7 = n41_tree_8;\n\tassign n35_tree_7 = n40_tree_8;\n\tassign n37_tree_7 = n42_tree_8;\n\tassign n36_tree_7 = n43_tree_8;\n\tassign n42_tree_7 = n48_tree_8;\n\n// adder_forest tree_6\n\twire n24_tree_6, n25_tree_6, n26_tree_6, n27_tree_6, n28_tree_6, n29_tree_6, n30_tree_6, n31_tree_6, n32_tree_6, n33_tree_6, n34_tree_6, n35_tree_6, n36_tree_6, n37_tree_6, n38_tree_6, n39_tree_6, n40_tree_6, n41_tree_6, n42_tree_6, n43_tree_6, n44_tree_6;\n\n\tadder_tree_6_block_0 U5(\n\t\t.n35_tree_6(n35_tree_6),\n\t\t.n36_tree_6(n36_tree_6),\n\t\t.n33_tree_6(n33_tree_6),\n\t\t.n37_tree_6(n37_tree_6),\n\t\t.n38_tree_6(n38_tree_6),\n\t\t.a_in_6(a_in[6]),\n\t\t.b_in_6(b_in[6]),\n\t\t.n34_tree_6(n34_tree_6),\n\t\t.n32_tree_6(n32_tree_6),\n\t\t.n29_tree_6(n29_tree_6),\n\t\t.n27_tree_6(n27_tree_6),\n\t\t.n28_tree_6(n28_tree_6),\n\t\t.n25_tree_6(n25_tree_6),\n\t\t.n24_tree_6(n24_tree_6),\n\t\t.sum[6](sum[6]),\n\t\t.n30_tree_6(n30_tree_6),\n\t\t.n26_tree_6(n26_tree_6),\n\t\t.n31_tree_6(n31_tree_6)\n\t);\n\tassign n32_tree_6 = n45_tree_8;\n\tassign n33_tree_6 = n44_tree_8;\n\tassign n34_tree_6 = n47_tree_8;\n\tassign n35_tree_6 = n46_tree_8;\n\tassign n36_tree_6 = n52_tree_8;\n\tassign n37_tree_6 = n51_tree_8;\n    assign n38_tree_6 = (n41_tree_6&amp;n40_tree_6)|n39_tree_6;\n\tassign n40_tree_6 = n54_tree_8;\n\tassign n39_tree_6 = n53_tree_8;\n\tassign n41_tree_6 = n55_tree_8;\n\n// adder_forest tree_5\n\twire n20_tree_5, n21_tree_5, n22_tree_5, n23_tree_5, n24_tree_5, n25_tree_5, n26_tree_5, n27_tree_5, n28_tree_5, n29_tree_5, n30_tree_5, n31_tree_5, n32_tree_5, n33_tree_5, n34_tree_5, n35_tree_5, n36_tree_5, n37_tree_5, n38_tree_5;\n\n\tadder_tree_5_block_0 U6(\n\t\t.n38_tree_5(n38_tree_5),\n\t\t.n37_tree_5(n37_tree_5),\n\t\t.a_in_5(a_in[5]),\n\t\t.n27_tree_5(n27_tree_5),\n\t\t.n26_tree_5(n26_tree_5),\n\t\t.n36_tree_5(n36_tree_5),\n\t\t.b_in_5(b_in[5]),\n\t\t.n23_tree_5(n23_tree_5),\n\t\t.n21_tree_5(n21_tree_5),\n\t\t.n24_tree_5(n24_tree_5),\n\t\t.n20_tree_5(n20_tree_5),\n\t\t.n25_tree_5(n25_tree_5),\n\t\t.sum[5](sum[5]),\n\t\t.n22_tree_5(n22_tree_5)\n\t);\n    assign n26_tree_5 = n29_tree_5&amp;n31_tree_5;\n\n    assign n27_tree_5 = (n30_tree_5&amp;n29_tree_5)|n28_tree_5;\n\tassign n29_tree_5 = n47_tree_8;\n\tassign n28_tree_5 = n46_tree_8;\n\tassign n30_tree_5 = n49_tree_8;\n\tassign n31_tree_5 = n50_tree_8;\n\tassign n36_tree_5 = n57_tree_8;\n\tassign n37_tree_5 = n56_tree_8;\n\tassign n38_tree_5 = n58_tree_8;\n\n// adder_forest tree_4\n\twire n16_tree_4, n17_tree_4, n18_tree_4, n19_tree_4, n20_tree_4, n21_tree_4, n22_tree_4, n23_tree_4, n24_tree_4, n25_tree_4, n26_tree_4, n27_tree_4, n28_tree_4;\n\n\tadder_tree_4_block_0 U7(\n\t\t.a_in_4(a_in[4]),\n\t\t.n21_tree_4(n21_tree_4),\n\t\t.b_in_4(b_in[4]),\n\t\t.n22_tree_4(n22_tree_4),\n\t\t.n20_tree_4(n20_tree_4),\n\t\t.n18_tree_4(n18_tree_4),\n\t\t.n19_tree_4(n19_tree_4),\n\t\t.n17_tree_4(n17_tree_4),\n\t\t.n16_tree_4(n16_tree_4),\n\t\t.sum[4](sum[4])\n\t);\n\tassign n20_tree_4 = n52_tree_8;\n\tassign n21_tree_4 = n51_tree_8;\n\tassign n22_tree_4 = n38_tree_6;\n\n// adder_forest tree_3\n\twire n12_tree_3, n13_tree_3, n14_tree_3, n15_tree_3, n16_tree_3, n17_tree_3, n18_tree_3, n19_tree_3, n20_tree_3, n21_tree_3;\n\n\tadder_tree_3_block_0 U8(\n\t\t.n17_tree_3(n17_tree_3),\n\t\t.b_in_3(b_in[3]),\n\t\t.a_in_3(a_in[3]),\n\t\t.n16_tree_3(n16_tree_3),\n\t\t.n18_tree_3(n18_tree_3),\n\t\t.n12_tree_3(n12_tree_3),\n\t\t.n13_tree_3(n13_tree_3),\n\t\t.n14_tree_3(n14_tree_3),\n\t\t.n15_tree_3(n15_tree_3),\n\t\t.sum[3](sum[3])\n\t);\n\tassign n16_tree_3 = n54_tree_8;\n\tassign n17_tree_3 = n53_tree_8;\n\tassign n18_tree_3 = n55_tree_8;\n\n// adder_forest tree_2\n\twire n8_tree_2, n9_tree_2, n10_tree_2, n11_tree_2, n12_tree_2;\n\n\tadder_tree_2_block_0 U9(\n\t\t.a_in_2(a_in[2]),\n\t\t.b_in_2(b_in[2]),\n\t\t.n9_tree_2(n9_tree_2),\n\t\t.n8_tree_2(n8_tree_2),\n\t\t.sum[2](sum[2])\n\t);\n\tassign n9_tree_2 = n55_tree_8;\n\n// adder_forest tree_1\n\twire n4_tree_1, n5_tree_1;\n\n\tadder_tree_1_block_0 U10(\n\t\t.n5_tree_1(n5_tree_1),\n\t\t.a_in_1(a_in[1]),\n\t\t.b_in_1(b_in[1]),\n\t\t.n4_tree_1(n4_tree_1),\n\t\t.sum[1](sum[1])\n\t);\n\tassign n5_tree_1 = n58_tree_8;\n\n// adder_forest tree_0\n\twire n3_tree_0;\n\n\tadder_tree_0_block_0 U11(\n\t\t.b_in[0](b_in[0]),\n\t\t.a_in[0](a_in[0]),\n\t\t.n3_tree_0(n3_tree_0),\n\t\t.sum[0](sum[0])\n\t);\n\nendmodule // adder\n&#39;,
  &#39;\nmodule adder_tree_0_block_0(\n\n\tinput  b_in,\n\tinput  a_in,\n\toutput  n3_tree_0,\n\toutput  sum\n\t);\n\n// block 0\n\t\n\tassign sum = n3_tree_0;\n    assign n3_tree_0 = a_in^b_in;\n\nendmodule // adder_tree_0_block_0\n&#39;,
  &#39;\nmodule adder_tree_1_block_0(\n\n\tinput  n5_tree_1,\n\tinput  a_in_1,\n\tinput  b_in_1,\n\toutput  n4_tree_1,\n\toutput  sum\n\t);\n\n// block 0\n\t\n    assign sum = n5_tree_1^n4_tree_1;\n    assign n4_tree_1 = a_in_1^b_in_1;\n\nendmodule // adder_tree_1_block_0\n&#39;,
  &#39;\nmodule adder_tree_2_block_0(\n\n\tinput  a_in_2,\n\tinput  b_in_2,\n\tinput  n9_tree_2,\n\toutput  n8_tree_2,\n\toutput  sum\n\t);\n\n// block 0\n\t\n    assign n8_tree_2 = a_in_2^b_in_2;\n    assign sum = n9_tree_2^n8_tree_2;\n\nendmodule // adder_tree_2_block_0\n&#39;,
  &#39;\nmodule adder_tree_3_block_0(\n\n\tinput  n17_tree_3,\n\tinput  b_in_3,\n\tinput  a_in_3,\n\tinput  n16_tree_3,\n\tinput  n18_tree_3,\n\toutput  n12_tree_3,\n\toutput  n13_tree_3,\n\toutput  n14_tree_3,\n\toutput  n15_tree_3,\n\toutput  sum\n\t);\n\n// block 0\n\t\n    assign n14_tree_3 = a_in_3^b_in_3;\n\n    assign n15_tree_3 = ~(a_in_3^b_in_3);\n    assign n12_tree_3 = n17_tree_3 ? n15_tree_3 : n14_tree_3;\n\n    assign n13_tree_3 = n16_tree_3 ? n15_tree_3 : n14_tree_3;\n    assign sum = n18_tree_3 ? n13_tree_3 : n12_tree_3;\n\nendmodule // adder_tree_3_block_0\n&#39;,
  &#39;\nmodule adder_tree_4_block_0(\n\n\tinput  a_in_4,\n\tinput  n21_tree_4,\n\tinput  b_in_4,\n\tinput  n22_tree_4,\n\tinput  n20_tree_4,\n\toutput  n18_tree_4,\n\toutput  n19_tree_4,\n\toutput  n17_tree_4,\n\toutput  n16_tree_4,\n\toutput  sum\n\t);\n\n// block 0\n\t\n    assign n16_tree_4 = n21_tree_4 ? n19_tree_4 : n18_tree_4;\n\n    assign n17_tree_4 = n20_tree_4 ? n19_tree_4 : n18_tree_4;\n    assign sum = n22_tree_4 ? n17_tree_4 : n16_tree_4;\n    assign n18_tree_4 = a_in_4^b_in_4;\n\n    assign n19_tree_4 = ~(a_in_4^b_in_4);\n\nendmodule // adder_tree_4_block_0\n&#39;,
  &#39;\nmodule adder_tree_5_block_0(\n\n\tinput  n38_tree_5,\n\tinput  n37_tree_5,\n\tinput  a_in_5,\n\tinput  n27_tree_5,\n\tinput  n26_tree_5,\n\tinput  n36_tree_5,\n\tinput  b_in_5,\n\toutput  n23_tree_5,\n\toutput  n21_tree_5,\n\toutput  n24_tree_5,\n\toutput  n20_tree_5,\n\toutput  n25_tree_5,\n\toutput  sum,\n\toutput  n22_tree_5\n\t);\n\n// block 0\n\t\n    assign w0 =  n26_tree_5| n27_tree_5;\n\n    assign n22_tree_5 = n27_tree_5 ? n25_tree_5 : n24_tree_5;\n\n    assign n23_tree_5 = w0  ? n25_tree_5 : n24_tree_5;\n    assign n20_tree_5 = n37_tree_5 ? n23_tree_5 : n22_tree_5;\n\n    assign n21_tree_5 = n36_tree_5 ? n23_tree_5 : n22_tree_5;\n    assign sum = n38_tree_5 ? n21_tree_5 : n20_tree_5;\n    assign n24_tree_5 = a_in_5^b_in_5;\n\n    assign n25_tree_5 = ~(a_in_5^b_in_5);\n\nendmodule // adder_tree_5_block_0\n&#39;,
  &#39;\nmodule adder_tree_6_block_0(\n\n\tinput  n35_tree_6,\n\tinput  n36_tree_6,\n\tinput  n33_tree_6,\n\tinput  n37_tree_6,\n\tinput  n38_tree_6,\n\tinput  a_in_6,\n\tinput  b_in_6,\n\tinput  n34_tree_6,\n\tinput  n32_tree_6,\n\toutput  n29_tree_6,\n\toutput  n27_tree_6,\n\toutput  n28_tree_6,\n\toutput  n25_tree_6,\n\toutput  n24_tree_6,\n\toutput  sum,\n\toutput  n30_tree_6,\n\toutput  n26_tree_6,\n\toutput  n31_tree_6\n\t);\n\n// block 0\n\t\n    assign n30_tree_6 = a_in_6^b_in_6;\n\n    assign n31_tree_6 = ~(a_in_6^b_in_6);\n    assign n28_tree_6 = n33_tree_6 ? n31_tree_6 : n30_tree_6;\n\n    assign n29_tree_6 = n32_tree_6 ? n31_tree_6 : n30_tree_6;\n    assign sum = n38_tree_6 ? n25_tree_6 : n24_tree_6;\n    assign n26_tree_6 = n35_tree_6 ? n29_tree_6 : n28_tree_6;\n\n    assign n27_tree_6 = n34_tree_6 ? n29_tree_6 : n28_tree_6;\n    assign n24_tree_6 = n37_tree_6 ? n27_tree_6 : n26_tree_6;\n\n    assign n25_tree_6 = n36_tree_6 ? n27_tree_6 : n26_tree_6;\n\nendmodule // adder_tree_6_block_0\n&#39;,
  &#39;\nmodule adder_tree_7_block_0(\n\n\tinput  a_in_7,\n\tinput  b_in_7,\n\tinput  n36_tree_7,\n\tinput  n35_tree_7,\n\tinput  n34_tree_7,\n\tinput  n37_tree_7,\n\tinput  n42_tree_7,\n\toutput  n32_tree_7,\n\toutput  n33_tree_7,\n\toutput  n31_tree_7,\n\toutput  n29_tree_7,\n\toutput  n28_tree_7,\n\toutput  n30_tree_7,\n\toutput  sum\n\t);\n\n// block 0\n\t\n    assign sum = n42_tree_7 ? n29_tree_7 : n28_tree_7;\n    assign n32_tree_7 = a_in_7^b_in_7;\n\n    assign n33_tree_7 = ~(a_in_7^b_in_7);\n    assign n30_tree_7 = n35_tree_7 ? n33_tree_7 : n32_tree_7;\n\n    assign n31_tree_7 = n34_tree_7 ? n33_tree_7 : n32_tree_7;\n    assign w3 =  n36_tree_7| n37_tree_7;\n\n    assign n28_tree_7 = n37_tree_7 ? n31_tree_7 : n30_tree_7;\n\n    assign n29_tree_7 = w3  ? n31_tree_7 : n30_tree_7;\n\nendmodule // adder_tree_7_block_0\n&#39;,
  &#39;\nmodule adder_tree_8_block_0(\n\n\tinput  n32_tree_8,\n\tinput  n49_tree_8,\n\tinput  n57_tree_8,\n\tinput  b_in_0,\n\tinput  a_in_0,\n\tinput  n34_tree_8,\n\tinput  n56_tree_8,\n\tinput  n50_tree_8,\n\tinput  n35_tree_8,\n\toutput  n48_tree_8,\n\toutput  n33_tree_8,\n\toutput  n55_tree_8,\n\toutput  n58_tree_8,\n\toutput  sum\n\t);\n\n// block 0\n\t\n    assign n48_tree_8 = (n55_tree_8&amp;n50_tree_8)|n49_tree_8;\n    assign n58_tree_8 = a_in_0&amp;b_in_0;\n    assign sum = n33_tree_8^n32_tree_8;\n    assign n33_tree_8 = (n48_tree_8&amp;n35_tree_8)|n34_tree_8;\n    assign n55_tree_8 = (n58_tree_8&amp;n57_tree_8)|n56_tree_8;\n\nendmodule // adder_tree_8_block_0\n&#39;,
  &#39;\nmodule adder_tree_8_block_1(\n\n\tinput  a_in_4,\n\tinput  n36_tree_8,\n\tinput  n37_tree_8,\n\tinput  n45_tree_8,\n\tinput  n44_tree_8,\n\tinput  b_in_4,\n\toutput  n47_tree_8,\n\toutput  n34_tree_8,\n\toutput  n42_tree_8,\n\toutput  n46_tree_8,\n\toutput  n35_tree_8,\n\toutput  n43_tree_8\n\t);\n\n// block 1\n\t\n    assign n35_tree_8 = n37_tree_8&amp;n43_tree_8;\n\n    assign n34_tree_8 = (n42_tree_8&amp;n37_tree_8)|n36_tree_8;\n    assign n43_tree_8 = n45_tree_8&amp;n47_tree_8;\n\n    assign n42_tree_8 = (n46_tree_8&amp;n45_tree_8)|n44_tree_8;\n    assign n47_tree_8 = a_in_4|b_in_4;\n\n    assign n46_tree_8 = a_in_4&amp;b_in_4;\n\nendmodule // adder_tree_8_block_1\n&#39;,
  &#39;\nmodule adder_tree_8_block_2(\n\n\tinput  a_in_3,\n\tinput  n54_tree_8,\n\tinput  n53_tree_8,\n\tinput  b_in_3,\n\toutput  n52_tree_8,\n\toutput  n50_tree_8,\n\toutput  n49_tree_8,\n\toutput  n51_tree_8\n\t);\n\n// block 2\n\t\n    assign n52_tree_8 = a_in_3|b_in_3;\n\n    assign n51_tree_8 = a_in_3&amp;b_in_3;\n    assign n50_tree_8 = n52_tree_8&amp;n54_tree_8;\n\n    assign n49_tree_8 = (n53_tree_8&amp;n52_tree_8)|n51_tree_8;\n\nendmodule // adder_tree_8_block_2\n&#39;,
  &#39;\nmodule adder_tree_8_block_3(\n\n\tinput  n39_tree_8,\n\tinput  a_in_6,\n\tinput  b_in_6,\n\tinput  n38_tree_8,\n\toutput  n37_tree_8,\n\toutput  n41_tree_8,\n\toutput  n40_tree_8,\n\toutput  n36_tree_8\n\t);\n\n// block 3\n\t\n    assign n41_tree_8 = a_in_6|b_in_6;\n\n    assign n40_tree_8 = a_in_6&amp;b_in_6;\n    assign n37_tree_8 = n39_tree_8&amp;n41_tree_8;\n\n    assign n36_tree_8 = (n40_tree_8&amp;n39_tree_8)|n38_tree_8;\n\nendmodule // adder_tree_8_block_3\n&#39;},
 &#39;\nmodule adder(\n\n\tinput [8:0] a_in,\n\tinput [8:0] b_in,\n\toutput [8:0] sum\n\t);\n\n// adder_forest tree_8\n\twire n32_tree_8, n33_tree_8, n34_tree_8, n35_tree_8, n36_tree_8, n37_tree_8, n38_tree_8, n39_tree_8, n40_tree_8, n41_tree_8, n42_tree_8, n43_tree_8, n44_tree_8, n45_tree_8, n46_tree_8, n47_tree_8, n48_tree_8, n49_tree_8, n50_tree_8, n51_tree_8, n52_tree_8, n53_tree_8, n54_tree_8, n55_tree_8, n56_tree_8, n57_tree_8, n58_tree_8;\n\n\tadder_tree_8_block_0 U0(\n\t\t.n32_tree_8(n32_tree_8),\n\t\t.n49_tree_8(n49_tree_8),\n\t\t.n57_tree_8(n57_tree_8),\n\t\t.b_in_0(b_in[0]),\n\t\t.a_in_0(a_in[0]),\n\t\t.n34_tree_8(n34_tree_8),\n\t\t.n56_tree_8(n56_tree_8),\n\t\t.n50_tree_8(n50_tree_8),\n\t\t.n35_tree_8(n35_tree_8),\n\t\t.n48_tree_8(n48_tree_8),\n\t\t.n33_tree_8(n33_tree_8),\n\t\t.n55_tree_8(n55_tree_8),\n\t\t.n58_tree_8(n58_tree_8),\n\t\t.sum[8](sum[8])\n\t);\n\n\tadder_tree_8_block_1 U1(\n\t\t.a_in_4(a_in[4]),\n\t\t.n36_tree_8(n36_tree_8),\n\t\t.n37_tree_8(n37_tree_8),\n\t\t.n45_tree_8(n45_tree_8),\n\t\t.n44_tree_8(n44_tree_8),\n\t\t.b_in_4(b_in[4]),\n\t\t.n47_tree_8(n47_tree_8),\n\t\t.n34_tree_8(n34_tree_8),\n\t\t.n42_tree_8(n42_tree_8),\n\t\t.n46_tree_8(n46_tree_8),\n\t\t.n35_tree_8(n35_tree_8),\n\t\t.n43_tree_8(n43_tree_8)\n\t);\n\n\tadder_tree_8_block_2 U2(\n\t\t.a_in_3(a_in[3]),\n\t\t.n54_tree_8(n54_tree_8),\n\t\t.n53_tree_8(n53_tree_8),\n\t\t.b_in_3(b_in[3]),\n\t\t.n52_tree_8(n52_tree_8),\n\t\t.n50_tree_8(n50_tree_8),\n\t\t.n49_tree_8(n49_tree_8),\n\t\t.n51_tree_8(n51_tree_8)\n\t);\n\n\tadder_tree_8_block_3 U3(\n\t\t.n39_tree_8(n39_tree_8),\n\t\t.a_in_6(a_in[6]),\n\t\t.b_in_6(b_in[6]),\n\t\t.n38_tree_8(n38_tree_8),\n\t\t.n37_tree_8(n37_tree_8),\n\t\t.n41_tree_8(n41_tree_8),\n\t\t.n40_tree_8(n40_tree_8),\n\t\t.n36_tree_8(n36_tree_8)\n\t);\n    assign n32_tree_8 = a_in[8]^b_in[8];\n    assign n39_tree_8 = a_in[7]|b_in[7];\n\n    assign n38_tree_8 = a_in[7]&amp;b_in[7];\n    assign n45_tree_8 = a_in[5]|b_in[5];\n\n    assign n44_tree_8 = a_in[5]&amp;b_in[5];\n    assign n54_tree_8 = a_in[2]|b_in[2];\n\n    assign n53_tree_8 = a_in[2]&amp;b_in[2];\n    assign n57_tree_8 = a_in[1]|b_in[1];\n\n    assign n56_tree_8 = a_in[1]&amp;b_in[1];\n\n// adder_forest tree_7\n\twire n28_tree_7, n29_tree_7, n30_tree_7, n31_tree_7, n32_tree_7, n33_tree_7, n34_tree_7, n35_tree_7, n36_tree_7, n37_tree_7, n38_tree_7, n39_tree_7, n40_tree_7, n41_tree_7, n42_tree_7, n43_tree_7, n44_tree_7, n45_tree_7, n46_tree_7, n47_tree_7, n48_tree_7, n49_tree_7, n50_tree_7, n51_tree_7, n52_tree_7;\n\n\tadder_tree_7_block_0 U4(\n\t\t.a_in_7(a_in[7]),\n\t\t.b_in_7(b_in[7]),\n\t\t.n36_tree_7(n36_tree_7),\n\t\t.n35_tree_7(n35_tree_7),\n\t\t.n34_tree_7(n34_tree_7),\n\t\t.n37_tree_7(n37_tree_7),\n\t\t.n42_tree_7(n42_tree_7),\n\t\t.n32_tree_7(n32_tree_7),\n\t\t.n33_tree_7(n33_tree_7),\n\t\t.n31_tree_7(n31_tree_7),\n\t\t.n29_tree_7(n29_tree_7),\n\t\t.n28_tree_7(n28_tree_7),\n\t\t.n30_tree_7(n30_tree_7),\n\t\t.sum[7](sum[7])\n\t);\n\tassign n34_tree_7 = n41_tree_8;\n\tassign n35_tree_7 = n40_tree_8;\n\tassign n37_tree_7 = n42_tree_8;\n\tassign n36_tree_7 = n43_tree_8;\n\tassign n42_tree_7 = n48_tree_8;\n\n// adder_forest tree_6\n\twire n24_tree_6, n25_tree_6, n26_tree_6, n27_tree_6, n28_tree_6, n29_tree_6, n30_tree_6, n31_tree_6, n32_tree_6, n33_tree_6, n34_tree_6, n35_tree_6, n36_tree_6, n37_tree_6, n38_tree_6, n39_tree_6, n40_tree_6, n41_tree_6, n42_tree_6, n43_tree_6, n44_tree_6;\n\n\tadder_tree_6_block_0 U5(\n\t\t.n35_tree_6(n35_tree_6),\n\t\t.n36_tree_6(n36_tree_6),\n\t\t.n33_tree_6(n33_tree_6),\n\t\t.n37_tree_6(n37_tree_6),\n\t\t.n38_tree_6(n38_tree_6),\n\t\t.a_in_6(a_in[6]),\n\t\t.b_in_6(b_in[6]),\n\t\t.n34_tree_6(n34_tree_6),\n\t\t.n32_tree_6(n32_tree_6),\n\t\t.n29_tree_6(n29_tree_6),\n\t\t.n27_tree_6(n27_tree_6),\n\t\t.n28_tree_6(n28_tree_6),\n\t\t.n25_tree_6(n25_tree_6),\n\t\t.n24_tree_6(n24_tree_6),\n\t\t.sum[6](sum[6]),\n\t\t.n30_tree_6(n30_tree_6),\n\t\t.n26_tree_6(n26_tree_6),\n\t\t.n31_tree_6(n31_tree_6)\n\t);\n\tassign n32_tree_6 = n45_tree_8;\n\tassign n33_tree_6 = n44_tree_8;\n\tassign n34_tree_6 = n47_tree_8;\n\tassign n35_tree_6 = n46_tree_8;\n\tassign n36_tree_6 = n52_tree_8;\n\tassign n37_tree_6 = n51_tree_8;\n    assign n38_tree_6 = (n41_tree_6&amp;n40_tree_6)|n39_tree_6;\n\tassign n40_tree_6 = n54_tree_8;\n\tassign n39_tree_6 = n53_tree_8;\n\tassign n41_tree_6 = n55_tree_8;\n\n// adder_forest tree_5\n\twire n20_tree_5, n21_tree_5, n22_tree_5, n23_tree_5, n24_tree_5, n25_tree_5, n26_tree_5, n27_tree_5, n28_tree_5, n29_tree_5, n30_tree_5, n31_tree_5, n32_tree_5, n33_tree_5, n34_tree_5, n35_tree_5, n36_tree_5, n37_tree_5, n38_tree_5;\n\n\tadder_tree_5_block_0 U6(\n\t\t.n38_tree_5(n38_tree_5),\n\t\t.n37_tree_5(n37_tree_5),\n\t\t.a_in_5(a_in[5]),\n\t\t.n27_tree_5(n27_tree_5),\n\t\t.n26_tree_5(n26_tree_5),\n\t\t.n36_tree_5(n36_tree_5),\n\t\t.b_in_5(b_in[5]),\n\t\t.n23_tree_5(n23_tree_5),\n\t\t.n21_tree_5(n21_tree_5),\n\t\t.n24_tree_5(n24_tree_5),\n\t\t.n20_tree_5(n20_tree_5),\n\t\t.n25_tree_5(n25_tree_5),\n\t\t.sum[5](sum[5]),\n\t\t.n22_tree_5(n22_tree_5)\n\t);\n    assign n26_tree_5 = n29_tree_5&amp;n31_tree_5;\n\n    assign n27_tree_5 = (n30_tree_5&amp;n29_tree_5)|n28_tree_5;\n\tassign n29_tree_5 = n47_tree_8;\n\tassign n28_tree_5 = n46_tree_8;\n\tassign n30_tree_5 = n49_tree_8;\n\tassign n31_tree_5 = n50_tree_8;\n\tassign n36_tree_5 = n57_tree_8;\n\tassign n37_tree_5 = n56_tree_8;\n\tassign n38_tree_5 = n58_tree_8;\n\n// adder_forest tree_4\n\twire n16_tree_4, n17_tree_4, n18_tree_4, n19_tree_4, n20_tree_4, n21_tree_4, n22_tree_4, n23_tree_4, n24_tree_4, n25_tree_4, n26_tree_4, n27_tree_4, n28_tree_4;\n\n\tadder_tree_4_block_0 U7(\n\t\t.a_in_4(a_in[4]),\n\t\t.n21_tree_4(n21_tree_4),\n\t\t.b_in_4(b_in[4]),\n\t\t.n22_tree_4(n22_tree_4),\n\t\t.n20_tree_4(n20_tree_4),\n\t\t.n18_tree_4(n18_tree_4),\n\t\t.n19_tree_4(n19_tree_4),\n\t\t.n17_tree_4(n17_tree_4),\n\t\t.n16_tree_4(n16_tree_4),\n\t\t.sum[4](sum[4])\n\t);\n\tassign n20_tree_4 = n52_tree_8;\n\tassign n21_tree_4 = n51_tree_8;\n\tassign n22_tree_4 = n38_tree_6;\n\n// adder_forest tree_3\n\twire n12_tree_3, n13_tree_3, n14_tree_3, n15_tree_3, n16_tree_3, n17_tree_3, n18_tree_3, n19_tree_3, n20_tree_3, n21_tree_3;\n\n\tadder_tree_3_block_0 U8(\n\t\t.n17_tree_3(n17_tree_3),\n\t\t.b_in_3(b_in[3]),\n\t\t.a_in_3(a_in[3]),\n\t\t.n16_tree_3(n16_tree_3),\n\t\t.n18_tree_3(n18_tree_3),\n\t\t.n12_tree_3(n12_tree_3),\n\t\t.n13_tree_3(n13_tree_3),\n\t\t.n14_tree_3(n14_tree_3),\n\t\t.n15_tree_3(n15_tree_3),\n\t\t.sum[3](sum[3])\n\t);\n\tassign n16_tree_3 = n54_tree_8;\n\tassign n17_tree_3 = n53_tree_8;\n\tassign n18_tree_3 = n55_tree_8;\n\n// adder_forest tree_2\n\twire n8_tree_2, n9_tree_2, n10_tree_2, n11_tree_2, n12_tree_2;\n\n\tadder_tree_2_block_0 U9(\n\t\t.a_in_2(a_in[2]),\n\t\t.b_in_2(b_in[2]),\n\t\t.n9_tree_2(n9_tree_2),\n\t\t.n8_tree_2(n8_tree_2),\n\t\t.sum[2](sum[2])\n\t);\n\tassign n9_tree_2 = n55_tree_8;\n\n// adder_forest tree_1\n\twire n4_tree_1, n5_tree_1;\n\n\tadder_tree_1_block_0 U10(\n\t\t.n5_tree_1(n5_tree_1),\n\t\t.a_in_1(a_in[1]),\n\t\t.b_in_1(b_in[1]),\n\t\t.n4_tree_1(n4_tree_1),\n\t\t.sum[1](sum[1])\n\t);\n\tassign n5_tree_1 = n58_tree_8;\n\n// adder_forest tree_0\n\twire n3_tree_0;\n\n\tadder_tree_0_block_0 U11(\n\t\t.b_in[0](b_in[0]),\n\t\t.a_in[0](a_in[0]),\n\t\t.n3_tree_0(n3_tree_0),\n\t\t.sum[0](sum[0])\n\t);\n\nendmodule // adder\n\nmodule adder_tree_0_block_0(\n\n\tinput  b_in,\n\tinput  a_in,\n\toutput  n3_tree_0,\n\toutput  sum\n\t);\n\n// block 0\n\t\n\tassign sum = n3_tree_0;\n    assign n3_tree_0 = a_in^b_in;\n\nendmodule // adder_tree_0_block_0\n\nmodule adder_tree_1_block_0(\n\n\tinput  n5_tree_1,\n\tinput  a_in_1,\n\tinput  b_in_1,\n\toutput  n4_tree_1,\n\toutput  sum\n\t);\n\n// block 0\n\t\n    assign sum = n5_tree_1^n4_tree_1;\n    assign n4_tree_1 = a_in_1^b_in_1;\n\nendmodule // adder_tree_1_block_0\n\nmodule adder_tree_2_block_0(\n\n\tinput  a_in_2,\n\tinput  b_in_2,\n\tinput  n9_tree_2,\n\toutput  n8_tree_2,\n\toutput  sum\n\t);\n\n// block 0\n\t\n    assign n8_tree_2 = a_in_2^b_in_2;\n    assign sum = n9_tree_2^n8_tree_2;\n\nendmodule // adder_tree_2_block_0\n\nmodule adder_tree_3_block_0(\n\n\tinput  n17_tree_3,\n\tinput  b_in_3,\n\tinput  a_in_3,\n\tinput  n16_tree_3,\n\tinput  n18_tree_3,\n\toutput  n12_tree_3,\n\toutput  n13_tree_3,\n\toutput  n14_tree_3,\n\toutput  n15_tree_3,\n\toutput  sum\n\t);\n\n// block 0\n\t\n    assign n14_tree_3 = a_in_3^b_in_3;\n\n    assign n15_tree_3 = ~(a_in_3^b_in_3);\n    assign n12_tree_3 = n17_tree_3 ? n15_tree_3 : n14_tree_3;\n\n    assign n13_tree_3 = n16_tree_3 ? n15_tree_3 : n14_tree_3;\n    assign sum = n18_tree_3 ? n13_tree_3 : n12_tree_3;\n\nendmodule // adder_tree_3_block_0\n\nmodule adder_tree_4_block_0(\n\n\tinput  a_in_4,\n\tinput  n21_tree_4,\n\tinput  b_in_4,\n\tinput  n22_tree_4,\n\tinput  n20_tree_4,\n\toutput  n18_tree_4,\n\toutput  n19_tree_4,\n\toutput  n17_tree_4,\n\toutput  n16_tree_4,\n\toutput  sum\n\t);\n\n// block 0\n\t\n    assign n16_tree_4 = n21_tree_4 ? n19_tree_4 : n18_tree_4;\n\n    assign n17_tree_4 = n20_tree_4 ? n19_tree_4 : n18_tree_4;\n    assign sum = n22_tree_4 ? n17_tree_4 : n16_tree_4;\n    assign n18_tree_4 = a_in_4^b_in_4;\n\n    assign n19_tree_4 = ~(a_in_4^b_in_4);\n\nendmodule // adder_tree_4_block_0\n\nmodule adder_tree_5_block_0(\n\n\tinput  n38_tree_5,\n\tinput  n37_tree_5,\n\tinput  a_in_5,\n\tinput  n27_tree_5,\n\tinput  n26_tree_5,\n\tinput  n36_tree_5,\n\tinput  b_in_5,\n\toutput  n23_tree_5,\n\toutput  n21_tree_5,\n\toutput  n24_tree_5,\n\toutput  n20_tree_5,\n\toutput  n25_tree_5,\n\toutput  sum,\n\toutput  n22_tree_5\n\t);\n\n// block 0\n\t\n    assign w0 =  n26_tree_5| n27_tree_5;\n\n    assign n22_tree_5 = n27_tree_5 ? n25_tree_5 : n24_tree_5;\n\n    assign n23_tree_5 = w0  ? n25_tree_5 : n24_tree_5;\n    assign n20_tree_5 = n37_tree_5 ? n23_tree_5 : n22_tree_5;\n\n    assign n21_tree_5 = n36_tree_5 ? n23_tree_5 : n22_tree_5;\n    assign sum = n38_tree_5 ? n21_tree_5 : n20_tree_5;\n    assign n24_tree_5 = a_in_5^b_in_5;\n\n    assign n25_tree_5 = ~(a_in_5^b_in_5);\n\nendmodule // adder_tree_5_block_0\n\nmodule adder_tree_6_block_0(\n\n\tinput  n35_tree_6,\n\tinput  n36_tree_6,\n\tinput  n33_tree_6,\n\tinput  n37_tree_6,\n\tinput  n38_tree_6,\n\tinput  a_in_6,\n\tinput  b_in_6,\n\tinput  n34_tree_6,\n\tinput  n32_tree_6,\n\toutput  n29_tree_6,\n\toutput  n27_tree_6,\n\toutput  n28_tree_6,\n\toutput  n25_tree_6,\n\toutput  n24_tree_6,\n\toutput  sum,\n\toutput  n30_tree_6,\n\toutput  n26_tree_6,\n\toutput  n31_tree_6\n\t);\n\n// block 0\n\t\n    assign n30_tree_6 = a_in_6^b_in_6;\n\n    assign n31_tree_6 = ~(a_in_6^b_in_6);\n    assign n28_tree_6 = n33_tree_6 ? n31_tree_6 : n30_tree_6;\n\n    assign n29_tree_6 = n32_tree_6 ? n31_tree_6 : n30_tree_6;\n    assign sum = n38_tree_6 ? n25_tree_6 : n24_tree_6;\n    assign n26_tree_6 = n35_tree_6 ? n29_tree_6 : n28_tree_6;\n\n    assign n27_tree_6 = n34_tree_6 ? n29_tree_6 : n28_tree_6;\n    assign n24_tree_6 = n37_tree_6 ? n27_tree_6 : n26_tree_6;\n\n    assign n25_tree_6 = n36_tree_6 ? n27_tree_6 : n26_tree_6;\n\nendmodule // adder_tree_6_block_0\n\nmodule adder_tree_7_block_0(\n\n\tinput  a_in_7,\n\tinput  b_in_7,\n\tinput  n36_tree_7,\n\tinput  n35_tree_7,\n\tinput  n34_tree_7,\n\tinput  n37_tree_7,\n\tinput  n42_tree_7,\n\toutput  n32_tree_7,\n\toutput  n33_tree_7,\n\toutput  n31_tree_7,\n\toutput  n29_tree_7,\n\toutput  n28_tree_7,\n\toutput  n30_tree_7,\n\toutput  sum\n\t);\n\n// block 0\n\t\n    assign sum = n42_tree_7 ? n29_tree_7 : n28_tree_7;\n    assign n32_tree_7 = a_in_7^b_in_7;\n\n    assign n33_tree_7 = ~(a_in_7^b_in_7);\n    assign n30_tree_7 = n35_tree_7 ? n33_tree_7 : n32_tree_7;\n\n    assign n31_tree_7 = n34_tree_7 ? n33_tree_7 : n32_tree_7;\n    assign w3 =  n36_tree_7| n37_tree_7;\n\n    assign n28_tree_7 = n37_tree_7 ? n31_tree_7 : n30_tree_7;\n\n    assign n29_tree_7 = w3  ? n31_tree_7 : n30_tree_7;\n\nendmodule // adder_tree_7_block_0\n\nmodule adder_tree_8_block_0(\n\n\tinput  n32_tree_8,\n\tinput  n49_tree_8,\n\tinput  n57_tree_8,\n\tinput  b_in_0,\n\tinput  a_in_0,\n\tinput  n34_tree_8,\n\tinput  n56_tree_8,\n\tinput  n50_tree_8,\n\tinput  n35_tree_8,\n\toutput  n48_tree_8,\n\toutput  n33_tree_8,\n\toutput  n55_tree_8,\n\toutput  n58_tree_8,\n\toutput  sum\n\t);\n\n// block 0\n\t\n    assign n48_tree_8 = (n55_tree_8&amp;n50_tree_8)|n49_tree_8;\n    assign n58_tree_8 = a_in_0&amp;b_in_0;\n    assign sum = n33_tree_8^n32_tree_8;\n    assign n33_tree_8 = (n48_tree_8&amp;n35_tree_8)|n34_tree_8;\n    assign n55_tree_8 = (n58_tree_8&amp;n57_tree_8)|n56_tree_8;\n\nendmodule // adder_tree_8_block_0\n\nmodule adder_tree_8_block_1(\n\n\tinput  a_in_4,\n\tinput  n36_tree_8,\n\tinput  n37_tree_8,\n\tinput  n45_tree_8,\n\tinput  n44_tree_8,\n\tinput  b_in_4,\n\toutput  n47_tree_8,\n\toutput  n34_tree_8,\n\toutput  n42_tree_8,\n\toutput  n46_tree_8,\n\toutput  n35_tree_8,\n\toutput  n43_tree_8\n\t);\n\n// block 1\n\t\n    assign n35_tree_8 = n37_tree_8&amp;n43_tree_8;\n\n    assign n34_tree_8 = (n42_tree_8&amp;n37_tree_8)|n36_tree_8;\n    assign n43_tree_8 = n45_tree_8&amp;n47_tree_8;\n\n    assign n42_tree_8 = (n46_tree_8&amp;n45_tree_8)|n44_tree_8;\n    assign n47_tree_8 = a_in_4|b_in_4;\n\n    assign n46_tree_8 = a_in_4&amp;b_in_4;\n\nendmodule // adder_tree_8_block_1\n\nmodule adder_tree_8_block_2(\n\n\tinput  a_in_3,\n\tinput  n54_tree_8,\n\tinput  n53_tree_8,\n\tinput  b_in_3,\n\toutput  n52_tree_8,\n\toutput  n50_tree_8,\n\toutput  n49_tree_8,\n\toutput  n51_tree_8\n\t);\n\n// block 2\n\t\n    assign n52_tree_8 = a_in_3|b_in_3;\n\n    assign n51_tree_8 = a_in_3&amp;b_in_3;\n    assign n50_tree_8 = n52_tree_8&amp;n54_tree_8;\n\n    assign n49_tree_8 = (n53_tree_8&amp;n52_tree_8)|n51_tree_8;\n\nendmodule // adder_tree_8_block_2\n\nmodule adder_tree_8_block_3(\n\n\tinput  n39_tree_8,\n\tinput  a_in_6,\n\tinput  b_in_6,\n\tinput  n38_tree_8,\n\toutput  n37_tree_8,\n\toutput  n41_tree_8,\n\toutput  n40_tree_8,\n\toutput  n36_tree_8\n\t);\n\n// block 3\n\t\n    assign n41_tree_8 = a_in_6|b_in_6;\n\n    assign n40_tree_8 = a_in_6&amp;b_in_6;\n    assign n37_tree_8 = n39_tree_8&amp;n41_tree_8;\n\n    assign n36_tree_8 = (n40_tree_8&amp;n39_tree_8)|n38_tree_8;\n\nendmodule // adder_tree_8_block_3\n&#39;)
</pre></div></div>
</div>
</section>
</section>
</section>
<section id="Implementation-using-OpenLane">
<h1>Implementation using OpenLane<a class="headerlink" href="#Implementation-using-OpenLane" title="Permalink to this heading">¶</a></h1>
<section id="Setup-(RUN-ME-FIRST)">
<h2>Setup (RUN ME FIRST)<a class="headerlink" href="#Setup-(RUN-ME-FIRST)" title="Permalink to this heading">¶</a></h2>
<section id="Credits">
<h3>Credits<a class="headerlink" href="#Credits" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print(&quot;Base template for this notebook was built by forking proppy&#39;s GitHub Gist at https://gist.github.com/proppy/26525ff7d9810247759a8d3ff3c41dcb&quot;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Base template for this notebook was built by forking proppy&#39;s GitHub Gist at https://gist.github.com/proppy/26525ff7d9810247759a8d3ff3c41dcb
</pre></div></div>
</div>
</section>
<section id="Install-conda">
<h3>Install conda<a class="headerlink" href="#Install-conda" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!pip install -q condacolab
import condacolab
condacolab.install_from_url(&quot;https://repo.anaconda.com/miniconda/Miniconda3-py37_4.11.0-Linux-x86_64.sh&quot;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-yellow-fg">WARNING: Running pip as the &#39;root&#39; user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv</span><span class="ansi-yellow-fg">
</span>✨🍰✨ Everything looks OK!
</pre></div></div>
</div>
</section>
<section id="Install-dependencies">
<h3>Install dependencies<a class="headerlink" href="#Install-dependencies" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>%%writefile environment.yml
channels:
  - litex-hub
  - conda-forge
dependencies:
  - open_pdks.sky130a=1.0.290
  - magic
  - openroad
  - netgen
  - yosys
  - gdstk
  - pip:
    - pyyaml
    - click
    - pandas
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Overwriting environment.yml
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!conda env update --prefix /usr/local --file environment.yml
!apt-get update &amp;&amp; apt-get install -yq tcllib
!test -f klayout_0.27.8-1_amd64.deb || curl -O https://www.klayout.org/downloads/Ubuntu-18/klayout_0.27.8-1_amd64.deb
!dpkg -i klayout_0.27.8-1_amd64.deb; apt-get update &amp;&amp; apt-get -f -yq install
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Warning: you have pip-installed dependencies in your environment file, but you do not list pip itself as one of your conda dependencies.  Conda may not use the correct pip to install your packages, and they may end up in the wrong place.  Please add an explicit pip dependency.  I&#39;m adding one for you, but still nagging you.
Collecting package metadata (repodata.json): done
Solving environment: done


==&gt; WARNING: A newer version of conda exists. &lt;==
  current version: 4.11.0
  latest version: 4.12.0

Please update conda by running

    $ conda update -n base -c defaults conda


Installing pip dependencies: | Ran pip subprocess with arguments:
[&#39;/usr/local/bin/python&#39;, &#39;-m&#39;, &#39;pip&#39;, &#39;install&#39;, &#39;-U&#39;, &#39;-r&#39;, &#39;/content/condaenv.jvbny14s.requirements.txt&#39;]
Pip subprocess output:
Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/
Requirement already satisfied: pyyaml in /usr/local/lib/python3.7/site-packages (from -r /content/condaenv.jvbny14s.requirements.txt (line 1)) (6.0)
Requirement already satisfied: click in /usr/local/lib/python3.7/site-packages (from -r /content/condaenv.jvbny14s.requirements.txt (line 2)) (8.1.3)
Requirement already satisfied: pandas in /usr/local/lib/python3.7/site-packages (from -r /content/condaenv.jvbny14s.requirements.txt (line 3)) (1.3.5)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/site-packages (from click-&gt;-r /content/condaenv.jvbny14s.requirements.txt (line 2)) (4.11.4)
Requirement already satisfied: pytz&gt;=2017.3 in /usr/local/lib/python3.7/site-packages (from pandas-&gt;-r /content/condaenv.jvbny14s.requirements.txt (line 3)) (2022.1)
Requirement already satisfied: numpy&gt;=1.17.3 in /usr/local/lib/python3.7/site-packages (from pandas-&gt;-r /content/condaenv.jvbny14s.requirements.txt (line 3)) (1.21.6)
Requirement already satisfied: python-dateutil&gt;=2.7.3 in /usr/local/lib/python3.7/site-packages (from pandas-&gt;-r /content/condaenv.jvbny14s.requirements.txt (line 3)) (2.8.2)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.7/site-packages (from python-dateutil&gt;=2.7.3-&gt;pandas-&gt;-r /content/condaenv.jvbny14s.requirements.txt (line 3)) (1.16.0)
Requirement already satisfied: zipp&gt;=0.5 in /usr/local/lib/python3.7/site-packages (from importlib-metadata-&gt;click-&gt;-r /content/condaenv.jvbny14s.requirements.txt (line 2)) (3.8.0)
Requirement already satisfied: typing-extensions&gt;=3.6.4 in /usr/local/lib/python3.7/site-packages (from importlib-metadata-&gt;click-&gt;-r /content/condaenv.jvbny14s.requirements.txt (line 2)) (4.2.0)

done
#
# To activate this environment, use
#
#     $ conda activate /usr/local
#
# To deactivate an active environment, use
#
#     $ conda deactivate

Hit:1 https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1804/x86_64  InRelease
Get:2 http://security.ubuntu.com/ubuntu bionic-security InRelease [88.7 kB]
Hit:3 http://ppa.launchpad.net/c2d4u.team/c2d4u4.0+/ubuntu bionic InRelease
Hit:4 http://archive.ubuntu.com/ubuntu bionic InRelease
Ign:5 https://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1804/x86_64  InRelease
Hit:6 https://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1804/x86_64  Release
Get:7 http://archive.ubuntu.com/ubuntu bionic-updates InRelease [88.7 kB]
Hit:8 http://ppa.launchpad.net/cran/libgit2/ubuntu bionic InRelease
Hit:9 https://cloud.r-project.org/bin/linux/ubuntu bionic-cran40/ InRelease
Hit:10 http://ppa.launchpad.net/deadsnakes/ppa/ubuntu bionic InRelease
Get:11 http://archive.ubuntu.com/ubuntu bionic-backports InRelease [74.6 kB]
Hit:12 http://ppa.launchpad.net/graphics-drivers/ppa/ubuntu bionic InRelease
Fetched 252 kB in 7s (35.7 kB/s)
Reading package lists... Done
Reading package lists...
Building dependency tree...
Reading state information...
tcllib is already the newest version (1.19-dfsg-2).
The following package was automatically installed and is no longer required:
  libnvidia-common-460
Use &#39;apt autoremove&#39; to remove it.
0 upgraded, 0 newly installed, 0 to remove and 56 not upgraded.
(Reading database ... 159359 files and directories currently installed.)
Preparing to unpack klayout_0.27.8-1_amd64.deb ...
Unpacking klayout (0.27.8-1) over (0.27.8-1) ...
Setting up klayout (0.27.8-1) ...
Processing triggers for mime-support (3.60ubuntu1) ...
Hit:1 https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1804/x86_64  InRelease
Get:2 http://security.ubuntu.com/ubuntu bionic-security InRelease [88.7 kB]
Hit:3 https://cloud.r-project.org/bin/linux/ubuntu bionic-cran40/ InRelease
Ign:4 https://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1804/x86_64  InRelease
Hit:5 http://ppa.launchpad.net/c2d4u.team/c2d4u4.0+/ubuntu bionic InRelease
Hit:6 https://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1804/x86_64  Release
Hit:7 http://archive.ubuntu.com/ubuntu bionic InRelease
Get:8 http://archive.ubuntu.com/ubuntu bionic-updates InRelease [88.7 kB]
Hit:9 http://ppa.launchpad.net/cran/libgit2/ubuntu bionic InRelease
Hit:10 http://ppa.launchpad.net/deadsnakes/ppa/ubuntu bionic InRelease
Get:11 http://archive.ubuntu.com/ubuntu bionic-backports InRelease [74.6 kB]
Hit:12 http://ppa.launchpad.net/graphics-drivers/ppa/ubuntu bionic InRelease
Fetched 252 kB in 3s (80.0 kB/s)
Reading package lists... Done
Reading package lists...
Building dependency tree...
Reading state information...
The following package was automatically installed and is no longer required:
  libnvidia-common-460
Use &#39;apt autoremove&#39; to remove it.
0 upgraded, 0 newly installed, 0 to remove and 56 not upgraded.
</pre></div></div>
</div>
</section>
<section id="Clone-OpenLane">
<h3>Clone OpenLane<a class="headerlink" href="#Clone-OpenLane" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!git clone --depth=1 https://github.com/tdene/OpenLane.git
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
fatal: destination path &#39;OpenLane&#39; already exists and is not an empty directory.
</pre></div></div>
</div>
</section>
<section id="Install-pptrees-library">
<h3>Install pptrees library<a class="headerlink" href="#Install-pptrees-library" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!pip install git+https://github.com/tdene/synth_opt_adders.git
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/
Collecting git+https://github.com/tdene/synth_opt_adders.git
  Cloning https://github.com/tdene/synth_opt_adders.git to /tmp/pip-req-build-12sna3a2
  Running command git clone --filter=blob:none --quiet https://github.com/tdene/synth_opt_adders.git /tmp/pip-req-build-12sna3a2
  Resolved https://github.com/tdene/synth_opt_adders.git to commit 12aa5ea8443ee47c0cd22d419af79ac7388fdd11
  Preparing metadata (setup.py) ... done
Requirement already satisfied: networkx in /usr/local/lib/python3.7/site-packages (from pptrees==1.0.4) (2.6.3)
Requirement already satisfied: pydot in /usr/local/lib/python3.7/site-packages (from pptrees==1.0.4) (1.4.2)
Requirement already satisfied: graphviz in /usr/local/lib/python3.7/site-packages (from pptrees==1.0.4) (0.20)
Requirement already satisfied: Pillow in /usr/local/lib/python3.7/site-packages (from pptrees==1.0.4) (9.1.1)
Requirement already satisfied: pyparsing&gt;=2.1.4 in /usr/local/lib/python3.7/site-packages (from pydot-&gt;pptrees==1.0.4) (3.0.9)
<span class="ansi-yellow-fg">WARNING: Running pip as the &#39;root&#39; user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv</span><span class="ansi-yellow-fg">
</span>
</pre></div></div>
</div>
</section>
<section id="Set-various-OpenLane-environment-variables">
<h3>Set various OpenLane environment variables<a class="headerlink" href="#Set-various-OpenLane-environment-variables" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import os
PATH=os.environ[&#39;PATH&#39;]
%env PDK_ROOT=/usr/local/share/pdk
%env OPENLANE_ROOT=/content/OpenLane
%env PATH={PATH}:/content/OpenLane:/content/OpenLane/scripts
%env TCLLIBPATH=/usr/share/tcltk
%env OPENLANE_LOCAL_INSTALL=1
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
env: PDK_ROOT=/usr/local/share/pdk
env: OPENLANE_ROOT=/content/OpenLane
env: PATH=/opt/bin:/usr/local/nvidia/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/tools/node/bin:/tools/google-cloud-sdk/bin:/content/OpenLane:/content/OpenLane/scripts
env: TCLLIBPATH=/usr/share/tcltk
env: OPENLANE_LOCAL_INSTALL=1
</pre></div></div>
</div>
</section>
<section id="Clone-a-repository-that-allows-for-easy-parsing-of-implementation-results">
<h3>Clone a repository that allows for easy parsing of implementation results<a class="headerlink" href="#Clone-a-repository-that-allows-for-easy-parsing-of-implementation-results" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!git clone https://github.com/tdene/adder_networks.git
!pip install -r adder_networks/requirements.txt
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Cloning into &#39;adder_networks&#39;...
remote: Enumerating objects: 4268, done.
remote: Counting objects: 100% (4268/4268), done.
remote: Compressing objects: 100% (691/691), done.
remote: Total 4268 (delta 3561), reused 4104 (delta 3401), pack-reused 0
Receiving objects: 100% (4268/4268), 4.27 MiB | 16.02 MiB/s, done.
Resolving deltas: 100% (3561/3561), done.
Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/
Collecting pint
  Downloading Pint-0.18-py2.py3-none-any.whl (209 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">209.8/209.8 kB</span> <span class="ansi-red-fg">5.0 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Collecting google-api-python-client
  Downloading google_api_python_client-2.48.0-py2.py3-none-any.whl (8.5 MB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">8.5/8.5 MB</span> <span class="ansi-red-fg">51.3 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Collecting google-auth-httplib2
  Downloading google_auth_httplib2-0.1.0-py2.py3-none-any.whl (9.3 kB)
Collecting google-auth-oauthlib
  Downloading google_auth_oauthlib-0.5.1-py2.py3-none-any.whl (19 kB)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/site-packages (from pint-&gt;-r adder_networks/requirements.txt (line 1)) (4.11.4)
Collecting packaging
  Downloading packaging-21.3-py3-none-any.whl (40 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">40.8/40.8 kB</span> <span class="ansi-red-fg">2.0 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Collecting httplib2&lt;1dev,&gt;=0.15.0
  Downloading httplib2-0.20.4-py3-none-any.whl (96 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">96.6/96.6 kB</span> <span class="ansi-red-fg">8.7 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Collecting google-auth&lt;3.0.0dev,&gt;=1.16.0
  Downloading google_auth-2.6.6-py2.py3-none-any.whl (156 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">156.7/156.7 kB</span> <span class="ansi-red-fg">13.2 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Collecting uritemplate&lt;5,&gt;=3.0.1
  Downloading uritemplate-4.1.1-py2.py3-none-any.whl (10 kB)
Collecting google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,&lt;3.0.0dev,&gt;=1.31.5
  Downloading google_api_core-2.8.0-py3-none-any.whl (114 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">114.7/114.7 kB</span> <span class="ansi-red-fg">8.9 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Requirement already satisfied: six in /usr/local/lib/python3.7/site-packages (from google-auth-httplib2-&gt;-r adder_networks/requirements.txt (line 3)) (1.16.0)
Collecting requests-oauthlib&gt;=0.7.0
  Downloading requests_oauthlib-1.3.1-py2.py3-none-any.whl (23 kB)
Collecting googleapis-common-protos&lt;2.0dev,&gt;=1.52.0
  Downloading googleapis_common_protos-1.56.1-py2.py3-none-any.whl (211 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">211.7/211.7 kB</span> <span class="ansi-red-fg">13.0 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Requirement already satisfied: requests&lt;3.0.0dev,&gt;=2.18.0 in /usr/local/lib/python3.7/site-packages (from google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,&lt;3.0.0dev,&gt;=1.31.5-&gt;google-api-python-client-&gt;-r adder_networks/requirements.txt (line 2)) (2.27.1)
Collecting protobuf&gt;=3.12.0
  Downloading protobuf-3.20.1-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.whl (1.0 MB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">1.0/1.0 MB</span> <span class="ansi-red-fg">25.9 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Collecting cachetools&lt;6.0,&gt;=2.0.0
  Downloading cachetools-5.1.0-py3-none-any.whl (9.2 kB)
Collecting rsa&lt;5,&gt;=3.1.4
  Downloading rsa-4.8-py3-none-any.whl (39 kB)
Collecting pyasn1-modules&gt;=0.2.1
  Downloading pyasn1_modules-0.2.8-py2.py3-none-any.whl (155 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">155.3/155.3 kB</span> <span class="ansi-red-fg">10.1 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Requirement already satisfied: pyparsing!=3.0.0,!=3.0.1,!=3.0.2,!=3.0.3,&lt;4,&gt;=2.4.2 in /usr/local/lib/python3.7/site-packages (from httplib2&lt;1dev,&gt;=0.15.0-&gt;google-api-python-client-&gt;-r adder_networks/requirements.txt (line 2)) (3.0.9)
Collecting oauthlib&gt;=3.0.0
  Downloading oauthlib-3.2.0-py3-none-any.whl (151 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">151.5/151.5 kB</span> <span class="ansi-red-fg">10.9 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Requirement already satisfied: zipp&gt;=0.5 in /usr/local/lib/python3.7/site-packages (from importlib-metadata-&gt;pint-&gt;-r adder_networks/requirements.txt (line 1)) (3.8.0)
Requirement already satisfied: typing-extensions&gt;=3.6.4 in /usr/local/lib/python3.7/site-packages (from importlib-metadata-&gt;pint-&gt;-r adder_networks/requirements.txt (line 1)) (4.2.0)
Collecting pyasn1&lt;0.5.0,&gt;=0.4.6
  Downloading pyasn1-0.4.8-py2.py3-none-any.whl (77 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">77.1/77.1 kB</span> <span class="ansi-red-fg">5.7 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /usr/local/lib/python3.7/site-packages (from requests&lt;3.0.0dev,&gt;=2.18.0-&gt;google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,&lt;3.0.0dev,&gt;=1.31.5-&gt;google-api-python-client-&gt;-r adder_networks/requirements.txt (line 2)) (3.3)
Requirement already satisfied: charset-normalizer~=2.0.0 in /usr/local/lib/python3.7/site-packages (from requests&lt;3.0.0dev,&gt;=2.18.0-&gt;google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,&lt;3.0.0dev,&gt;=1.31.5-&gt;google-api-python-client-&gt;-r adder_networks/requirements.txt (line 2)) (2.0.4)
Requirement already satisfied: certifi&gt;=2017.4.17 in /usr/local/lib/python3.7/site-packages (from requests&lt;3.0.0dev,&gt;=2.18.0-&gt;google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,&lt;3.0.0dev,&gt;=1.31.5-&gt;google-api-python-client-&gt;-r adder_networks/requirements.txt (line 2)) (2022.5.18.1)
Requirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in /usr/local/lib/python3.7/site-packages (from requests&lt;3.0.0dev,&gt;=2.18.0-&gt;google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,&lt;3.0.0dev,&gt;=1.31.5-&gt;google-api-python-client-&gt;-r adder_networks/requirements.txt (line 2)) (1.26.7)
Installing collected packages: pyasn1, uritemplate, rsa, pyasn1-modules, protobuf, packaging, oauthlib, httplib2, cachetools, requests-oauthlib, pint, googleapis-common-protos, google-auth, google-auth-oauthlib, google-auth-httplib2, google-api-core, google-api-python-client
Successfully installed cachetools-5.1.0 google-api-core-2.8.0 google-api-python-client-2.48.0 google-auth-2.6.6 google-auth-httplib2-0.1.0 google-auth-oauthlib-0.5.1 googleapis-common-protos-1.56.1 httplib2-0.20.4 oauthlib-3.2.0 packaging-21.3 pint-0.18 protobuf-3.20.1 pyasn1-0.4.8 pyasn1-modules-0.2.8 requests-oauthlib-1.3.1 rsa-4.8 uritemplate-4.1.1
<span class="ansi-yellow-fg">WARNING: Running pip as the &#39;root&#39; user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv</span><span class="ansi-yellow-fg">
</span>
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="admonition warning">
<p>Data type cannot be displayed: application/vnd.colab-display-data+json</p>
</div>
</div>
</div>
</section>
</section>
<section id="Run-an-adder-through-OpenLane">
<h2>Run an adder through OpenLane<a class="headerlink" href="#Run-an-adder-through-OpenLane" title="Permalink to this heading">¶</a></h2>
<section id="Create-OpenLane-config-file-for-our-design">
<h3>Create OpenLane config file for our design<a class="headerlink" href="#Create-OpenLane-config-file-for-our-design" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>%%writefile config.tcl
# Basic flow switches to make the flow run smoothly (and fast)
set ::env(IO_PCT) 0
set ::env(DESIGN_IS_CORE) 0
set ::env(DECAP_CELL) sky130_fd_sc_hd__fill_*
## Disable some slow steps for the sake of runtime
set ::env(DIODE_INSERTION_STRATEGY) 0
set ::env(RUN_LVS) 0
set ::env(RUN_MAGIC_DRC) 0
set ::env(RUN_KLAYOUT_DRC) 0
## Our design has no clock
set ::env(CLOCK_TREE_SYNTH) 0
## Adder blocks have lots of pins, but they can sit on the lower metals
set ::env(FP_IO_HLAYER) {met1 met3}
set ::env(FP_IO_VLAYER) {li1 met2}
## Since fan-out is a post-production step, synthesis can take care of it
set ::env(SYNTH_MAX_FANOUT) 4

# These are the actual design-specific flow switches
## Set target clock
set ::env(CLOCK_PERIOD) 1.0
## Set floorplan area and density target
set ::env(CELL_PAD) 0
set ::env(PL_TARGET_DENSITY) 0.90
set ::env(FP_CORE_UTIL) 50

## This corresponds to the optimize = 0 or 1 flag in hdl(); the default option
set ::env(SYNTH_NO_FLAT) 0

## This corresponds to hdl(mapping = &quot;default&quot;); the default option
set ::env(SYNTH_READ_BLACKBOX_LIB) 0

## This corresponds to the optimize = 2 flag in hdl()
###set ::env(SYNTH_NO_FLAT) 1

## This corresponds to hdl(mapping = &quot;sky130_fd_sc_hd&quot;) or some other library
###set ::env(SYNTH_READ_BLACKBOX_LIB) 1
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Overwriting config.tcl
</pre></div></div>
</div>
</section>
<section id="Create-our-OpenLane-design">
<h3>Create our OpenLane design<a class="headerlink" href="#Create-our-OpenLane-design" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!rm -rf OpenLane/designs/adder1
!flow.tcl -design adder1 -init_design_config -src &quot;adder1.v&quot;
!cp config.tcl OpenLane/designs/adder1/sky130A_sky130_fd_sc_hd_config.tcl
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
OpenLane b7b14af49adeec0dfed97229c153b1dee81131dc
All rights reserved. (c) 2020-2022 Efabless Corporation and contributors.
Available under the Apache License, version 2.0. See the LICENSE file for more details.

<span class="ansi-cyan-fg">[INFO]: Creating design src directory /content/OpenLane/designs/adder1/src</span>
<span class="ansi-cyan-fg">[INFO]: Populating /content/OpenLane/designs/adder1/config.tcl..</span>
<span class="ansi-cyan-fg">[INFO]: Copying adder1.v to adder1.v</span>
<span class="ansi-cyan-fg">[INFO]: Finished populating:
/content/OpenLane/designs/adder1/config.tcl
Please modify CLOCK_PORT, CLOCK_PERIOD and add your advanced settings to /content/OpenLane/designs/adder1/config.tcl</span>
<span class="ansi-green-fg">[SUCCESS]: Done...</span>
</pre></div></div>
</div>
</section>
<section id="Run-OpenLane">
<h3>Run OpenLane<a class="headerlink" href="#Run-OpenLane" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!flow.tcl -design adder1 -override_env RUN_CVC=0,QUIT_ON_MISMATCHES=0
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
OpenLane b7b14af49adeec0dfed97229c153b1dee81131dc
All rights reserved. (c) 2020-2022 Efabless Corporation and contributors.
Available under the Apache License, version 2.0. See the LICENSE file for more details.

<span class="ansi-cyan-fg">[INFO]: Using design configuration at /content/OpenLane/designs/adder1/config.tcl</span>
<span class="ansi-cyan-fg">[INFO]: Sourcing Configurations from /content/OpenLane/designs/adder1/config.tcl</span>
<span class="ansi-cyan-fg">[INFO]: PDKs root directory: /usr/local/share/pdk</span>
<span class="ansi-cyan-fg">[INFO]: PDK: sky130A</span>
<span class="ansi-cyan-fg">[INFO]: Setting PDKPATH to /usr/local/share/pdk/sky130A</span>
<span class="ansi-cyan-fg">[INFO]: Standard Cell Library: sky130_fd_sc_hd</span>
<span class="ansi-cyan-fg">[INFO]: Optimization Standard Cell Library is set to: sky130_fd_sc_hd</span>
<span class="ansi-cyan-fg">[INFO]: Sourcing Configurations from /content/OpenLane/designs/adder1/config.tcl</span>
<span class="ansi-cyan-fg">[INFO]: Current run directory is /content/OpenLane/designs/adder1/runs/RUN_2022.05.25_22.30.33</span>
<span class="ansi-cyan-fg">[INFO]: Preparing LEF files for the nom corner...</span>
<span class="ansi-yellow-fg">[WARNING]: OpenLane may not function properly: Failed to compare PDKs.
Malformed .config/nodeinfo.json.
Traceback (most recent call last):
  File &#34;/content/OpenLane/dependencies/verify_versions.py&#34;, line 119, in verify_versions
    config = json.loads(config_str)
  File &#34;/usr/local/lib/python3.7/json/__init__.py&#34;, line 348, in loads
    return _default_decoder.decode(s)
  File &#34;/usr/local/lib/python3.7/json/decoder.py&#34;, line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File &#34;/usr/local/lib/python3.7/json/decoder.py&#34;, line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Expecting &#39;,&#39; delimiter: line 41 column 5 (char 1101)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/content/OpenLane/dependencies/verify_versions.py&#34;, line 130, in verify_versions
    raise Exception(&#34;Malformed .config/nodeinfo.json.&#34;)
Exception: Malformed .config/nodeinfo.json.
</span>
[STEP 1]
<span class="ansi-cyan-fg">[INFO]: Running Synthesis...</span>
[STEP 2]
<span class="ansi-cyan-fg">[INFO]: Running Single-Corner Static Timing Analysis...</span>
[STEP 3]
<span class="ansi-cyan-fg">[INFO]: Running Initial Floorplanning...</span>
<span class="ansi-yellow-fg">[WARNING]: Current core area is too small for a power grid. The power grid will be minimized.</span>
<span class="ansi-cyan-fg">[INFO]: Setting Core Dimensions...</span>
[STEP 4]
<span class="ansi-cyan-fg">[INFO]: Running IO Placement...</span>
[STEP 5]
<span class="ansi-cyan-fg">[INFO]: Running Tap/Decap Insertion...</span>
<span class="ansi-cyan-fg">[INFO]: Power planning with power {VPWR} and ground {VGND}...</span>
[STEP 6]
<span class="ansi-cyan-fg">[INFO]: Generating PDN...</span>
[STEP 7]
<span class="ansi-cyan-fg">[INFO]: Running Global Placement...</span>
[STEP 8]
<span class="ansi-cyan-fg">[INFO]: Running Resizer Design Optimizations...</span>
[STEP 9]
<span class="ansi-cyan-fg">[INFO]: Writing Verilog...</span>
[STEP 10]
<span class="ansi-cyan-fg">[INFO]: Running Detailed Placement...</span>
[STEP 11]
[STEP 12]
<span class="ansi-cyan-fg">[INFO]: Running Resizer Timing Optimizations...</span>
[STEP 13]
<span class="ansi-cyan-fg">[INFO]: Writing Verilog...</span>
<span class="ansi-cyan-fg">[INFO]: Routing...</span>
[STEP 14]
<span class="ansi-cyan-fg">[INFO]: Running Resizer Timing Optimizations...</span>
[STEP 15]
<span class="ansi-cyan-fg">[INFO]: Writing Verilog...</span>
[STEP 16]
<span class="ansi-cyan-fg">[INFO]: Running Detailed Placement...</span>
[STEP 17]
<span class="ansi-cyan-fg">[INFO]: Running Fill Insertion...</span>
[STEP 18]
<span class="ansi-cyan-fg">[INFO]: Running Global Routing...</span>
[STEP 19]
<span class="ansi-cyan-fg">[INFO]: Writing Verilog...</span>
[STEP 20]
<span class="ansi-cyan-fg">[INFO]: Running Detailed Routing...</span>
<span class="ansi-cyan-fg">[INFO]: No DRC violations after detailed routing.</span>
[STEP 21]
<span class="ansi-cyan-fg">[INFO]: Writing Verilog...</span>
<span class="ansi-cyan-fg">[INFO]: Running parasitics-based static timing analysis...</span>
[STEP 22]
<span class="ansi-cyan-fg">[INFO]: Running SPEF Extraction at the nom process corner...</span>
[STEP 23]
<span class="ansi-cyan-fg">[INFO]: Running Single-Corner Static Timing Analysis at the nom process corner...</span>
[STEP 24]
<span class="ansi-cyan-fg">[INFO]: Running Multi-Corner Static Timing Analysis at the nom process corner...</span>
[STEP 25]
<span class="ansi-cyan-fg">[INFO]: Running Magic to generate various views...</span>
<span class="ansi-cyan-fg">[INFO]: Streaming out GDS-II with Magic...</span>
<span class="ansi-cyan-fg">[INFO]: Generating MAGLEF views...</span>
[STEP 26]
<span class="ansi-cyan-fg">[INFO]: Streaming out GDS-II with Klayout...</span>
[STEP 27]
<span class="ansi-cyan-fg">[INFO]: Running XOR on the layouts using Klayout...</span>
<span class="ansi-cyan-fg">[INFO]: Running Antenna Checks...</span>
[STEP 28]
<span class="ansi-cyan-fg">[INFO]: Running OpenROAD Antenna Rule Checker...</span>
<span class="ansi-cyan-fg">[INFO]: Skipping CVC...</span>
<span class="ansi-cyan-fg">[INFO]: Saving final set of views in &#39;/content/OpenLane/designs/adder1/runs/RUN_2022.05.25_22.30.33/results/final&#39;...</span>
<span class="ansi-cyan-fg">[INFO]: Saving runtime environment...</span>
<span class="ansi-cyan-fg">[INFO]: Generating final set of reports...</span>
<span class="ansi-cyan-fg">[INFO]: Created manufacturability report at &#39;OpenLane/designs/adder1/runs/RUN_2022.05.25_22.30.33/reports/manufacturability.rpt&#39;.</span>
<span class="ansi-cyan-fg">[INFO]: Created metrics report at &#39;OpenLane/designs/adder1/runs/RUN_2022.05.25_22.30.33/reports/metrics.csv&#39;.</span>
<span class="ansi-cyan-fg">[INFO]: There are no max slew violations in the design at the typical corner.</span>
<span class="ansi-cyan-fg">[INFO]: There are no hold violations in the design at the typical corner.</span>
<span class="ansi-red-fg">[ERROR]: There are setup violations in the design at the typical corner. Please refer to &#39;OpenLane/designs/adder1/runs/RUN_2022.05.25_22.30.33/reports/signoff/23-rcx_sta.max.rpt&#39;.</span>
<span class="ansi-cyan-fg">[INFO]: Generating final set of reports...</span>
<span class="ansi-cyan-fg">[INFO]: Created manufacturability report at &#39;OpenLane/designs/adder1/runs/RUN_2022.05.25_22.30.33/reports/manufacturability.rpt&#39;.</span>
<span class="ansi-cyan-fg">[INFO]: Created metrics report at &#39;OpenLane/designs/adder1/runs/RUN_2022.05.25_22.30.33/reports/metrics.csv&#39;.</span>
<span class="ansi-cyan-fg">[INFO]: Saving runtime environment...</span>
<span class="ansi-red-fg">[ERROR]: Flow failed.</span>
<span class="ansi-cyan-fg">[INFO]: The failure may have been because of the following warnings:</span>
[WARNING]: OpenLane may not function properly: Failed to compare PDKs.
Malformed .config/nodeinfo.json.
Traceback (most recent call last):
  File &#34;/content/OpenLane/dependencies/verify_versions.py&#34;, line 119, in verify_versions
    config = json.loads(config_str)
  File &#34;/usr/local/lib/python3.7/json/__init__.py&#34;, line 348, in loads
    return _default_decoder.decode(s)
  File &#34;/usr/local/lib/python3.7/json/decoder.py&#34;, line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File &#34;/usr/local/lib/python3.7/json/decoder.py&#34;, line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Expecting &#39;,&#39; delimiter: line 41 column 5 (char 1101)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/content/OpenLane/dependencies/verify_versions.py&#34;, line 130, in verify_versions
    raise Exception(&#34;Malformed .config/nodeinfo.json.&#34;)
Exception: Malformed .config/nodeinfo.json.

[WARNING]: Current core area is too small for a power grid. The power grid will be minimized.


    while executing
&#34;flow_fail&#34;
    (procedure &#34;check_setup_violations&#34; line 18)
    invoked from within
&#34;check_setup_violations -report_file $setup_report -corner &#34;typical&#34; -quit_on_vios [expr $::env(QUIT_ON_TIMING_VIOLATIONS) &amp;&amp; $::env(QUIT_ON_HOLD_VIOLA...&#34;
    (procedure &#34;check_timing_violations&#34; line 16)
    invoked from within
&#34;check_timing_violations&#34;
    (procedure &#34;run_non_interactive_mode&#34; line 86)
    invoked from within
&#34;run_non_interactive_mode {*}$argv&#34;
    invoked from within
&#34;if { [info exists flags_map(-interactive)] || [info exists flags_map(-it)] } {
        if { [info exists arg_values(-file)] } {
                run_file [file normalize $a...&#34;
    (file &#34;/content/OpenLane/flow.tcl&#34; line 427)
</pre></div></div>
</div>
</section>
<section id="Visualize-the-final-layout">
<h3>Visualize the final layout<a class="headerlink" href="#Visualize-the-final-layout" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import pathlib
import gdstk
from IPython.display import SVG

gdss = sorted(pathlib.Path(&#39;OpenLane/designs/adder1/runs&#39;).glob(&#39;*/results/final/gds/*.gds&#39;))
library = gdstk.read_gds(gdss[0])
top_cells = library.top_level()
top_cells[0].write_svg(&#39;adder1.svg&#39;)
SVG(&#39;adder1.svg&#39;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_hardware_addition_250_0.svg" src="../_images/notebooks_hardware_addition_250_0.svg" /></div>
</div>
</section>
<section id="Copy-OpenLane-results-to-adder_networks-repo,-for-easy-parsing">
<h3>Copy OpenLane results to adder_networks repo, for easy parsing<a class="headerlink" href="#Copy-OpenLane-results-to-adder_networks-repo,-for-easy-parsing" title="Permalink to this heading">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!mkdir -p adder_networks/adders
!mkdir -p adder_networks/adders/32bit
!mkdir -p adder_networks/adders/32bit/reports
!rm -rf adder_networks/adders/32bit/reports/sky130_fd_sc_hd/adder1
!cp -r OpenLane/designs/adder1/runs/*/reports/ adder_networks/adders/32bit/reports/sky130_fd_sc_hd/adder1/
</pre></div>
</div>
</div>
</section>
<section id="View-results">
<h3>View results<a class="headerlink" href="#View-results" title="Permalink to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!cd adder_networks &amp;&amp; python3 scripts/parse.py --width 32 --names &quot;adder1&quot; --target_density=&quot;40%&quot;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Width (# of bits);Adder architecture;Target density;Std Cell count;Worst path delay;Maximum frequency;Area;Power;Energy;Achieved density;Worst path delay;Maximum frequency;Area;Power;Energy
32;Sklansky;40%;258;2.28 ns;439 MHz;3,373 µm²;2,190 µW;4,993 fJ;76%;1.90 ns;526 MHz;1,836 µm²;1,230 µW;2,337 fJ

</pre></div></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Teodor-Dumitru Ene.</p>
  </div>Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/buildthedocs/sphinx.theme">theme</a>
    provided by <a href="https://buildthedocs.github.io">Build the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>